(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3394],{63606:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(87462),r=n(67294),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},o=n(13401),l=r.forwardRef(function(e,t){return r.createElement(o.Z,(0,a.Z)({},e,{ref:t,icon:i}))})},68795:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(87462),r=n(67294),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},o=n(13401),l=r.forwardRef(function(e,t){return r.createElement(o.Z,(0,a.Z)({},e,{ref:t,icon:i}))})},8745:function(e,t,n){"use strict";n.d(t,{i:function(){return l}});var a=n(67294),r=n(21770),i=n(28459),o=n(53124);function l(e){return t=>a.createElement(i.ZP,{theme:{token:{motion:!1,zIndexPopupBase:0}}},a.createElement(e,Object.assign({},t)))}t.Z=(e,t,n,i)=>l(l=>{let{prefixCls:s,style:u}=l,c=a.useRef(null),[d,m]=a.useState(0),[v,f]=a.useState(0),[p,h]=(0,r.Z)(!1,{value:l.open}),{getPrefixCls:_}=a.useContext(o.E_),y=_(t||"select",s);a.useEffect(()=>{if(h(!0),"undefined"!=typeof ResizeObserver){let e=new ResizeObserver(e=>{let t=e[0].target;m(t.offsetHeight+8),f(t.offsetWidth)}),t=setInterval(()=>{var a;let r=n?`.${n(y)}`:`.${y}-dropdown`,i=null===(a=c.current)||void 0===a?void 0:a.querySelector(r);i&&(clearInterval(t),e.observe(i))},10);return()=>{clearInterval(t),e.disconnect()}}},[]);let g=Object.assign(Object.assign({},l),{style:Object.assign(Object.assign({},u),{margin:0}),open:p,visible:p,getPopupContainer:()=>c.current});return i&&(g=i(g)),a.createElement("div",{ref:c,style:{paddingBottom:d,position:"relative",minWidth:v}},a.createElement(e,Object.assign({},g)))})},33507:function(e,t){"use strict";t.Z=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}})},33297:function(e,t,n){"use strict";n.d(t,{Fm:function(){return f}});var a=n(39302),r=n(93590);let i=new a.E4("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),o=new a.E4("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),l=new a.E4("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),s=new a.E4("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),u=new a.E4("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),c=new a.E4("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),d=new a.E4("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),m=new a.E4("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),v={"move-up":{inKeyframes:d,outKeyframes:m},"move-down":{inKeyframes:i,outKeyframes:o},"move-left":{inKeyframes:l,outKeyframes:s},"move-right":{inKeyframes:u,outKeyframes:c}},f=(e,t)=>{let{antCls:n}=e,a=`${n}-${t}`,{inKeyframes:i,outKeyframes:o}=v[t];return[(0,r.R)(a,i,o,e.motionDurationMid),{[`
        ${a}-enter,
        ${a}-appear
      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${a}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]}},58264:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/construct/app/extra/components/NativeApp",function(){return n(76054)}])},48218:function(e,t,n){"use strict";var a=n(85893),r=n(82353),i=n(16165),o=n(67294);t.Z=e=>{let{width:t,height:n,scene:l}=e,s=(0,o.useCallback)(()=>{switch(l){case"chat_knowledge":return r.je;case"chat_with_db_execute":return r.zM;case"chat_excel":return r.DL;case"chat_with_db_qa":case"chat_dba":return r.RD;case"chat_dashboard":return r.In;case"chat_agent":return r.si;case"chat_normal":return r.O7;default:return}},[l]);return(0,a.jsx)(i.Z,{className:"w-".concat(t||7," h-").concat(n||7),component:s()})}},76054:function(e,t,n){"use strict";n.r(t);var a=n(85893),r=n(76212),i=n(48218),o=n(65654),l=n(99859),s=n(83062),u=n(34041),c=n(92797),d=n(93967),m=n.n(d),v=n(67294),f=n(67421);t.default=e=>{var t,n;let{classNames:d,initValue:p,updateData:h}=e,{t:_}=(0,f.$G)(),[y]=l.default.useForm(),g=l.default.useWatch("chat_scene",y),w=l.default.useWatch("bind_value",y),x=l.default.useWatch("model",y),O=l.default.useWatch("temperature",y),b=l.default.useWatch("max_new_tokens",y),{team_context:E,param_need:j}=p||{},{data:C,loading:I}=(0,o.Z)(async()=>{var e,t,n,a;let i=await Promise.all([(0,r.Vx)((0,r.tM)()),(0,r.Vx)((0,r.m9)("priority"))]),[o,l]=i;return y.setFieldValue("chat_scene",null==E?void 0:E.chat_scene),y.setFieldValue("model",null===(e=null==j?void 0:j.find(e=>"model"===e.type))||void 0===e?void 0:e.value),y.setFieldValue("temperature",null===(t=null==j?void 0:j.find(e=>"temperature"===e.type))||void 0===t?void 0:t.value),y.setFieldValue("max_new_tokens",null===(n=null==j?void 0:j.find(e=>"max_new_tokens"===e.type))||void 0===n?void 0:n.value),await Z((null===(a=null==j?void 0:j.find(e=>"resource"===e.type))||void 0===a?void 0:a.value)||""),[o,l]}),{data:M,loading:k,run:Z}=(0,o.Z)(async e=>{var t,n,a;let[,i]=await (0,r.Vx)((0,r.RX)({type:e}));return g===(null==E?void 0:E.chat_scene)&&(null===(t=null==j?void 0:j.find(e=>"resource"===e.type))||void 0===t?void 0:t.bind_value)&&y.setFieldsValue({bind_value:null===(n=null==j?void 0:j.find(e=>"resource"===e.type))||void 0===n?void 0:n.bind_value}),null!==(a=null==i?void 0:i.map(e=>({...e,value:e.key})))&&void 0!==a?a:[]},{manual:!0}),$=(0,v.useMemo)(()=>{var e;let t=null==C?void 0:null===(e=C[0])||void 0===e?void 0:e[1];return(null==t?void 0:t.map(e=>{var t;return{...e,label:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(i.Z,{width:4,height:4,scene:e.chat_scene}),(0,a.jsx)(s.Z,{title:"资源类型".concat(null===(t=e.param_need.find(e=>"resource"===e.type))||void 0===t?void 0:t.value),children:(0,a.jsx)("span",{className:"text-[#525964] dark:text-[rgba(255,255,255,0.65)]  ml-1",children:e.scene_name})})]}),value:e.chat_scene}}))||[]},[C]);return(0,v.useEffect)(()=>{var e,t,n,a;let r=y.getFieldsValue();h([I,[{chat_scene:r.chat_scene,scene_name:null===(e=$.find(e=>e.chat_scene===r.chat_scene))||void 0===e?void 0:e.scene_name},[{type:"model",value:r.model},{type:"temperature",value:r.temperature},{type:"max_new_tokens",value:r.max_new_tokens},{type:"resource",value:null===(t=null===(n=$.find(e=>e.chat_scene===r.chat_scene))||void 0===n?void 0:null===(a=n.param_need)||void 0===a?void 0:a.find(e=>"resource"===e.type))||void 0===t?void 0:t.value,bind_value:r.bind_value}]]])},[y,g,w,x,O,b,h,$,I]),(0,v.useEffect)(()=>{var e,t,n,a,r;let i=null===(e=null===(t=null==C?void 0:null===(n=C[0])||void 0===n?void 0:null===(a=n[1])||void 0===a?void 0:a.find(e=>e.chat_scene===g))||void 0===t?void 0:null===(r=t.param_need)||void 0===r?void 0:r.find(e=>"resource"===e.type))||void 0===e?void 0:e.value;Z(i||"")},[g,C,Z]),(0,a.jsx)("div",{className:m()(d),children:(0,a.jsxs)(l.default,{form:y,autoComplete:"off",style:{width:"100%"},labelCol:{span:3},wrapperCol:{span:21},children:[(0,a.jsx)(l.default.Item,{label:_("native_type"),tooltip:!0,name:"chat_scene",children:(0,a.jsx)(u.default,{className:"w-1/2",options:$,placeholder:_("app_type_select"),onChange:()=>y.setFieldsValue({bind_value:void 0})})}),"chat_excel"!==g&&(0,a.jsx)(l.default.Item,{label:_("Arguments"),name:"bind_value",children:(0,a.jsx)(u.default,{placeholder:_("please_select_param"),allowClear:!0,className:"w-1/2",options:M,loading:k})}),(0,a.jsx)(l.default.Item,{label:_("model"),tooltip:!0,name:"model",children:(0,a.jsx)(u.default,{placeholder:_("please_select_model"),allowClear:!0,options:null==C?void 0:null===(t=C[1])||void 0===t?void 0:null===(n=t[1])||void 0===n?void 0:n.map(e=>({label:e,value:e})),className:"w-1/2"})}),(0,a.jsx)(l.default.Item,{label:_("temperature"),tooltip:!0,name:"temperature",children:(0,a.jsx)(c.Z,{className:"w-1/5 h-8",max:1,min:0,step:.1,placeholder:_("please_input_temperature")})}),(0,a.jsx)(l.default.Item,{label:_("max_new_tokens"),tooltip:!0,name:"max_new_tokens",children:(0,a.jsx)(c.Z,{className:"w-1/5 h-8",min:1,placeholder:_("please_input_max_new_tokens")})})]})})}}},function(e){e.O(0,[2648,3791,4041,9859,2797,9774,2888,179],function(){return e(e.s=58264)}),_N_E=e.O()}]);