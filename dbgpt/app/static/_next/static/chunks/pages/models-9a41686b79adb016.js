(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8495],{66309:function(e,l,r){"use strict";r.d(l,{Z:function(){return O}});var t=r(67294),o=r(97937),n=r(93967),a=r.n(n),s=r(98787),c=r(69760),i=r(45353),d=r(53124),u=r(39302),m=r(10274),p=r(14747),h=r(45503),f=r(91945);let x=e=>{let{paddingXXS:l,lineWidth:r,tagPaddingHorizontal:t,componentCls:o,calc:n}=e,a=n(t).sub(r).equal(),s=n(l).sub(r).equal();return{[o]:Object.assign(Object.assign({},(0,p.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:a,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,u.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${o}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${o}-close-icon`]:{marginInlineStart:s,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${o}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${o}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:a}}),[`${o}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},g=e=>{let{lineWidth:l,fontSizeIcon:r,calc:t}=e,o=e.fontSizeSM,n=(0,h.TS)(e,{tagFontSize:o,tagLineHeight:(0,u.bf)(t(e.lineHeightSM).mul(o).equal()),tagIconSize:t(r).sub(t(l).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg});return n},b=e=>({defaultBg:new m.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var v=(0,f.I$)("Tag",e=>{let l=g(e);return x(l)},b),j=function(e,l){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&0>l.indexOf(t)&&(r[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)0>l.indexOf(t[o])&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};let y=t.forwardRef((e,l)=>{let{prefixCls:r,style:o,className:n,checked:s,onChange:c,onClick:i}=e,u=j(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:m,tag:p}=t.useContext(d.E_),h=m("tag",r),[f,x,g]=v(h),b=a()(h,`${h}-checkable`,{[`${h}-checkable-checked`]:s},null==p?void 0:p.className,n,x,g);return f(t.createElement("span",Object.assign({},u,{ref:l,style:Object.assign(Object.assign({},o),null==p?void 0:p.style),className:b,onClick:e=>{null==c||c(!s),null==i||i(e)}})))});var C=r(98719);let w=e=>(0,C.Z)(e,(l,r)=>{let{textColor:t,lightBorderColor:o,lightColor:n,darkColor:a}=r;return{[`${e.componentCls}${e.componentCls}-${l}`]:{color:t,background:n,borderColor:o,"&-inverse":{color:e.colorTextLightSolid,background:a,borderColor:a},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var k=(0,f.bk)(["Tag","preset"],e=>{let l=g(e);return w(l)},b);let _=(e,l,r)=>{let t=function(e){if("string"!=typeof e)return e;let l=e.charAt(0).toUpperCase()+e.slice(1);return l}(r);return{[`${e.componentCls}${e.componentCls}-${l}`]:{color:e[`color${r}`],background:e[`color${t}Bg`],borderColor:e[`color${t}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var N=(0,f.bk)(["Tag","status"],e=>{let l=g(e);return[_(l,"success","Success"),_(l,"processing","Info"),_(l,"error","Error"),_(l,"warning","Warning")]},b),$=function(e,l){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&0>l.indexOf(t)&&(r[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)0>l.indexOf(t[o])&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};let S=t.forwardRef((e,l)=>{let{prefixCls:r,className:n,rootClassName:u,style:m,children:p,icon:h,color:f,onClose:x,closeIcon:g,closable:b,bordered:j=!0}=e,y=$(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:C,direction:w,tag:_}=t.useContext(d.E_),[S,O]=t.useState(!0);t.useEffect(()=>{"visible"in y&&O(y.visible)},[y.visible]);let Z=(0,s.o2)(f),E=(0,s.yT)(f),P=Z||E,T=Object.assign(Object.assign({backgroundColor:f&&!P?f:void 0},null==_?void 0:_.style),m),H=C("tag",r),[B,I,M]=v(H),z=a()(H,null==_?void 0:_.className,{[`${H}-${f}`]:P,[`${H}-has-color`]:f&&!P,[`${H}-hidden`]:!S,[`${H}-rtl`]:"rtl"===w,[`${H}-borderless`]:!j},n,u,I,M),F=e=>{e.stopPropagation(),null==x||x(e),e.defaultPrevented||O(!1)},[,V]=(0,c.Z)(b,null!=g?g:null==_?void 0:_.closeIcon,e=>null===e?t.createElement(o.Z,{className:`${H}-close-icon`,onClick:F}):t.createElement("span",{className:`${H}-close-icon`,onClick:F},e),null,!1),q="function"==typeof y.onClick||p&&"a"===p.type,A=h||null,L=A?t.createElement(t.Fragment,null,A,p&&t.createElement("span",null,p)):p,D=t.createElement("span",Object.assign({},y,{ref:l,className:z,style:T}),L,V,Z&&t.createElement(k,{key:"preset",prefixCls:H}),E&&t.createElement(N,{key:"status",prefixCls:H}));return B(q?t.createElement(i.Z,{component:"Tag"},D):D)});S.CheckableTag=y;var O=S},80476:function(e,l,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/models",function(){return r(30245)}])},81799:function(e,l,r){"use strict";r.d(l,{A:function(){return u}});var t=r(85893),o=r(41468),n=r(66184),a=r(19284),s=r(25675),c=r.n(s),i=r(67294),d=r(67421);function u(e,l){var r;let{width:o,height:n}=l||{};return e?(0,t.jsx)(c(),{className:"rounded-full border border-gray-200 object-contain bg-white inline-block",width:o||24,height:n||24,src:(null===(r=a.H[e])||void 0===r?void 0:r.icon)||"/models/huggingface.svg",alt:"llm"}):null}l.Z=function(e){let{onChange:l}=e,{t:r}=(0,d.$G)(),{modelList:s,model:c}=(0,i.useContext)(o.p);return!s||s.length<=0?null:(0,t.jsx)(n.default,{value:c,placeholder:r("choose_model"),className:"w-52",onChange:e=>{null==l||l(e)},children:s.map(e=>{var l;return(0,t.jsx)(n.default.Option,{children:(0,t.jsxs)("div",{className:"flex items-center",children:[u(e),(0,t.jsx)("span",{className:"ml-2",children:(null===(l=a.H[e])||void 0===l?void 0:l.label)||e})]})},e)})})}},26892:function(e,l,r){"use strict";var t=r(85893),o=r(67294),n=r(66309),a=r(83062),s=r(93967),c=r.n(s),i=r(25675),d=r.n(i);l.Z=(0,o.memo)(function(e){let{icon:l,iconBorder:r=!0,title:s,desc:i,tags:u,children:m,disabled:p,operations:h,className:f,...x}=e,g=(0,o.useMemo)(()=>l?"string"==typeof l?(0,t.jsx)(d(),{className:c()("w-11 h-11 rounded-full mr-4 object-contain bg-white",{"border border-gray-200":r}),width:44,height:44,src:l,alt:s}):l:null,[l]),b=(0,o.useMemo)(()=>u&&u.length?(0,t.jsx)("div",{className:"flex items-center mt-1 flex-wrap",children:u.map((e,l)=>{var r;return"string"==typeof e?(0,t.jsx)(n.Z,{className:"text-xs",bordered:!1,color:"default",children:e},l):(0,t.jsx)(n.Z,{className:"text-xs",bordered:null!==(r=e.border)&&void 0!==r&&r,color:e.color,children:e.text},l)})}):null,[u]);return(0,t.jsxs)("div",{className:c()("group/card relative flex flex-col w-72 rounded justify-between text-black bg-white shadow-[0_8px_16px_-10px_rgba(100,100,100,.08)] hover:shadow-[0_14px_20px_-10px_rgba(100,100,100,.15)] dark:bg-[#232734] dark:text-white dark:hover:border-white transition-[transfrom_shadow] duration-300 hover:-translate-y-1 min-h-fit",{"grayscale cursor-no-drop":p,"cursor-pointer":!p&&!!x.onClick},f),...x,children:[(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[g,(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("h2",{className:"text-sm font-semibold",children:s}),b]})]}),i&&(0,t.jsx)(a.Z,{title:i,children:(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-500 font-normal line-clamp-2",children:i})})]}),(0,t.jsxs)("div",{children:[m,h&&!!h.length&&(0,t.jsx)("div",{className:"flex flex-wrap items-center justify-center border-t border-solid border-gray-100 dark:border-theme-dark",children:h.map((e,l)=>(0,t.jsx)(a.Z,{title:e.label,children:(0,t.jsxs)("div",{className:"relative flex flex-1 items-center justify-center h-11 text-gray-400 hover:text-blue-500 transition-colors duration-300 cursor-pointer",onClick:l=>{var r;l.stopPropagation(),null===(r=e.onClick)||void 0===r||r.call(e)},children:[e.children,l<h.length-1&&(0,t.jsx)("div",{className:"w-[1px] h-6 absolute top-2 right-0 bg-gray-100 rounded dark:bg-theme-dark"})]})},"operation-".concat(l)))})]})]})})},30245:function(e,l,r){"use strict";r.r(l),r.d(l,{default:function(){return O}});var t=r(85893),o=r(89182),n=r(67294),a=r(67421),s=r(2453),c=r(30381),i=r.n(c),d=r(26892),u=r(87462),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"},p=r(84089),h=n.forwardRef(function(e,l){return n.createElement(p.Z,(0,u.Z)({},e,{ref:l,icon:m}))}),f=r(98399),x=function(e){var l;let{info:r}=e,{t:c}=(0,a.$G)(),[u,m]=(0,n.useState)(!1);async function p(e){if(u)return;m(!0);let[,l]=await (0,o.Vx)((0,o.kU)({host:e.host,port:e.port,model:e.model_name,worker_type:e.model_type,params:{}}));m(!1),!0===l&&s.ZP.success(c("stop_model_success"))}return(0,t.jsx)(d.Z,{className:"w-96",title:r.model_name,tags:[{text:r.healthy?"Healthy":"Unhealthy",color:r.healthy?"green":"red",border:!0},r.model_type],icon:(null===(l=f.Hf[r.model_name])||void 0===l?void 0:l.icon)||"/models/huggingface.svg",operations:[{children:(0,t.jsxs)("div",{children:[(0,t.jsx)(h,{className:"mr-2"}),(0,t.jsx)("span",{className:"text-sm",children:"Stop Model"})]}),onClick:()=>{p(r)}}],children:(0,t.jsxs)("div",{className:"flex flex-col gap-1 px-4 pb-4 text-xs",children:[(0,t.jsxs)("div",{className:"flex overflow-hidden",children:[(0,t.jsx)("p",{className:"w-28 text-gray-500 mr-2",children:"Host:"}),(0,t.jsx)("p",{className:"flex-1 text-ellipsis",children:r.host})]}),(0,t.jsxs)("div",{className:"flex overflow-hidden",children:[(0,t.jsx)("p",{className:"w-28 text-gray-500 mr-2",children:"Manage Host:"}),(0,t.jsxs)("p",{className:"flex-1 text-ellipsis",children:[r.manager_host,":",r.manager_port]})]}),(0,t.jsxs)("div",{className:"flex overflow-hidden",children:[(0,t.jsx)("p",{className:"w-28 text-gray-500 mr-2",children:"Last Heart Beat:"}),(0,t.jsx)("p",{className:"flex-1 text-ellipsis",children:i()(r.last_heartbeat).format("YYYY-MM-DD")})]})]})})},g=r(66184),b=r(23323),v=r(83062),j=r(14726),y=r(81799),C=r(79531),w=r(10418),k=r(84567),_=function(e){let{params:l,form:r}=e;return((0,n.useEffect)(()=>{if(l){let e={};l.forEach(l=>{e[l.param_name]=l.default_value}),r.setFieldsValue(e)}},[l,r]),!l||(null==l?void 0:l.length)<1)?null:(0,t.jsx)(t.Fragment,{children:null==l?void 0:l.map(e=>{var l;return(0,t.jsx)(b.Z.Item,{label:(0,t.jsx)("p",{className:"whitespace-normal overflow-wrap-break-word",children:(null===(l=e.description)||void 0===l?void 0:l.length)>20?e.param_name:e.description}),name:e.param_name,initialValue:e.default_value,valuePropName:"bool"===e.param_type?"checked":"value",tooltip:e.description,rules:[{required:e.required,message:"Please input ".concat(e.description)}],children:function(e){switch(e.param_type){case"str":return(0,t.jsx)(C.default,{});case"int":return(0,t.jsx)(w.Z,{});case"bool":return(0,t.jsx)(k.Z,{})}}(e)},e.param_name)})})};let{Option:N}=g.default;var $=function(e){let{onCancel:l,onSuccess:r}=e,{t:c}=(0,a.$G)(),[i,d]=(0,n.useState)([]),[u,m]=(0,n.useState)(),[p,h]=(0,n.useState)(null),[f,x]=(0,n.useState)(!1),[C]=b.Z.useForm();async function w(){let[,e]=await (0,o.Vx)((0,o.xv)());e&&e.length&&d(e.sort((e,l)=>e.enabled&&!l.enabled?-1:!e.enabled&&l.enabled?1:e.model.localeCompare(l.model))),d(e)}async function k(e){if(!u)return;delete e.model,x(!0);let[,,l]=await (0,o.Vx)((0,o.vA)({host:u.host,port:u.port,model:u.model,worker_type:null==u?void 0:u.worker_type,params:e}));if(x(!1),(null==l?void 0:l.success)===!0)return r&&r(),s.ZP.success(c("start_model_success"))}return(0,n.useEffect)(()=>{w()},[]),(0,t.jsxs)(b.Z,{labelCol:{span:8},wrapperCol:{span:16},onFinish:k,form:C,children:[(0,t.jsx)(b.Z.Item,{label:"Model",name:"model",rules:[{required:!0,message:c("model_select_tips")}],children:(0,t.jsx)(g.default,{showSearch:!0,onChange:function(e,l){m(l.model),h(l.model.params)},children:null==i?void 0:i.map(e=>(0,t.jsxs)(N,{value:e.model,label:e.model,model:e,disabled:!e.enabled,children:[(0,y.A)(e.model),(0,t.jsx)(v.Z,{title:e.enabled?e.model:c("download_model_tip"),children:(0,t.jsx)("span",{className:"ml-2",children:e.model})}),(0,t.jsx)(v.Z,{title:e.enabled?"".concat(e.host,":").concat(e.port):c("download_model_tip"),children:(0,t.jsxs)("p",{className:"inline-block absolute right-4",children:[(0,t.jsxs)("span",{children:[e.host,":"]}),(0,t.jsx)("span",{children:e.port})]})})]},e.model))})}),(0,t.jsx)(_,{params:p,form:C}),(0,t.jsxs)("div",{className:"flex justify-center",children:[(0,t.jsx)(j.ZP,{type:"primary",htmlType:"submit",loading:f,children:c("submit")}),(0,t.jsx)(j.ZP,{className:"ml-10",onClick:l,children:"Cancel"})]})]})},S=r(17788),O=function(){let{t:e}=(0,a.$G)(),[l,r]=(0,n.useState)([]),[s,c]=(0,n.useState)(!1);async function i(){let[,e]=await (0,o.Vx)((0,o.fZ)());r(null!=e?e:[])}return(0,n.useEffect)(()=>{i()},[]),(0,t.jsxs)("div",{className:"p-4 md:p-6 overflow-y-auto",children:[(0,t.jsx)(j.ZP,{className:"mb-4",type:"primary",onClick:()=>{c(!0)},children:e("create_model")}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 md:gap-4",children:l.map(e=>(0,t.jsx)(x,{info:e},e.model_name))}),(0,t.jsx)(S.default,{width:800,open:s,title:e("create_model"),onCancel:()=>{c(!1)},footer:null,children:(0,t.jsx)($,{onCancel:()=>{c(!1)},onSuccess:()=>{c(!1),i()}})})]})}}},function(e){e.O(0,[4885,6274,5503,3323,6184,4567,418,9774,2888,179],function(){return e(e.s=80476)}),_N_E=e.O()}]);