(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[12],{27547:function(e,t,n){"use strict";var o=n(64836);t.Z=void 0;var i=o(n(64938)),a=n(85893),r=(0,i.default)((0,a.jsx)("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91zM4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29zM20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24v-1.57zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z"}),"Groups");t.Z=r},15398:function(e,t,n){"use strict";var o=n(64836);t.Z=void 0;var i=o(n(64938)),a=n(85893),r=(0,i.default)((0,a.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");t.Z=r},64938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.createSvgIcon}});var o=n(52869)},52869:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return i.Z},createChainedFunction:function(){return a},createSvgIcon:function(){return r.Z},debounce:function(){return s},deprecatedPropType:function(){return l},isMuiElement:function(){return c},ownerDocument:function(){return u},ownerWindow:function(){return p},requirePropFactory:function(){return m},setRef:function(){return d},unstable_ClassNameGenerator:function(){return b},unstable_useEnhancedEffect:function(){return f},unstable_useId:function(){return h},unsupportedProp:function(){return g},useControlled:function(){return S},useEventCallback:function(){return v},useForkRef:function(){return y},useIsFocusVisible:function(){return x}});var o=n(37078),i=n(98216),a=function(...e){return e.reduce((e,t)=>null==t?e:function(...n){e.apply(this,n),t.apply(this,n)},()=>{})},r=n(34678),s=n(39336).Z,l=function(e,t){return()=>null},c=n(18719).Z,u=n(82690).Z,p=n(74161).Z;n(87462);var m=function(e,t){return()=>null},d=n(7960).Z,f=n(73546).Z,h=n(92996).Z,g=function(e,t,n,o,i){return null},S=n(19032).Z,v=n(59948).Z,y=n(33703).Z,x=n(99962).Z;let b={configure:e=>{o.Z.configure(e)}}},57838:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var o=n(67294);function i(){let[,e]=o.useReducer(e=>e+1,0);return e}},75081:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var o=n(94184),i=n.n(o),a=n(98423),r=n(67294),s=n(96159),l=n(53124),c=n(23183),u=n(14747),p=n(67968),m=n(45503);let d=new c.E4("antSpinMove",{to:{opacity:1}}),f=new c.E4("antRotate",{to:{transform:"rotate(405deg)"}}),h=e=>({[`${e.componentCls}`]:Object.assign(Object.assign({},(0,u.Wf)(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":{position:"relative",[`> div > ${e.componentCls}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${e.componentCls}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-e.spinDotSize/2},[`${e.componentCls}-text`]:{position:"absolute",top:"50%",width:"100%",paddingTop:(e.spinDotSize-e.fontSize)/2+2,textShadow:`0 1px 2px ${e.colorBgContainer}`,fontSize:e.fontSize},[`&${e.componentCls}-show-text ${e.componentCls}-dot`]:{marginTop:-(e.spinDotSize/2)-10},"&-sm":{[`${e.componentCls}-dot`]:{margin:-e.spinDotSizeSM/2},[`${e.componentCls}-text`]:{paddingTop:(e.spinDotSizeSM-e.fontSize)/2+2},[`&${e.componentCls}-show-text ${e.componentCls}-dot`]:{marginTop:-(e.spinDotSizeSM/2)-10}},"&-lg":{[`${e.componentCls}-dot`]:{margin:-(e.spinDotSizeLG/2)},[`${e.componentCls}-text`]:{paddingTop:(e.spinDotSizeLG-e.fontSize)/2+2},[`&${e.componentCls}-show-text ${e.componentCls}-dot`]:{marginTop:-(e.spinDotSizeLG/2)-10}}},[`${e.componentCls}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e.componentCls}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${e.componentCls}-dot`]:{position:"relative",display:"inline-block",fontSize:e.spinDotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(e.spinDotSize-e.marginXXS/2)/2,height:(e.spinDotSize-e.marginXXS/2)/2,backgroundColor:e.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:d,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:f,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${e.componentCls}-dot`]:{fontSize:e.spinDotSizeSM,i:{width:(e.spinDotSizeSM-e.marginXXS/2)/2,height:(e.spinDotSizeSM-e.marginXXS/2)/2}},[`&-lg ${e.componentCls}-dot`]:{fontSize:e.spinDotSizeLG,i:{width:(e.spinDotSizeLG-e.marginXXS)/2,height:(e.spinDotSizeLG-e.marginXXS)/2}},[`&${e.componentCls}-show-text ${e.componentCls}-text`]:{display:"block"}})});var g=(0,p.Z)("Spin",e=>{let t=(0,m.TS)(e,{spinDotDefault:e.colorTextDescription,spinDotSize:e.controlHeightLG/2,spinDotSizeSM:.35*e.controlHeightLG,spinDotSizeLG:e.controlHeight});return[h(t)]},{contentHeight:400}),S=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)0>t.indexOf(o[i])&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]]);return n};let v=null,y=e=>{let{spinPrefixCls:t,spinning:n=!0,delay:o=0,className:c,rootClassName:u,size:p="default",tip:m,wrapperClassName:d,style:f,children:h,hashId:g}=e,y=S(e,["spinPrefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","hashId"]),[x,b]=r.useState(()=>n&&(!n||!o||!!isNaN(Number(o))));r.useEffect(()=>{if(n){var e;let t=function(e,t,n){var o,i=n||{},a=i.noTrailing,r=void 0!==a&&a,s=i.noLeading,l=void 0!==s&&s,c=i.debounceMode,u=void 0===c?void 0:c,p=!1,m=0;function d(){o&&clearTimeout(o)}function f(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=this,c=Date.now()-m;function f(){m=Date.now(),t.apply(s,i)}function h(){o=void 0}!p&&(l||!u||o||f(),d(),void 0===u&&c>e?l?(m=Date.now(),r||(o=setTimeout(u?h:f,e))):f():!0!==r&&(o=setTimeout(u?h:f,void 0===u?e-c:e)))}return f.cancel=function(e){var t=(e||{}).upcomingOnly;d(),p=!(void 0!==t&&t)},f}(o,()=>{b(!0)},{debounceMode:!1!==(void 0!==(e=({}).atBegin)&&e)});return t(),()=>{var e;null===(e=null==t?void 0:t.cancel)||void 0===e||e.call(t)}}b(!1)},[o,n]);let _=r.useMemo(()=>void 0!==h,[h]),{direction:C,spin:w}=r.useContext(l.E_),I=i()(t,null==w?void 0:w.className,{[`${t}-sm`]:"small"===p,[`${t}-lg`]:"large"===p,[`${t}-spinning`]:x,[`${t}-show-text`]:!!m,[`${t}-rtl`]:"rtl"===C},c,u,g),$=i()(`${t}-container`,{[`${t}-blur`]:x}),z=(0,a.Z)(y,["indicator","prefixCls"]),j=Object.assign(Object.assign({},null==w?void 0:w.style),f),P=r.createElement("div",Object.assign({},z,{style:j,className:I,"aria-live":"polite","aria-busy":x}),function(e,t){let{indicator:n}=t,o=`${e}-dot`;return null===n?null:(0,s.l$)(n)?(0,s.Tm)(n,{className:i()(n.props.className,o)}):(0,s.l$)(v)?(0,s.Tm)(v,{className:i()(v.props.className,o)}):r.createElement("span",{className:i()(o,`${e}-dot-spin`)},r.createElement("i",{className:`${e}-dot-item`,key:1}),r.createElement("i",{className:`${e}-dot-item`,key:2}),r.createElement("i",{className:`${e}-dot-item`,key:3}),r.createElement("i",{className:`${e}-dot-item`,key:4}))}(t,e),m&&_?r.createElement("div",{className:`${t}-text`},m):null);return _?r.createElement("div",Object.assign({},z,{className:i()(`${t}-nested-loading`,d,g)}),x&&r.createElement("div",{key:"loading"},P),r.createElement("div",{className:$,key:"container"},h)):P},x=e=>{let{prefixCls:t}=e,{getPrefixCls:n}=r.useContext(l.E_),o=n("spin",t),[i,a]=g(o),s=Object.assign(Object.assign({},e),{spinPrefixCls:o,hashId:a});return i(r.createElement(y,Object.assign({},s)))};x.setDefaultIndicator=e=>{v=e};var b=x},40534:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/prompt",function(){return n(10519)}])},10519:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var o=n(85893),i=n(67294),a=n(83062),r=n(71577),s=n(82610),l=n(61607),c=n(12069),u=n(24969),p=n(27547),m=n(15398),d=n(67421),f=n(50489),h=n(39479),g=n(75081),S=n(51009),v=n(59566),y=(0,i.forwardRef)(function(e,t){let{t:n}=(0,d.$G)(),[a]=h.Z.useForm(),{prompt:r,onFinish:s,scenes:l}=e,[c,u]=(0,i.useState)(!1);(0,i.useEffect)(()=>{r&&a.setFieldsValue(r)},[]);let p=async()=>{let e=a.getFieldsValue();u(!0),await s(e),u(!1)};return(0,o.jsx)(g.Z,{spinning:c,children:(0,o.jsxs)(h.Z,{form:a,ref:t,name:"prompt-item-".concat((null==r?void 0:r.prompt_name)||"new"),layout:"vertical",className:"mt-4",onFinish:p,children:[(0,o.jsx)(h.Z.Item,{name:"chat_scene",label:n("Prompt_Info_Scene"),rules:[{required:!0,message:n("Please_Input")+n("Prompt_Info_Scene")}],children:(0,o.jsx)(S.default,{options:l})}),(0,o.jsx)(h.Z.Item,{name:"sub_chat_scene",label:n("Prompt_Info_Sub_Scene"),rules:[{required:!0,message:n("Please_Input")+n("Prompt_Info_Sub_Scene")}],children:(0,o.jsx)(v.default,{})}),(0,o.jsx)(h.Z.Item,{name:"prompt_name",label:n("Prompt_Info_Name"),rules:[{required:!0,message:n("Please_Input")+n("Prompt_Info_Name")}],children:(0,o.jsx)(v.default,{disabled:!!r})}),(0,o.jsx)(h.Z.Item,{name:"content",label:n("Prompt_Info_Content"),rules:[{required:!0,message:n("Please_Input")+n("Prompt_Info_Content")}],children:(0,o.jsx)(v.default.TextArea,{rows:6})})]})})});let x=e=>[{label:e("Public")+" Prompts",key:"common",icon:(0,o.jsx)(p.Z,{})},{label:e("Private")+" Prompts",key:"private",icon:(0,o.jsx)(m.Z,{})}],b=(e,t)=>[{title:e("Prompt_Info_Name"),dataIndex:"prompt_name",key:"prompt_name"},{title:e("Prompt_Info_Scene"),dataIndex:"chat_scene",key:"chat_scene"},{title:e("Prompt_Info_Sub_Scene"),dataIndex:"sub_chat_scene",key:"sub_chat_scene"},{title:e("Prompt_Info_Content"),dataIndex:"content",key:"content",render:e=>(0,o.jsx)(a.Z,{placement:"topLeft",title:e,children:e})},{title:e("Operation"),dataIndex:"operate",key:"operate",render:(n,i)=>(0,o.jsx)(r.ZP,{onClick:()=>{t(i)},type:"primary",children:e("Edit")})}];var _=()=>{let{t:e}=(0,d.$G)(),[t,n]=(0,i.useState)("common"),[a,p]=(0,i.useState)(),[m,h]=(0,i.useState)(!1),[g,S]=(0,i.useState)(),[v,_]=(0,i.useState)(!1),[C,w]=(0,i.useState)(),I=(0,i.useRef)(),$=async()=>{h(!0);let[e,n]=await (0,f.Vx)((0,f.xA)({prompt_type:t,current:1,pageSize:1e3,hideOnSinglePage:!0,showQuickJumper:!0}));p(n),h(!1)},z=async()=>{let[,e]=await (0,f.Vx)((0,f.CU)());w(null==e?void 0:e.map(e=>({value:e.chat_scene,label:e.scene_name})))},j=async e=>{g?await (0,f.Vx)((0,f.Fu)({...e,prompt_type:t})):await (0,f.Vx)((0,f.Hy)({...e,prompt_type:t})),$(),P()},P=()=>{_(!1)};return(0,i.useEffect)(()=>{$()},[t]),(0,i.useEffect)(()=>{z()},[]),(0,o.jsxs)("div",{children:[(0,o.jsx)(s.Z,{onClick:e=>{let t=e.key;n(t)},selectedKeys:[t],mode:"horizontal",items:x(e)}),(0,o.jsxs)("div",{className:"px-6 py-4",children:[(0,o.jsxs)("div",{className:"flex flex-row-reverse mb-4",children:[(0,o.jsxs)(r.ZP,{className:"flex items-center",onClick:()=>{_(!0),S(void 0)},children:[(0,o.jsx)(u.Z,{}),e("Add")," Prompts"]}),"common"===t&&(0,o.jsxs)(r.ZP,{className:"mr-2 flex items-center",disabled:!0,children:[(0,o.jsx)(u.Z,{}),e("Add")," Prompts ",e("template")]})]}),(0,o.jsx)(l.Z,{columns:b(e,e=>{S(e),_(!0)}),dataSource:a,loading:m,rowKey:e=>e.prompt_name,scroll:{y:600}})]}),(0,o.jsx)(c.default,{title:"".concat(e(g?"Edit":"Add")," Prompts"),destroyOnClose:!0,open:v,onCancel:P,cancelText:e("cancel"),okText:e("submit"),onOk:()=>{var e;null===(e=I.current)||void 0===e||e.submit()},children:(0,o.jsx)(y,{scenes:C,ref:I,prompt:g,onFinish:j})})]})}}},function(e){e.O(0,[64,479,9,947,837,270,607,774,888,179],function(){return e(e.s=40534)}),_N_E=e.O()}]);