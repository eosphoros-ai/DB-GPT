(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2012],{27547:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var u=r(n(64938)),o=n(85893);t.Z=(0,u.default)((0,o.jsx)("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"}),"Groups")},15398:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var u=r(n(64938)),o=n(85893);t.Z=(0,u.default)((0,o.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")},64938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(27695)},27695:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return u.Z},createChainedFunction:function(){return o},createSvgIcon:function(){return s.Z},debounce:function(){return c},deprecatedPropType:function(){return a},isMuiElement:function(){return i},ownerDocument:function(){return l},ownerWindow:function(){return d},requirePropFactory:function(){return f},setRef:function(){return m},unstable_ClassNameGenerator:function(){return b},unstable_useEnhancedEffect:function(){return p},unstable_useId:function(){return _},unsupportedProp:function(){return x},useControlled:function(){return h},useEventCallback:function(){return Z},useForkRef:function(){return v},useIsFocusVisible:function(){return P}});var r=n(31983),u=n(98216),o=function(...e){return e.reduce((e,t)=>null==t?e:function(...n){e.apply(this,n),t.apply(this,n)},()=>{})},s=n(34678),c=n(86145).Z,a=function(e,t){return()=>null},i=n(16485).Z,l=n(36425).Z,d=n(96613).Z;n(87462);var f=function(e,t){return()=>null},m=n(25091).Z,p=n(54895).Z,_=n(89326).Z,x=function(e,t,n,r,u){return null},h=n(81222).Z,Z=n(22010).Z,v=n(22760).Z,P=n(11136).Z;let b={configure:e=>{r.Z.configure(e)}}},38780:function(e,t){"use strict";t.Z=function(){let e=Object.assign({},arguments.length<=0?void 0:arguments[0]);for(let t=1;t<arguments.length;t++){let n=t<0||arguments.length<=t?void 0:arguments[t];n&&Object.keys(n).forEach(t=>{let r=n[t];void 0!==r&&(e[t]=r)})}return e}},57838:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(67294);function u(){let[,e]=r.useReducer(e=>e+1,0);return e}},40534:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/prompt",function(){return n(10519)}])},10519:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(85893),u=n(67294),o=n(83062),s=n(14726),c=n(82610),a=n(43106),i=n(17788),l=n(24969),d=n(27547),f=n(15398),m=n(67421),p=n(89182),_=n(23323),x=n(75081),h=n(66184),Z=n(79531),v=(0,u.forwardRef)(function(e,t){let{t:n}=(0,m.$G)(),[o]=_.Z.useForm(),{prompt:s,onFinish:c,scenes:a}=e,[i,l]=(0,u.useState)(!1);(0,u.useEffect)(()=>{s&&o.setFieldsValue(s)},[]);let d=async()=>{let e=o.getFieldsValue();l(!0),await c(e),l(!1)};return(0,r.jsx)(x.Z,{spinning:i,children:(0,r.jsxs)(_.Z,{form:o,ref:t,name:"prompt-item-".concat((null==s?void 0:s.prompt_name)||"new"),layout:"vertical",className:"mt-4",onFinish:d,children:[(0,r.jsx)(_.Z.Item,{name:"chat_scene",label:n("Prompt_Info_Scene"),rules:[{required:!0,message:n("Please_Input")+n("Prompt_Info_Scene")}],children:(0,r.jsx)(h.default,{options:a})}),(0,r.jsx)(_.Z.Item,{name:"sub_chat_scene",label:n("Prompt_Info_Sub_Scene"),rules:[{required:!0,message:n("Please_Input")+n("Prompt_Info_Sub_Scene")}],children:(0,r.jsx)(Z.default,{})}),(0,r.jsx)(_.Z.Item,{name:"prompt_name",label:n("Prompt_Info_Name"),rules:[{required:!0,message:n("Please_Input")+n("Prompt_Info_Name")}],children:(0,r.jsx)(Z.default,{disabled:!!s})}),(0,r.jsx)(_.Z.Item,{name:"content",label:n("Prompt_Info_Content"),rules:[{required:!0,message:n("Please_Input")+n("Prompt_Info_Content")}],children:(0,r.jsx)(Z.default.TextArea,{rows:6})})]})})});let P=e=>[{label:e("Public")+" Prompts",key:"common",icon:(0,r.jsx)(d.Z,{})},{label:e("Private")+" Prompts",key:"private",icon:(0,r.jsx)(f.Z,{})}],b=(e,t)=>[{title:e("Prompt_Info_Name"),dataIndex:"prompt_name",key:"prompt_name"},{title:e("Prompt_Info_Scene"),dataIndex:"chat_scene",key:"chat_scene"},{title:e("Prompt_Info_Sub_Scene"),dataIndex:"sub_chat_scene",key:"sub_chat_scene"},{title:e("Prompt_Info_Content"),dataIndex:"content",key:"content",render:e=>(0,r.jsx)(o.Z,{placement:"topLeft",title:e,children:e})},{title:e("Operation"),dataIndex:"operate",key:"operate",render:(n,u)=>(0,r.jsx)(s.ZP,{onClick:()=>{t(u)},type:"primary",children:e("Edit")})}];var j=()=>{let{t:e}=(0,m.$G)(),[t,n]=(0,u.useState)("common"),[o,d]=(0,u.useState)(),[f,_]=(0,u.useState)(!1),[x,h]=(0,u.useState)(),[Z,j]=(0,u.useState)(!1),[y,I]=(0,u.useState)(),k=(0,u.useRef)(),S=async()=>{_(!0);let[e,n]=await (0,p.Vx)((0,p.xA)({prompt_type:t,current:1,pageSize:1e3,hideOnSinglePage:!0,showQuickJumper:!0}));d(n),_(!1)},w=async()=>{let[,e]=await (0,p.Vx)((0,p.CU)());I(null==e?void 0:e.map(e=>({value:e.chat_scene,label:e.scene_name})))},g=async e=>{x?await (0,p.Vx)((0,p.Fu)({...e,prompt_type:t})):await (0,p.Vx)((0,p.Hy)({...e,prompt_type:t})),S(),C()},C=()=>{j(!1)};return(0,u.useEffect)(()=>{S()},[t]),(0,u.useEffect)(()=>{w()},[]),(0,r.jsxs)("div",{children:[(0,r.jsx)(c.Z,{onClick:e=>{let t=e.key;n(t)},selectedKeys:[t],mode:"horizontal",items:P(e)}),(0,r.jsxs)("div",{className:"px-6 py-4",children:[(0,r.jsxs)("div",{className:"flex flex-row-reverse mb-4",children:[(0,r.jsxs)(s.ZP,{className:"flex items-center",onClick:()=>{j(!0),h(void 0)},children:[(0,r.jsx)(l.Z,{}),e("Add")," Prompts"]}),"common"===t&&(0,r.jsxs)(s.ZP,{className:"mr-2 flex items-center",disabled:!0,children:[(0,r.jsx)(l.Z,{}),e("Add")," Prompts ",e("template")]})]}),(0,r.jsx)(a.Z,{columns:b(e,e=>{h(e),j(!0)}),dataSource:o,loading:f,rowKey:e=>e.prompt_name,scroll:{y:600}})]}),(0,r.jsx)(i.default,{title:"".concat(e(x?"Edit":"Add")," Prompts"),destroyOnClose:!0,open:Z,onCancel:C,cancelText:e("cancel"),okText:e("submit"),onOk:()=>{var e;null===(e=k.current)||void 0===e||e.submit()},children:(0,r.jsx)(v,{scenes:y,ref:k,prompt:x,onFinish:g})})]})}}},function(e){e.O(0,[6274,5503,3323,6184,5081,4567,1980,8045,5316,3106,9774,2888,179],function(){return e(e.s=40534)}),_N_E=e.O()}]);