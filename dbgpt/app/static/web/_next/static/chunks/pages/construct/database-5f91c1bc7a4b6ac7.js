(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1286],{27704:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(87462),l=n(67294),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]},name:"delete",theme:"filled"},r=n(13401),o=l.forwardRef(function(e,t){return l.createElement(r.Z,(0,a.Z)({},e,{ref:t,icon:s}))})},36531:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(87462),l=n(67294),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9z"}}]},name:"edit",theme:"filled"},r=n(13401),o=l.forwardRef(function(e,t){return l.createElement(r.Z,(0,a.Z)({},e,{ref:t,icon:s}))})},2093:function(e,t,n){"use strict";var a=n(97582),l=n(67294),s=n(92770);t.Z=function(e,t){(0,l.useEffect)(function(){var t=e(),n=!1;return!function(){(0,a.mG)(this,void 0,void 0,function(){return(0,a.Jh)(this,function(e){switch(e.label){case 0:if(!(0,s.mf)(t[Symbol.asyncIterator]))return[3,4];e.label=1;case 1:return[4,t.next()];case 2:if(e.sent().done||n)return[3,3];return[3,1];case 3:return[3,6];case 4:return[4,t];case 5:e.sent(),e.label=6;case 6:return[2]}})})}(),function(){n=!0}},t)}},85265:function(e,t,n){"use strict";n.d(t,{Z:function(){return X}});var a=n(67294),l=n(93967),s=n.n(l),r=n(1413),o=n(97685),i=n(2788),c=n(8410),d=a.createContext(null),u=a.createContext({}),m=n(4942),f=n(87462),p=n(29372),h=n(15105),b=n(64217),x=n(45987),v=n(42550),g=["prefixCls","className","containerRef"],y=function(e){var t=e.prefixCls,n=e.className,l=e.containerRef,r=(0,x.Z)(e,g),o=a.useContext(u).panel,i=(0,v.x1)(o,l);return a.createElement("div",(0,f.Z)({className:s()("".concat(t,"-content"),n),role:"dialog",ref:i},(0,b.Z)(e,{aria:!0}),{"aria-modal":"true"},r))},j=n(80334);function w(e){return"string"==typeof e&&String(Number(e))===e?((0,j.ZP)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var k={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"},N=a.forwardRef(function(e,t){var n,l,i,c=e.prefixCls,u=e.open,x=e.placement,v=e.inline,g=e.push,j=e.forceRender,N=e.autoFocus,Z=e.keyboard,C=e.classNames,_=e.rootClassName,E=e.rootStyle,O=e.zIndex,S=e.className,$=e.id,P=e.style,I=e.motion,D=e.width,R=e.height,F=e.children,M=e.mask,z=e.maskClosable,T=e.maskMotion,V=e.maskClassName,B=e.maskStyle,L=e.afterOpenChange,H=e.onClose,K=e.onMouseEnter,A=e.onMouseOver,q=e.onMouseLeave,W=e.onClick,U=e.onKeyDown,X=e.onKeyUp,J=e.styles,Y=e.drawerRender,G=a.useRef(),Q=a.useRef(),ee=a.useRef();a.useImperativeHandle(t,function(){return G.current}),a.useEffect(function(){if(u&&N){var e;null===(e=G.current)||void 0===e||e.focus({preventScroll:!0})}},[u]);var et=a.useState(!1),en=(0,o.Z)(et,2),ea=en[0],el=en[1],es=a.useContext(d),er=null!==(n=null!==(l=null===(i="boolean"==typeof g?g?{}:{distance:0}:g||{})||void 0===i?void 0:i.distance)&&void 0!==l?l:null==es?void 0:es.pushDistance)&&void 0!==n?n:180,eo=a.useMemo(function(){return{pushDistance:er,push:function(){el(!0)},pull:function(){el(!1)}}},[er]);a.useEffect(function(){var e,t;u?null==es||null===(e=es.push)||void 0===e||e.call(es):null==es||null===(t=es.pull)||void 0===t||t.call(es)},[u]),a.useEffect(function(){return function(){var e;null==es||null===(e=es.pull)||void 0===e||e.call(es)}},[]);var ei=M&&a.createElement(p.ZP,(0,f.Z)({key:"mask"},T,{visible:u}),function(e,t){var n=e.className,l=e.style;return a.createElement("div",{className:s()("".concat(c,"-mask"),n,null==C?void 0:C.mask,V),style:(0,r.Z)((0,r.Z)((0,r.Z)({},l),B),null==J?void 0:J.mask),onClick:z&&u?H:void 0,ref:t})}),ec="function"==typeof I?I(x):I,ed={};if(ea&&er)switch(x){case"top":ed.transform="translateY(".concat(er,"px)");break;case"bottom":ed.transform="translateY(".concat(-er,"px)");break;case"left":ed.transform="translateX(".concat(er,"px)");break;default:ed.transform="translateX(".concat(-er,"px)")}"left"===x||"right"===x?ed.width=w(D):ed.height=w(R);var eu={onMouseEnter:K,onMouseOver:A,onMouseLeave:q,onClick:W,onKeyDown:U,onKeyUp:X},em=a.createElement(p.ZP,(0,f.Z)({key:"panel"},ec,{visible:u,forceRender:j,onVisibleChanged:function(e){null==L||L(e)},removeOnLeave:!1,leavedClassName:"".concat(c,"-content-wrapper-hidden")}),function(t,n){var l=t.className,o=t.style,i=a.createElement(y,(0,f.Z)({id:$,containerRef:n,prefixCls:c,className:s()(S,null==C?void 0:C.content),style:(0,r.Z)((0,r.Z)({},P),null==J?void 0:J.content)},(0,b.Z)(e,{aria:!0}),eu),F);return a.createElement("div",(0,f.Z)({className:s()("".concat(c,"-content-wrapper"),null==C?void 0:C.wrapper,l),style:(0,r.Z)((0,r.Z)((0,r.Z)({},ed),o),null==J?void 0:J.wrapper)},(0,b.Z)(e,{data:!0})),Y?Y(i):i)}),ef=(0,r.Z)({},E);return O&&(ef.zIndex=O),a.createElement(d.Provider,{value:eo},a.createElement("div",{className:s()(c,"".concat(c,"-").concat(x),_,(0,m.Z)((0,m.Z)({},"".concat(c,"-open"),u),"".concat(c,"-inline"),v)),style:ef,tabIndex:-1,ref:G,onKeyDown:function(e){var t,n,a=e.keyCode,l=e.shiftKey;switch(a){case h.Z.TAB:a===h.Z.TAB&&(l||document.activeElement!==ee.current?l&&document.activeElement===Q.current&&(null===(n=ee.current)||void 0===n||n.focus({preventScroll:!0})):null===(t=Q.current)||void 0===t||t.focus({preventScroll:!0}));break;case h.Z.ESC:H&&Z&&(e.stopPropagation(),H(e))}}},ei,a.createElement("div",{tabIndex:0,ref:Q,style:k,"aria-hidden":"true","data-sentinel":"start"}),em,a.createElement("div",{tabIndex:0,ref:ee,style:k,"aria-hidden":"true","data-sentinel":"end"})))}),Z=function(e){var t=e.open,n=e.prefixCls,l=e.placement,s=e.autoFocus,d=e.keyboard,m=e.width,f=e.mask,p=void 0===f||f,h=e.maskClosable,b=e.getContainer,x=e.forceRender,v=e.afterOpenChange,g=e.destroyOnClose,y=e.onMouseEnter,j=e.onMouseOver,w=e.onMouseLeave,k=e.onClick,Z=e.onKeyDown,C=e.onKeyUp,_=e.panelRef,E=a.useState(!1),O=(0,o.Z)(E,2),S=O[0],$=O[1],P=a.useState(!1),I=(0,o.Z)(P,2),D=I[0],R=I[1];(0,c.Z)(function(){R(!0)},[]);var F=!!D&&void 0!==t&&t,M=a.useRef(),z=a.useRef();(0,c.Z)(function(){F&&(z.current=document.activeElement)},[F]);var T=a.useMemo(function(){return{panel:_}},[_]);if(!x&&!S&&!F&&g)return null;var V=(0,r.Z)((0,r.Z)({},e),{},{open:F,prefixCls:void 0===n?"rc-drawer":n,placement:void 0===l?"right":l,autoFocus:void 0===s||s,keyboard:void 0===d||d,width:void 0===m?378:m,mask:p,maskClosable:void 0===h||h,inline:!1===b,afterOpenChange:function(e){var t,n;$(e),null==v||v(e),e||!z.current||null!==(t=M.current)&&void 0!==t&&t.contains(z.current)||null===(n=z.current)||void 0===n||n.focus({preventScroll:!0})},ref:M},{onMouseEnter:y,onMouseOver:j,onMouseLeave:w,onClick:k,onKeyDown:Z,onKeyUp:C});return a.createElement(u.Provider,{value:T},a.createElement(i.Z,{open:F||x||S,autoDestroy:!1,getContainer:b,autoLock:p&&(F||S)},a.createElement(N,V)))},C=n(89942),_=n(87263),E=n(33603),O=n(43945),S=n(53124),$=n(16569),P=n(69760),I=n(48054),D=e=>{var t,n;let{prefixCls:l,title:r,footer:o,extra:i,loading:c,onClose:d,headerStyle:u,bodyStyle:m,footerStyle:f,children:p,classNames:h,styles:b}=e,{drawer:x}=a.useContext(S.E_),v=a.useCallback(e=>a.createElement("button",{type:"button",onClick:d,"aria-label":"Close",className:`${l}-close`},e),[d]),[g,y]=(0,P.Z)((0,P.w)(e),(0,P.w)(x),{closable:!0,closeIconRender:v}),j=a.useMemo(()=>{var e,t;return r||g?a.createElement("div",{style:Object.assign(Object.assign(Object.assign({},null===(e=null==x?void 0:x.styles)||void 0===e?void 0:e.header),u),null==b?void 0:b.header),className:s()(`${l}-header`,{[`${l}-header-close-only`]:g&&!r&&!i},null===(t=null==x?void 0:x.classNames)||void 0===t?void 0:t.header,null==h?void 0:h.header)},a.createElement("div",{className:`${l}-header-title`},y,r&&a.createElement("div",{className:`${l}-title`},r)),i&&a.createElement("div",{className:`${l}-extra`},i)):null},[g,y,i,u,l,r]),w=a.useMemo(()=>{var e,t;if(!o)return null;let n=`${l}-footer`;return a.createElement("div",{className:s()(n,null===(e=null==x?void 0:x.classNames)||void 0===e?void 0:e.footer,null==h?void 0:h.footer),style:Object.assign(Object.assign(Object.assign({},null===(t=null==x?void 0:x.styles)||void 0===t?void 0:t.footer),f),null==b?void 0:b.footer)},o)},[o,f,l]);return a.createElement(a.Fragment,null,j,a.createElement("div",{className:s()(`${l}-body`,null==h?void 0:h.body,null===(t=null==x?void 0:x.classNames)||void 0===t?void 0:t.body),style:Object.assign(Object.assign(Object.assign({},null===(n=null==x?void 0:x.styles)||void 0===n?void 0:n.body),m),null==b?void 0:b.body)},c?a.createElement(I.Z,{active:!0,title:!1,paragraph:{rows:5},className:`${l}-body-skeleton`}):p),w)},R=n(25446),F=n(14747),M=n(83559),z=n(83262);let T=e=>{let t="100%";return({left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`})[e]},V=(e,t)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}),B=(e,t)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}}},V({opacity:e},{opacity:1})),L=(e,t)=>[B(.7,t),V({transform:T(e)},{transform:"none"})];var H=e=>{let{componentCls:t,motionDurationSlow:n}=e;return{[t]:{[`${t}-mask-motion`]:B(0,n),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((e,t)=>Object.assign(Object.assign({},e),{[`&-${t}`]:L(t,n)}),{})}}};let K=e=>{let{borderRadiusSM:t,componentCls:n,zIndexPopup:a,colorBgMask:l,colorBgElevated:s,motionDurationSlow:r,motionDurationMid:o,paddingXS:i,padding:c,paddingLG:d,fontSizeLG:u,lineHeightLG:m,lineWidth:f,lineType:p,colorSplit:h,marginXS:b,colorIcon:x,colorIconHover:v,colorBgTextHover:g,colorBgTextActive:y,colorText:j,fontWeightStrong:w,footerPaddingBlock:k,footerPaddingInline:N,calc:Z}=e,C=`${n}-content-wrapper`;return{[n]:{position:"fixed",inset:0,zIndex:a,pointerEvents:"none",color:j,"&-pure":{position:"relative",background:s,display:"flex",flexDirection:"column",[`&${n}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${n}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${n}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${n}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${n}-mask`]:{position:"absolute",inset:0,zIndex:a,background:l,pointerEvents:"auto"},[C]:{position:"absolute",zIndex:a,maxWidth:"100vw",transition:`all ${r}`,"&-hidden":{display:"none"}},[`&-left > ${C}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${C}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${C}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${C}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${n}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:s,pointerEvents:"auto"},[`${n}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${(0,R.bf)(c)} ${(0,R.bf)(d)}`,fontSize:u,lineHeight:m,borderBottom:`${(0,R.bf)(f)} ${p} ${h}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${n}-extra`]:{flex:"none"},[`${n}-close`]:Object.assign({display:"inline-flex",width:Z(u).add(i).equal(),height:Z(u).add(i).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",marginInlineEnd:b,color:x,fontWeight:w,fontSize:u,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${o}`,textRendering:"auto","&:hover":{color:v,backgroundColor:g,textDecoration:"none"},"&:active":{backgroundColor:y}},(0,F.Qy)(e)),[`${n}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:u,lineHeight:m},[`${n}-body`]:{flex:1,minWidth:0,minHeight:0,padding:d,overflow:"auto",[`${n}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${n}-footer`]:{flexShrink:0,padding:`${(0,R.bf)(k)} ${(0,R.bf)(N)}`,borderTop:`${(0,R.bf)(f)} ${p} ${h}`},"&-rtl":{direction:"rtl"}}}};var A=(0,M.I$)("Drawer",e=>{let t=(0,z.IX)(e,{});return[K(t),H(t)]},e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding})),q=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)0>t.indexOf(a[l])&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]]);return n};let W={distance:180},U=e=>{let{rootClassName:t,width:n,height:l,size:r="default",mask:o=!0,push:i=W,open:c,afterOpenChange:d,onClose:u,prefixCls:m,getContainer:f,style:p,className:h,visible:b,afterVisibleChange:x,maskStyle:v,drawerStyle:g,contentWrapperStyle:y}=e,j=q(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle"]),{getPopupContainer:w,getPrefixCls:k,direction:N,drawer:P}=a.useContext(S.E_),I=k("drawer",m),[R,F,M]=A(I),z=s()({"no-mask":!o,[`${I}-rtl`]:"rtl"===N},t,F,M),T=a.useMemo(()=>null!=n?n:"large"===r?736:378,[n,r]),V=a.useMemo(()=>null!=l?l:"large"===r?736:378,[l,r]),B={motionName:(0,E.m)(I,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},L=(0,$.H)(),[H,K]=(0,_.Cn)("Drawer",j.zIndex),{classNames:U={},styles:X={}}=j,{classNames:J={},styles:Y={}}=P||{};return R(a.createElement(C.Z,{form:!0,space:!0},a.createElement(O.Z.Provider,{value:K},a.createElement(Z,Object.assign({prefixCls:I,onClose:u,maskMotion:B,motion:e=>({motionName:(0,E.m)(I,`panel-motion-${e}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500})},j,{classNames:{mask:s()(U.mask,J.mask),content:s()(U.content,J.content),wrapper:s()(U.wrapper,J.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},X.mask),v),Y.mask),content:Object.assign(Object.assign(Object.assign({},X.content),g),Y.content),wrapper:Object.assign(Object.assign(Object.assign({},X.wrapper),y),Y.wrapper)},open:null!=c?c:b,mask:o,push:i,width:T,height:V,style:Object.assign(Object.assign({},null==P?void 0:P.style),p),className:s()(null==P?void 0:P.className,h),rootClassName:z,getContainer:void 0===f&&w?()=>w(document.body):f,afterOpenChange:null!=d?d:x,panelRef:L,zIndex:H}),a.createElement(D,Object.assign({prefixCls:I},j,{onClose:u}))))))};U._InternalPanelDoNotUseOrYouWillBeFired=e=>{let{prefixCls:t,style:n,className:l,placement:r="right"}=e,o=q(e,["prefixCls","style","className","placement"]),{getPrefixCls:i}=a.useContext(S.E_),c=i("drawer",t),[d,u,m]=A(c),f=s()(c,`${c}-pure`,`${c}-${r}`,u,m,l);return d(a.createElement("div",{className:f,style:n},a.createElement(D,Object.assign({prefixCls:c},o))))};var X=U},45360:function(e,t,n){"use strict";var a=n(74902),l=n(67294),s=n(38135),r=n(66968),o=n(53124),i=n(28459),c=n(66277),d=n(16474),u=n(84926);let m=null,f=e=>e(),p=[],h={};function b(){let{getContainer:e,duration:t,rtl:n,maxCount:a,top:l}=h,s=(null==e?void 0:e())||document.body;return{getContainer:()=>s,duration:t,rtl:n,maxCount:a,top:l}}let x=l.forwardRef((e,t)=>{let{messageConfig:n,sync:a}=e,{getPrefixCls:s}=(0,l.useContext)(o.E_),i=h.prefixCls||s("message"),c=(0,l.useContext)(r.J),[u,m]=(0,d.K)(Object.assign(Object.assign(Object.assign({},n),{prefixCls:i}),c.message));return l.useImperativeHandle(t,()=>{let e=Object.assign({},u);return Object.keys(e).forEach(t=>{e[t]=function(){return a(),u[t].apply(u,arguments)}}),{instance:e,sync:a}}),m}),v=l.forwardRef((e,t)=>{let[n,a]=l.useState(b),s=()=>{a(b)};l.useEffect(s,[]);let r=(0,i.w6)(),o=r.getRootPrefixCls(),c=r.getIconPrefixCls(),d=r.getTheme(),u=l.createElement(x,{ref:t,sync:s,messageConfig:n});return l.createElement(i.ZP,{prefixCls:o,iconPrefixCls:c,theme:d},r.holderRender?r.holderRender(u):u)});function g(){if(!m){let e=document.createDocumentFragment(),t={fragment:e};m=t,f(()=>{(0,s.s)(l.createElement(v,{ref:e=>{let{instance:n,sync:a}=e||{};Promise.resolve().then(()=>{!t.instance&&n&&(t.instance=n,t.sync=a,g())})}}),e)});return}m.instance&&(p.forEach(e=>{let{type:t,skipped:n}=e;if(!n)switch(t){case"open":f(()=>{let t=m.instance.open(Object.assign(Object.assign({},h),e.config));null==t||t.then(e.resolve),e.setCloseFn(t)});break;case"destroy":f(()=>{null==m||m.instance.destroy(e.key)});break;default:f(()=>{var n;let l=(n=m.instance)[t].apply(n,(0,a.Z)(e.args));null==l||l.then(e.resolve),e.setCloseFn(l)})}}),p=[])}let y={open:function(e){let t=(0,u.J)(t=>{let n;let a={type:"open",config:e,resolve:t,setCloseFn:e=>{n=e}};return p.push(a),()=>{n?f(()=>{n()}):a.skipped=!0}});return g(),t},destroy:e=>{p.push({type:"destroy",key:e}),g()},config:function(e){h=Object.assign(Object.assign({},h),e),f(()=>{var e;null===(e=null==m?void 0:m.sync)||void 0===e||e.call(m)})},useMessage:d.Z,_InternalPanelDoNotUseOrYouWillBeFired:c.ZP};["success","info","warning","error","loading"].forEach(e=>{y[e]=function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return function(e,t){(0,i.w6)();let n=(0,u.J)(n=>{let a;let l={type:e,args:t,resolve:n,setCloseFn:e=>{a=e}};return p.push(l),()=>{a?f(()=>{a()}):l.skipped=!0}});return g(),n}(e,n)}}),t.ZP=y},25606:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/construct/database",function(){return n(65064)}])},45247:function(e,t,n){"use strict";var a=n(85893),l=n(50888);t.Z=function(e){let{visible:t}=e;return t?(0,a.jsx)("div",{className:"absolute w-full h-full top-0 left-0 flex justify-center items-center z-10 bg-white dark:bg-black bg-opacity-50 dark:bg-opacity-50 backdrop-blur-sm text-3xl animate-fade animate-duration-200",children:(0,a.jsx)(l.Z,{})}):null}},1771:function(e,t,n){"use strict";var a=n(85893),l=n(82353),s=n(41156),r=n(9641),o=n(16165),i=n(9020),c=n(92962),d=n(38545),u=n(50067),m=n(28459),f=n(92398),p=n(36609),h=n(11163);n(67294),n(53878),t.Z=function(e){let{children:t}=e,n=[{key:"app",name:(0,p.t)("App"),path:"/app",icon:(0,a.jsx)(s.Z,{})},{key:"flow",name:(0,p.t)("awel_flow"),icon:(0,a.jsx)(r.Z,{}),path:"/flow"},{key:"models",name:(0,p.t)("model_manage"),path:"/models",icon:(0,a.jsx)(o.Z,{component:l.IN})},{key:"database",name:(0,p.t)("Database"),icon:(0,a.jsx)(i.Z,{}),path:"/database"},{key:"knowledge",name:(0,p.t)("Knowledge_Space"),icon:(0,a.jsx)(c.Z,{}),path:"/knowledge"},{key:"prompt",name:(0,p.t)("Prompt"),icon:(0,a.jsx)(d.Z,{}),path:"/prompt"},{key:"dbgpts",name:(0,p.t)("dbgpts_community"),path:"/dbgpts",icon:(0,a.jsx)(u.Z,{})}],b=(0,h.useRouter)(),x=b.pathname.split("/")[2];return(0,a.jsx)("div",{className:"flex flex-col h-full w-full  dark:bg-gradient-dark bg-gradient-light bg-cover bg-center",children:(0,a.jsx)(m.ZP,{theme:{components:{Button:{},Segmented:{itemSelectedBg:"#2867f5",itemSelectedColor:"white"}}},children:(0,a.jsx)(f.Z,{activeKey:x,items:n.map(e=>({key:e.key,label:e.name,children:t,icon:e.icon})),onTabClick:e=>{b.push("/construct/".concat(e))}})})})}},65064:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M},isFileDb:function(){return F}});var a=n(85893),l=n(76212),s=n(66309),r=n(55241),o=n(83062),i=n(93967),c=n.n(i),d=n(25675),u=n.n(d),m=n(67294),f=(0,m.memo)(function(e){let{icon:t,iconBorder:n=!0,title:l,desc:i,tags:d,children:f,disabled:p,operations:h,className:b,extraContent:x,...v}=e,g=(0,m.useMemo)(()=>t?"string"==typeof t?(0,a.jsx)(u(),{className:c()("w-11 h-11 rounded-full mr-4 object-contain bg-white",{"border border-gray-200":n}),width:48,height:48,src:t,alt:l}):t:null,[t]),y=(0,m.useMemo)(()=>d&&d.length?(0,a.jsx)("div",{className:"flex items-center mt-1 flex-wrap",children:d.map((e,t)=>{var n;return"string"==typeof e?(0,a.jsx)(s.Z,{className:"text-xs",bordered:!1,color:"default",children:e},t):(0,a.jsx)(s.Z,{className:"text-xs",bordered:null!==(n=e.border)&&void 0!==n&&n,color:e.color,children:e.text},t)})}):null,[d]);return(0,a.jsxs)("div",{className:c()("group/card relative flex flex-col w-72 rounded justify-between text-black bg-white shadow-[0_8px_16px_-10px_rgba(100,100,100,.08)] hover:shadow-[0_14px_20px_-10px_rgba(100,100,100,.15)] dark:bg-[#232734] dark:text-white dark:hover:border-white transition-[transfrom_shadow] duration-300 hover:-translate-y-1 min-h-fit",{"grayscale cursor-no-drop":p,"cursor-pointer":!p&&!!v.onClick},b),...v,children:[(0,a.jsxs)("div",{className:"p-4 0",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[g,(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(r.Z,{title:l,children:(0,a.jsx)("h2",{className:"text-sm font-semibold line-clamp-1 pr-8",children:l})}),y]})]}),i&&(0,a.jsx)(o.Z,{title:i,children:(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500 font-normal line-clamp-2",children:i})})]}),(0,a.jsxs)("div",{children:[f,h&&!!h.length&&(0,a.jsx)("div",{className:"flex flex-wrap items-center justify-center border-t border-solid border-gray-100 dark:border-theme-dark",children:h.map((e,t)=>(0,a.jsx)(o.Z,{title:e.label,children:(0,a.jsxs)("div",{className:"relative flex flex-1 items-center justify-center h-11 text-gray-400 hover:text-blue-500 transition-colors duration-300 cursor-pointer",onClick:t=>{var n;t.stopPropagation(),null===(n=e.onClick)||void 0===n||n.call(e)},children:[e.children,t<h.length-1&&(0,a.jsx)("div",{className:"w-[1px] h-6 absolute top-2 right-0 bg-gray-100 rounded dark:bg-theme-dark"})]})},"operation-".concat(t)))})]}),(0,a.jsx)("div",{className:"absolute top-2 right-4 ",children:x})]})}),p=n(45247),h=n(85980),b=n(99859),x=n(45360),v=n(85576),g=n(34041),y=n(74330),j=n(25278),w=n(13457),k=n(14726),N=n(67421),Z=function(e){let{open:t,choiceDBType:n,dbTypeList:s,editValue:r,dbNames:i,onClose:c,onSuccess:d}=e,[u,f]=(0,m.useState)(!1),{t:p}=(0,N.$G)(),[Z]=b.default.useForm(),C=b.default.useWatch("db_type",Z),[_,E]=(0,m.useState)([]),[O,S]=(0,m.useState)(!1),$=(0,m.useMemo)(()=>F(s,C),[s,C]);(0,m.useEffect)(()=>{n&&Z.setFieldValue("db_type",n)},[n]),(0,m.useEffect)(()=>{r&&(Z.setFieldsValue({...r}),"omc"===r.db_type&&Z.setFieldValue("db_arn",r.db_path))},[r]),(0,m.useEffect)(()=>{t||Z.resetFields()},[t]);let P=async e=>{let{db_host:t,db_path:n,db_port:a,db_type:s,...o}=e;if(f(!0),"omc"===s){let t=null==_?void 0:_.find(t=>t.arn===e.db_name);try{let[n]=await (0,l.Vx)((0,l.Jm)({db_type:"omc",file_path:e.db_arn||"",comment:e.comment,db_name:(null==t?void 0:t.dbName)||e.db_name}));if(n){x.ZP.error(n.message);return}x.ZP.success("success"),null==d||d()}catch(e){x.ZP.error(e.message)}finally{f(!1)}}if(!r&&i.some(e=>e===o.db_name)){x.ZP.error("The database already exists!");return}let c={db_host:$?void 0:t,db_port:$?void 0:a,db_type:s,file_path:$?n:void 0,...o};try{let[e]=await (0,l.Vx)((0,l.KS)(c));if(e)return;let[t]=await (0,l.Vx)((r?l.mR:l.b_)(c));if(t){x.ZP.error(t.message);return}x.ZP.success("success"),null==d||d()}catch(e){x.ZP.error(e.message)}finally{f(!1)}},{run:I}=(0,h.Z)(async e=>{S(!0);let[t,n=[]]=await (0,l.Vx)((0,l.bf)(e));S(!1),E(n.map(e=>({...e,label:e.dbName,value:e.arn})))},{wait:500}),D=(0,m.useMemo)(()=>!!r||!!n,[r,n]);return(0,a.jsx)(v.default,{open:t,width:800,title:p(r?"Edit":"create_database"),maskClosable:!1,footer:null,onCancel:c,children:(0,a.jsxs)(b.default,{form:Z,className:"pt-2",labelCol:{span:6},labelAlign:"left",onFinish:P,children:[(0,a.jsx)(b.default.Item,{name:"db_type",label:"DB Type",className:"mb-6",rules:[{required:!0}],children:(0,a.jsx)(g.default,{"aria-readonly":D,disabled:D,options:s})}),"omc"===Z.getFieldValue("db_type")?(0,a.jsx)(b.default.Item,{name:"db_name",label:"DB Name",className:"mb-6",rules:[{required:!0}],children:(0,a.jsx)(g.default,{optionRender:(e,t)=>{let{index:n}=t,l=_[n];return(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-[18px]",children:null==l?void 0:l.dbName}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{children:"env: "}),(0,a.jsx)("span",{className:"text-gray-500",children:l.env})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{children:"account: "}),(0,a.jsx)("span",{className:"text-gray-500",children:l.account})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{children:"searchName: "}),(0,a.jsx)(o.Z,{title:l.searchName,children:(0,a.jsx)("span",{className:"text-gray-500",children:l.searchName})})]})]},e.value)},notFoundContent:O?(0,a.jsx)(y.Z,{size:"small"}):null,showSearch:!0,options:_,onSearch:I,onSelect:e=>{let t=null==_?void 0:_.find(t=>t.value===e);Z.setFieldsValue({db_arn:null==t?void 0:t.arn})}})}):(0,a.jsx)(b.default.Item,{name:"db_name",label:"DB Name",className:"mb-3",rules:[{required:!0}],children:(0,a.jsx)(j.default,{readOnly:!!r,disabled:!!r})}),!0===$&&(0,a.jsx)(b.default.Item,{name:"db_path",label:"Path",className:"mb-6",rules:[{required:!0}],children:(0,a.jsx)(j.default,{})}),!1===$&&"omc"!==Z.getFieldValue("db_type")&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.default.Item,{name:"db_user",label:"Username",className:"mb-6",rules:[{required:!0}],children:(0,a.jsx)(j.default,{})}),(0,a.jsx)(b.default.Item,{name:"db_pwd",label:"Password",className:"mb-6",rules:[{required:!1}],children:(0,a.jsx)(j.default,{type:"password"})}),(0,a.jsx)(b.default.Item,{name:"db_host",label:"Host",className:"mb-6",rules:[{required:!0}],children:(0,a.jsx)(j.default,{})}),(0,a.jsx)(b.default.Item,{name:"db_port",label:"Port",className:"mb-6",rules:[{required:!0}],children:(0,a.jsx)(w.Z,{min:1,step:1,max:65535})})]}),"omc"===Z.getFieldValue("db_type")&&(0,a.jsx)(b.default.Item,{name:"db_arn",label:"Arn",className:"mb-6",rules:[{required:!0}],children:(0,a.jsx)(j.default,{})}),(0,a.jsx)(b.default.Item,{name:"comment",label:"Remark",className:"mb-6",children:(0,a.jsx)(j.default,{})}),(0,a.jsxs)(b.default.Item,{className:"flex flex-row-reverse pt-1 mb-0",children:[(0,a.jsx)(k.ZP,{htmlType:"submit",type:"primary",size:"middle",className:"mr-1",loading:u,children:"Save"}),(0,a.jsx)(k.ZP,{size:"middle",onClick:c,children:"Cancel"})]})]})})},C=n(1771),_=n(62418),E=n(24969),O=n(36531),S=n(27704),$=n(2093),P=n(40411),I=n(85265),D=n(4393),R=n(32983);function F(e,t){var n;return null===(n=e.find(e=>e.value===t))||void 0===n?void 0:n.isFileDb}var M=function(){let{t:e}=(0,N.$G)(),[t,n]=(0,m.useState)([]),[s,r]=(0,m.useState)([]),[o,i]=(0,m.useState)(!1),[c,d]=(0,m.useState)({open:!1}),[u,h]=(0,m.useState)({open:!1}),b=async()=>{let[,e]=await (0,l.Vx)((0,l.t$)());r(null!=e?e:[])},g=async()=>{i(!0);let[,e]=await (0,l.Vx)((0,l.Bw)());n(null!=e?e:[]),i(!1)},y=(0,m.useMemo)(()=>{let e=s.map(e=>{let{db_type:t,is_file_db:n}=e;return{..._.S$[t],value:t,isFileDb:n}}),t=Object.keys(_.S$).filter(t=>!e.some(e=>e.value===t)).map(e=>({..._.S$[e],value:_.S$[e].label,disabled:!0}));return[...e,...t]},[s]),j=e=>{d({open:!0,info:e})},w=e=>{v.default.confirm({title:"Tips",content:"Do you Want to delete the ".concat(e.db_name,"?"),onOk:()=>new Promise((t,n)=>{F(e.db_name,t,n)})})},F=async(e,t,n)=>{try{let[a]=await (0,l.Vx)((0,l.J5)(e));if(a){x.ZP.error(a.message),n();return}x.ZP.success("success"),g(),t()}catch(e){n()}},M=(0,m.useMemo)(()=>{let e=y.reduce((e,n)=>(e[n.value]=t.filter(e=>e.db_type===n.value),e),{});return e},[t,y]);(0,$.Z)(async()=>{await g(),await b()},[]);let z=e=>{let n=t.filter(t=>t.db_type===e.value);h({open:!0,dbList:n,name:e.label,type:e.value})};return(0,a.jsx)(C.Z,{children:(0,a.jsxs)("div",{className:"relative min-h-full overflow-y-auto px-6 max-h-[90vh]",children:[(0,a.jsx)(p.Z,{visible:o}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("div",{className:"flex items-center gap-4"}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsx)(k.ZP,{className:"border-none text-white bg-button-gradient",icon:(0,a.jsx)(E.Z,{}),onClick:()=>{d({open:!0})},children:e("Add_Datasource")})})]}),(0,a.jsx)("div",{className:"flex flex-wrap mx-[-8px] gap-2 md:gap-4",children:y.map(e=>{var t,n;return(0,a.jsx)(P.Z,{count:null===(t=M[e.value])||void 0===t?void 0:t.length,className:"min-h-fit",children:(0,a.jsx)(f,{className:"h-full",title:e.label,desc:null!==(n=e.desc)&&void 0!==n?n:"",disabled:e.disabled,icon:e.icon,onClick:()=>{e.disabled||z(e)}})},e.value)})}),(0,a.jsx)(Z,{open:c.open,dbTypeList:y,choiceDBType:c.dbType,editValue:c.info,dbNames:t.map(e=>e.db_name),onSuccess:()=>{d({open:!1}),g()},onClose:()=>{d({open:!1})}}),(0,a.jsx)(I.Z,{title:u.name,placement:"right",onClose:()=>{h({open:!1})},open:u.open,children:u.type&&M[u.type]&&M[u.type].length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.ZP,{type:"primary",className:"mb-4 flex items-center",icon:(0,a.jsx)(E.Z,{}),onClick:()=>{d({open:!0,dbType:u.type})},children:"Create"}),M[u.type].map(e=>(0,a.jsxs)(D.Z,{title:e.db_name,extra:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.Z,{className:"mr-2",style:{color:"#1b7eff"},onClick:()=>{j(e)}}),(0,a.jsx)(S.Z,{style:{color:"#ff1b2e"},onClick:()=>{w(e)}})]}),className:"mb-4",children:[e.db_path?(0,a.jsxs)("p",{children:["path: ",e.db_path]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:["host: ",e.db_host]}),(0,a.jsxs)("p",{children:["username: ",e.db_user]}),(0,a.jsxs)("p",{children:["port: ",e.db_port]})]}),(0,a.jsxs)("p",{children:["remark: ",e.comment]})]},e.db_name))]}):(0,a.jsx)(R.Z,{image:R.Z.PRESENTED_IMAGE_DEFAULT,children:(0,a.jsx)(k.ZP,{type:"primary",className:"flex items-center mx-auto",icon:(0,a.jsx)(E.Z,{}),onClick:()=>{d({open:!0,dbType:u.type})},children:"Create Now"})})})]})})}},53878:function(){}},function(e){e.O(0,[2648,3791,2913,5278,8791,4330,4041,2398,9859,3457,5717,4393,9774,2888,179],function(){return e(e.s=25606)}),_N_E=e.O()}]);