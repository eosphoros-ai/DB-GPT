(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2012],{69274:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(42096),o=n(38497),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},i=n(75651),s=o.forwardRef(function(e,t){return o.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:a}))})},72097:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(42096),o=n(38497),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},i=n(75651),s=o.forwardRef(function(e,t){return o.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:a}))})},97511:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(42096),o=n(38497),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},i=n(75651),s=o.forwardRef(function(e,t){return o.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:a}))})},90347:function(e,t,n){"use strict";var r=n(82073);t.Z=void 0;var o=r(n(77456)),a=n(96469);t.Z=(0,o.default)((0,a.jsx)("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"}),"Groups")},29869:function(e,t,n){"use strict";var r=n(82073);t.Z=void 0;var o=r(n(77456)),a=n(96469);t.Z=(0,o.default)((0,a.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")},77456:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(70157)},70157:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return o.Z},createChainedFunction:function(){return a},createSvgIcon:function(){return i.Z},debounce:function(){return s},deprecatedPropType:function(){return l},isMuiElement:function(){return c},ownerDocument:function(){return u},ownerWindow:function(){return m},requirePropFactory:function(){return f},setRef:function(){return d},unstable_ClassNameGenerator:function(){return b},unstable_useEnhancedEffect:function(){return p},unstable_useId:function(){return y},unsupportedProp:function(){return v},useControlled:function(){return g},useEventCallback:function(){return h},useForkRef:function(){return _},useIsFocusVisible:function(){return x}});var r=n(58409),o=n(89167),a=function(...e){return e.reduce((e,t)=>null==t?e:function(...n){e.apply(this,n),t.apply(this,n)},()=>{})},i=n(30610),s=n(77883).Z,l=function(e,t){return()=>null},c=n(95592).Z,u=n(78837).Z,m=n(42751).Z;n(42096);var f=function(e,t){return()=>null},d=n(85021).Z,p=n(66268).Z,y=n(39945).Z,v=function(e,t,n,r,o){return null},g=n(72345).Z,h=n(33915).Z,_=n(44520).Z,x=n(15978).Z;let b={configure:e=>{r.Z.configure(e)}}},42041:function(e,t,n){"use strict";function r(e){return["small","middle","large"].includes(e)}function o(e){return!!e&&"number"==typeof e&&!Number.isNaN(e)}n.d(t,{T:function(){return o},n:function(){return r}})},80335:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(749),o=n(38497),a=n(52896),i=n(26869),s=n.n(i),l=n(27691),c=n(63346),u=n(10755),m=n(80214),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)0>t.indexOf(r[o])&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};let d=e=>{let{getPopupContainer:t,getPrefixCls:n,direction:i}=o.useContext(c.E_),{prefixCls:d,type:p="default",danger:y,disabled:v,loading:g,onClick:h,htmlType:_,children:x,className:b,menu:O,arrow:w,autoFocus:E,overlay:Z,trigger:P,align:j,open:I,onOpenChange:C,placement:N,getPopupContainer:$,href:k,icon:S=o.createElement(a.Z,null),title:M,buttonsRender:T=e=>e,mouseEnterDelay:F,mouseLeaveDelay:R,overlayClassName:q,overlayStyle:z,destroyPopupOnHide:A,dropdownRender:D}=e,V=f(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),K=n("dropdown",d),L=`${K}-button`,G={menu:O,arrow:w,autoFocus:E,align:j,disabled:v,trigger:v?[]:P,onOpenChange:C,getPopupContainer:$||t,mouseEnterDelay:F,mouseLeaveDelay:R,overlayClassName:q,overlayStyle:z,destroyPopupOnHide:A,dropdownRender:D},{compactSize:H,compactItemClassnames:B}=(0,m.ri)(K,i),U=s()(L,B,b);"overlay"in e&&(G.overlay=Z),"open"in e&&(G.open=I),"placement"in e?G.placement=N:G.placement="rtl"===i?"bottomLeft":"bottomRight";let W=o.createElement(l.ZP,{type:p,danger:y,disabled:v,loading:g,onClick:h,htmlType:_,href:k,title:M},x),X=o.createElement(l.ZP,{type:p,danger:y,icon:S}),[J,Q]=T([W,X]);return o.createElement(u.Z.Compact,Object.assign({className:U,size:H,block:!0},V),J,o.createElement(r.Z,Object.assign({},G),Q))};d.__ANT_BUTTON=!0;let p=r.Z;p.Button=d;var y=p},10755:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(38497),o=n(26869),a=n.n(o),i=n(10469),s=n(42041),l=n(63346),c=n(80214);let u=r.createContext({latestIndex:0}),m=u.Provider;var f=e=>{let{className:t,index:n,children:o,split:a,style:i}=e,{latestIndex:s}=r.useContext(u);return null==o?null:r.createElement(r.Fragment,null,r.createElement("div",{className:t,style:i},o),n<s&&a&&r.createElement("span",{className:`${t}-split`},a))},d=n(26578),p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)0>t.indexOf(r[o])&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};let y=r.forwardRef((e,t)=>{var n,o,c;let{getPrefixCls:u,space:y,direction:v}=r.useContext(l.E_),{size:g=null!==(n=null==y?void 0:y.size)&&void 0!==n?n:"small",align:h,className:_,rootClassName:x,children:b,direction:O="horizontal",prefixCls:w,split:E,style:Z,wrap:P=!1,classNames:j,styles:I}=e,C=p(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[N,$]=Array.isArray(g)?g:[g,g],k=(0,s.n)($),S=(0,s.n)(N),M=(0,s.T)($),T=(0,s.T)(N),F=(0,i.Z)(b,{keepEmpty:!0}),R=void 0===h&&"horizontal"===O?"center":h,q=u("space",w),[z,A,D]=(0,d.Z)(q),V=a()(q,null==y?void 0:y.className,A,`${q}-${O}`,{[`${q}-rtl`]:"rtl"===v,[`${q}-align-${R}`]:R,[`${q}-gap-row-${$}`]:k,[`${q}-gap-col-${N}`]:S},_,x,D),K=a()(`${q}-item`,null!==(o=null==j?void 0:j.item)&&void 0!==o?o:null===(c=null==y?void 0:y.classNames)||void 0===c?void 0:c.item),L=0,G=F.map((e,t)=>{var n,o;null!=e&&(L=t);let a=(null==e?void 0:e.key)||`${K}-${t}`;return r.createElement(f,{className:K,key:a,index:t,split:E,style:null!==(n=null==I?void 0:I.item)&&void 0!==n?n:null===(o=null==y?void 0:y.styles)||void 0===o?void 0:o.item},e)}),H=r.useMemo(()=>({latestIndex:L}),[L]);if(0===F.length)return null;let B={};return P&&(B.flexWrap="wrap"),!S&&T&&(B.columnGap=N),!k&&M&&(B.rowGap=$),z(r.createElement("div",Object.assign({ref:t,className:V,style:Object.assign(Object.assign(Object.assign({},B),null==y?void 0:y.style),Z)},C),r.createElement(m,{value:H},G)))});y.Compact=c.ZP;var v=y},36647:function(e,t){"use strict";t.Z=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}})},33445:function(e,t,n){"use strict";n.d(t,{Fm:function(){return p}});var r=n(72178),o=n(60234);let a=new r.E4("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),i=new r.E4("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),s=new r.E4("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),l=new r.E4("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),c=new r.E4("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),u=new r.E4("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),m=new r.E4("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),f=new r.E4("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),d={"move-up":{inKeyframes:m,outKeyframes:f},"move-down":{inKeyframes:a,outKeyframes:i},"move-left":{inKeyframes:s,outKeyframes:l},"move-right":{inKeyframes:c,outKeyframes:u}},p=(e,t)=>{let{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:a,outKeyframes:i}=d[t];return[(0,o.R)(r,a,i,e.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]}},27494:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});let r=e=>({color:e.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"&:focus, &:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}})},14290:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/prompt",function(){return n(2761)}])},2761:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r=n(96469),o=n(38497),a=n(60205),i=n(27691),s=n(78984),l=n(54506),c=n(79839),u=n(97511),m=n(90347),f=n(29869),d=n(56841),p=n(27623),y=n(55360),v=n(42786),g=n(16156),h=n(41999),_=(0,o.forwardRef)(function(e,t){let{t:n}=(0,d.$G)(),[a]=y.default.useForm(),{prompt:i,onFinish:s,scenes:l}=e,[c,u]=(0,o.useState)(!1);(0,o.useEffect)(()=>{i&&a.setFieldsValue(i)},[]);let m=async()=>{let e=a.getFieldsValue();u(!0),await s(e),u(!1)};return(0,r.jsx)(v.Z,{spinning:c,children:(0,r.jsxs)(y.default,{form:a,ref:t,name:"prompt-item-".concat((null==i?void 0:i.prompt_name)||"new"),layout:"vertical",className:"mt-4",onFinish:m,children:[(0,r.jsx)(y.default.Item,{name:"chat_scene",label:n("Prompt_Info_Scene"),rules:[{required:!0,message:n("Please_Input")+n("Prompt_Info_Scene")}],children:(0,r.jsx)(g.default,{options:l})}),(0,r.jsx)(y.default.Item,{name:"sub_chat_scene",label:n("Prompt_Info_Sub_Scene"),rules:[{required:!0,message:n("Please_Input")+n("Prompt_Info_Sub_Scene")}],children:(0,r.jsx)(h.default,{})}),(0,r.jsx)(y.default.Item,{name:"prompt_name",label:n("Prompt_Info_Name"),rules:[{required:!0,message:n("Please_Input")+n("Prompt_Info_Name")}],children:(0,r.jsx)(h.default,{disabled:!!i})}),(0,r.jsx)(y.default.Item,{name:"content",label:n("Prompt_Info_Content"),rules:[{required:!0,message:n("Please_Input")+n("Prompt_Info_Content")}],children:(0,r.jsx)(h.default.TextArea,{rows:6})})]})})});let x=e=>[{label:e("Public")+" Prompts",key:"common",icon:(0,r.jsx)(m.Z,{})},{label:e("Private")+" Prompts",key:"private",icon:(0,r.jsx)(f.Z,{})}],b=(e,t)=>[{title:e("Prompt_Info_Name"),dataIndex:"prompt_name",key:"prompt_name"},{title:e("Prompt_Info_Scene"),dataIndex:"chat_scene",key:"chat_scene"},{title:e("Prompt_Info_Sub_Scene"),dataIndex:"sub_chat_scene",key:"sub_chat_scene"},{title:e("Prompt_Info_Content"),dataIndex:"content",key:"content",render:e=>(0,r.jsx)(a.Z,{placement:"topLeft",title:e,children:e})},{title:e("Operation"),dataIndex:"operate",key:"operate",render:(n,o)=>(0,r.jsx)(i.ZP,{onClick:()=>{t(o)},type:"primary",children:e("Edit")})}];var O=()=>{let{t:e}=(0,d.$G)(),[t,n]=(0,o.useState)("common"),[a,m]=(0,o.useState)(),[f,y]=(0,o.useState)(!1),[v,g]=(0,o.useState)(),[h,O]=(0,o.useState)(!1),[w,E]=(0,o.useState)(),Z=(0,o.useRef)(),P=async()=>{y(!0);let[e,n]=await (0,p.Vx)((0,p.xA)({prompt_type:t,current:1,pageSize:1e3,hideOnSinglePage:!0,showQuickJumper:!0}));m(n),y(!1)},j=async()=>{let[,e]=await (0,p.Vx)((0,p.CU)());E(null==e?void 0:e.map(e=>({value:e.chat_scene,label:e.scene_name})))},I=async e=>{v?await (0,p.Vx)((0,p.Fu)({...e,prompt_type:t})):await (0,p.Vx)((0,p.Hy)({...e,prompt_type:t})),P(),C()},C=()=>{O(!1)};return(0,o.useEffect)(()=>{P()},[t]),(0,o.useEffect)(()=>{j()},[]),(0,r.jsxs)("div",{children:[(0,r.jsx)(s.Z,{onClick:e=>{let t=e.key;n(t)},selectedKeys:[t],mode:"horizontal",items:x(e)}),(0,r.jsxs)("div",{className:"px-6 py-4",children:[(0,r.jsxs)("div",{className:"flex flex-row-reverse mb-4",children:[(0,r.jsxs)(i.ZP,{className:"flex items-center",onClick:()=>{O(!0),g(void 0)},children:[(0,r.jsx)(u.Z,{}),e("Add")," Prompts"]}),"common"===t&&(0,r.jsxs)(i.ZP,{className:"mr-2 flex items-center",disabled:!0,children:[(0,r.jsx)(u.Z,{}),e("Add")," Prompts ",e("template")]})]}),(0,r.jsx)(l.Z,{columns:b(e,e=>{g(e),O(!0)}),dataSource:a,loading:f,rowKey:e=>e.prompt_name,scroll:{y:600}})]}),(0,r.jsx)(c.default,{title:"".concat(e(v?"Edit":"Add")," Prompts"),destroyOnClose:!0,open:h,onCancel:C,cancelText:e("cancel"),okText:e("submit"),onOk:()=>{var e;null===(e=Z.current)||void 0===e||e.submit()},children:(0,r.jsx)(_,{scenes:w,ref:Z,prompt:v,onFinish:I})})]})}},94280:function(e,t,n){"use strict";n.d(t,{G:function(){return i}});var r=n(18943),o=function(e){if((0,r.Z)()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some(function(e){return e in n.style})}return!1},a=function(e,t){if(!o(e))return!1;var n=document.createElement("div"),r=n.style[e];return n.style[e]=t,n.style[e]!==r};function i(e,t){return Array.isArray(e)||void 0===t?o(e):a(e,t)}},8874:function(e,t,n){"use strict";function r(e){if(null==e)throw TypeError("Cannot destructure "+e)}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[2768,2994,2003,5677,1999,2786,5722,749,6156,5360,9223,3127,4506,3093,1023,9774,2888,179],function(){return e(e.s=14290)}),_N_E=e.O()}]);