(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8495],{80476:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/models",function(){return t(35506)}])},81799:function(e,l,t){"use strict";t.d(l,{A:function(){return m}});var a=t(85893),s=t(41468),r=t(19284),n=t(66184),o=t(25675),i=t.n(o),d=t(67294),c=t(67421);let u="/models/huggingface.svg";function m(e,l){var t,s;let{width:n,height:o}=l||{};return e?(0,a.jsx)(i(),{className:"rounded-full border border-gray-200 object-contain bg-white inline-block",width:n||24,height:o||24,src:(null===(t=r.Hf[e])||void 0===t?void 0:t.icon)||u,alt:"llm"},(null===(s=r.Hf[e])||void 0===s?void 0:s.icon)||u):null}l.Z=function(e){let{onChange:l}=e,{t}=(0,c.$G)(),{modelList:o,model:i}=(0,d.useContext)(s.p);return!o||o.length<=0?null:(0,a.jsx)(n.default,{value:i,placeholder:t("choose_model"),className:"w-52",onChange:e=>{null==l||l(e)},children:o.map(e=>{var l;return(0,a.jsx)(n.default.Option,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[m(e),(0,a.jsx)("span",{className:"ml-2",children:(null===(l=r.Hf[e])||void 0===l?void 0:l.label)||e})]})},e)})})}},26892:function(e,l,t){"use strict";var a=t(85893),s=t(67294),r=t(66309),n=t(55241),o=t(83062),i=t(93967),d=t.n(i),c=t(25675),u=t.n(c);l.Z=(0,s.memo)(function(e){let{icon:l,iconBorder:t=!0,title:i,desc:c,tags:m,children:h,disabled:x,operations:p,className:f,extraContent:v,...j}=e,b=(0,s.useMemo)(()=>l?"string"==typeof l?(0,a.jsx)(u(),{className:d()("w-11 h-11 rounded-full mr-4 object-contain bg-white",{"border border-gray-200":t}),width:48,height:48,src:l,alt:i}):l:null,[l]),g=(0,s.useMemo)(()=>m&&m.length?(0,a.jsx)("div",{className:"flex items-center mt-1 flex-wrap",children:m.map((e,l)=>{var t;return"string"==typeof e?(0,a.jsx)(r.Z,{className:"text-xs",bordered:!1,color:"default",children:e},l):(0,a.jsx)(r.Z,{className:"text-xs",bordered:null!==(t=e.border)&&void 0!==t&&t,color:e.color,children:e.text},l)})}):null,[m]);return(0,a.jsxs)("div",{className:d()("group/card relative flex flex-col w-72 rounded justify-between text-black bg-white shadow-[0_8px_16px_-10px_rgba(100,100,100,.08)] hover:shadow-[0_14px_20px_-10px_rgba(100,100,100,.15)] dark:bg-[#232734] dark:text-white dark:hover:border-white transition-[transfrom_shadow] duration-300 hover:-translate-y-1 min-h-fit",{"grayscale cursor-no-drop":x,"cursor-pointer":!x&&!!j.onClick},f),...j,children:[(0,a.jsxs)("div",{className:"p-4 0",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[b,(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(n.Z,{title:i,children:(0,a.jsx)("h2",{className:"text-sm font-semibold line-clamp-1 pr-8",children:i})}),g]})]}),c&&(0,a.jsx)(o.Z,{title:c,children:(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500 font-normal line-clamp-2",children:c})})]}),(0,a.jsxs)("div",{children:[h,p&&!!p.length&&(0,a.jsx)("div",{className:"flex flex-wrap items-center justify-center border-t border-solid border-gray-100 dark:border-theme-dark",children:p.map((e,l)=>(0,a.jsx)(o.Z,{title:e.label,children:(0,a.jsxs)("div",{className:"relative flex flex-1 items-center justify-center h-11 text-gray-400 hover:text-blue-500 transition-colors duration-300 cursor-pointer",onClick:l=>{var t;l.stopPropagation(),null===(t=e.onClick)||void 0===t||t.call(e)},children:[e.children,l<p.length-1&&(0,a.jsx)("div",{className:"w-[1px] h-6 absolute top-2 right-0 bg-gray-100 rounded dark:bg-theme-dark"})]})},"operation-".concat(l)))})]}),(0,a.jsx)("div",{className:"absolute top-2 right-4 ",children:v})]})})},14141:function(e,l,t){"use strict";t.d(l,{Z:function(){return j}});var a=t(85893),s=t(76212),r=t(66184),n=t(99859),o=t(45360),i=t(83062),d=t(14726),c=t(67294),u=t(67421),m=t(81799),h=t(79531),x=t(10418),p=t(84567),f=function(e){let{params:l,form:t}=e;return((0,c.useEffect)(()=>{if(l){let e={};l.forEach(l=>{e[l.param_name]=l.default_value}),t.setFieldsValue(e)}},[l,t]),!l||(null==l?void 0:l.length)<1)?null:(0,a.jsx)(a.Fragment,{children:null==l?void 0:l.map(e=>{var l;return(0,a.jsx)(n.default.Item,{label:(0,a.jsx)("p",{className:"whitespace-normal overflow-wrap-break-word",children:(null===(l=e.description)||void 0===l?void 0:l.length)>20?e.param_name:e.description}),name:e.param_name,initialValue:e.default_value,valuePropName:"bool"===e.param_type?"checked":"value",tooltip:e.description,rules:[{required:e.required,message:"Please input ".concat(e.description)}],children:function(e){switch(e.param_type){case"str":return(0,a.jsx)(h.default,{});case"int":return(0,a.jsx)(x.Z,{});case"bool":return(0,a.jsx)(p.Z,{})}}(e)},e.param_name)})})};let{Option:v}=r.default;var j=function(e){let{onCancel:l,onSuccess:t}=e,{t:h}=(0,u.$G)(),[x,p]=(0,c.useState)([]),[j,b]=(0,c.useState)(),[g,_]=(0,c.useState)(null),[w,N]=(0,c.useState)(!1),[y]=n.default.useForm();async function k(){let[,e]=await (0,s.Vx)((0,s.xv)());e&&e.length&&p(e.sort((e,l)=>e.enabled&&!l.enabled?-1:!e.enabled&&l.enabled?1:e.model.localeCompare(l.model))),p(e)}async function Z(e){if(!j)return;delete e.model,N(!0);let[,,l]=await (0,s.Vx)((0,s.vA)({host:j.host,port:j.port,model:j.model,worker_type:null==j?void 0:j.worker_type,params:e}));if(N(!1),(null==l?void 0:l.success)===!0)return t&&t(),o.ZP.success(h("start_model_success"))}return(0,c.useEffect)(()=>{k()},[]),(0,a.jsxs)(n.default,{labelCol:{span:8},wrapperCol:{span:16},onFinish:Z,form:y,children:[(0,a.jsx)(n.default.Item,{label:"Model",name:"model",rules:[{required:!0,message:h("model_select_tips")}],children:(0,a.jsx)(r.default,{showSearch:!0,onChange:function(e,l){b(l.model),_(l.model.params)},children:null==x?void 0:x.map(e=>(0,a.jsxs)(v,{value:e.model,label:e.model,model:e,disabled:!e.enabled,children:[(0,m.A)(e.model),(0,a.jsx)(i.Z,{title:e.enabled?e.model:h("download_model_tip"),children:(0,a.jsx)("span",{className:"ml-2",children:e.model})}),(0,a.jsx)(i.Z,{title:e.enabled?"".concat(e.host,":").concat(e.port):h("download_model_tip"),children:(0,a.jsxs)("p",{className:"inline-block absolute right-4",children:[(0,a.jsxs)("span",{children:[e.host,":"]}),(0,a.jsx)("span",{children:e.port})]})})]},e.model))})}),(0,a.jsx)(f,{params:g,form:y}),(0,a.jsxs)("div",{className:"flex justify-center",children:[(0,a.jsx)(d.ZP,{type:"primary",htmlType:"submit",loading:w,children:h("submit")}),(0,a.jsx)(d.ZP,{className:"ml-10",onClick:l,children:"Cancel"})]})]})}},35506:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return p}});var a=t(85893),s=t(76212),r=t(67294),n=t(67421);t(45360);var o=t(30381),i=t.n(o),d=t(26892),c=t(62418),u=function(e){var l;let{info:t}=e,{t:s}=(0,n.$G)(),[o,u]=(0,r.useState)(!1);return(0,a.jsx)(d.Z,{className:"w-96",title:t.model_name,tags:[{text:t.healthy?"Healthy":"Unhealthy",color:t.healthy?"green":"red",border:!0},t.model_type],icon:(null===(l=c.Hf[t.model_name])||void 0===l?void 0:l.icon)||"/models/huggingface.svg",children:(0,a.jsxs)("div",{className:"flex flex-col gap-1 px-4 pb-4 text-xs",children:[(0,a.jsxs)("div",{className:"flex overflow-hidden",children:[(0,a.jsx)("p",{className:"w-28 text-gray-500 mr-2",children:"Host:"}),(0,a.jsx)("p",{className:"flex-1 text-ellipsis",children:t.host})]}),(0,a.jsxs)("div",{className:"flex overflow-hidden",children:[(0,a.jsx)("p",{className:"w-28 text-gray-500 mr-2",children:"Manage Host:"}),(0,a.jsxs)("p",{className:"flex-1 text-ellipsis",children:[t.manager_host,":",t.manager_port]})]}),(0,a.jsxs)("div",{className:"flex overflow-hidden",children:[(0,a.jsx)("p",{className:"w-28 text-gray-500 mr-2",children:"Last Heart Beat:"}),(0,a.jsx)("p",{className:"flex-1 text-ellipsis",children:i()(t.last_heartbeat).format("YYYY-MM-DD")})]})]})})},m=t(14141),h=t(14726),x=t(85576),p=function(){let{t:e}=(0,n.$G)(),[l,t]=(0,r.useState)([]),[o,i]=(0,r.useState)(!1);async function d(){let[,e]=await (0,s.Vx)((0,s.fZ)());t(null!=e?e:[])}return(0,r.useEffect)(()=>{d()},[]),(0,a.jsxs)("div",{className:"p-4 md:p-6 overflow-y-auto",children:[(0,a.jsx)(h.ZP,{className:"mb-4",type:"primary",onClick:()=>{i(!0)},children:e("create_model")}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 md:gap-4",children:l.map(e=>(0,a.jsx)(u,{info:e},e.model_name))}),(0,a.jsx)(x.default,{width:800,open:o,title:e("create_model"),onCancel:()=>{i(!1)},footer:null,children:(0,a.jsx)(m.Z,{onCancel:()=>{i(!1)},onSuccess:()=>{i(!1),d()}})})]})}}},function(e){e.O(0,[7779,3791,7656,2913,6184,9859,4567,418,2693,9774,2888,179],function(){return e(e.s=80476)}),_N_E=e.O()}]);