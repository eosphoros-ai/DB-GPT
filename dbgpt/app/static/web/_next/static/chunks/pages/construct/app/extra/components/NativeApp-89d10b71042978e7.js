(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3394],{32857:function(e,t){"use strict";t.Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"}},509:function(e,t){"use strict";t.Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"}},8745:function(e,t,a){"use strict";a.d(t,{i:function(){return l}});var n=a(67294),r=a(21770),i=a(28459),o=a(53124);function l(e){return t=>n.createElement(i.ZP,{theme:{token:{motion:!1,zIndexPopupBase:0}}},n.createElement(e,Object.assign({},t)))}t.Z=(e,t,a,i)=>l(l=>{let{prefixCls:s,style:c}=l,u=n.useRef(null),[d,m]=n.useState(0),[f,v]=n.useState(0),[p,h]=(0,r.Z)(!1,{value:l.open}),{getPrefixCls:_}=n.useContext(o.E_),g=_(t||"select",s);n.useEffect(()=>{if(h(!0),"undefined"!=typeof ResizeObserver){let e=new ResizeObserver(e=>{let t=e[0].target;m(t.offsetHeight+8),v(t.offsetWidth)}),t=setInterval(()=>{var n;let r=a?`.${a(g)}`:`.${g}-dropdown`,i=null===(n=u.current)||void 0===n?void 0:n.querySelector(r);i&&(clearInterval(t),e.observe(i))},10);return()=>{clearInterval(t),e.disconnect()}}},[]);let y=Object.assign(Object.assign({},l),{style:Object.assign(Object.assign({},c),{margin:0}),open:p,visible:p,getPopupContainer:()=>u.current});return i&&(y=i(y)),n.createElement("div",{ref:u,style:{paddingBottom:d,position:"relative",minWidth:f}},n.createElement(e,Object.assign({},y)))})},33507:function(e,t){"use strict";t.Z=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}})},33297:function(e,t,a){"use strict";a.d(t,{Fm:function(){return v}});var n=a(47648),r=a(93590);let i=new n.E4("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),o=new n.E4("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),l=new n.E4("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),s=new n.E4("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),c=new n.E4("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),u=new n.E4("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),d=new n.E4("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),m=new n.E4("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),f={"move-up":{inKeyframes:d,outKeyframes:m},"move-down":{inKeyframes:i,outKeyframes:o},"move-left":{inKeyframes:l,outKeyframes:s},"move-right":{inKeyframes:c,outKeyframes:u}},v=(e,t)=>{let{antCls:a}=e,n=`${a}-${t}`,{inKeyframes:i,outKeyframes:o}=f[t];return[(0,r.R)(n,i,o,e.motionDurationMid),{[`
        ${n}-enter,
        ${n}-appear
      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${n}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]}},64894:function(e,t,a){"use strict";var n=a(83963),r=a(67294),i=a(32857),o=a(30672),l=r.forwardRef(function(e,t){return r.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:i.Z}))});t.Z=l},25783:function(e,t,a){"use strict";var n=a(83963),r=a(67294),i=a(509),o=a(30672),l=r.forwardRef(function(e,t){return r.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:i.Z}))});t.Z=l},58264:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/construct/app/extra/components/NativeApp",function(){return a(76054)}])},48218:function(e,t,a){"use strict";var n=a(85893),r=a(82353),i=a(16165),o=a(67294);t.Z=e=>{let{width:t,height:a,scene:l}=e,s=(0,o.useCallback)(()=>{switch(l){case"chat_knowledge":return r.je;case"chat_with_db_execute":return r.zM;case"chat_excel":return r.DL;case"chat_with_db_qa":case"chat_dba":return r.RD;case"chat_dashboard":return r.In;case"chat_agent":return r.si;case"chat_normal":return r.O7;default:return}},[l]);return(0,n.jsx)(i.Z,{className:"w-".concat(t||7," h-").concat(a||7),component:s()})}},76054:function(e,t,a){"use strict";a.r(t);var n=a(85893),r=a(76212),i=a(48218),o=a(65654),l=a(8232),s=a(83062),c=a(34041),u=a(73320),d=a(93967),m=a.n(d),f=a(67294),v=a(67421);t.default=e=>{var t,a;let{classNames:d,initValue:p,updateData:h}=e,{t:_}=(0,v.$G)(),[g]=l.default.useForm(),y=l.default.useWatch("chat_scene",g),w=l.default.useWatch("bind_value",g),O=l.default.useWatch("model",g),b=l.default.useWatch("temperature",g),{team_context:x,param_need:E}=p||{},{data:C,loading:j}=(0,o.Z)(async()=>{var e,t,a;let n=await Promise.all([(0,r.Vx)((0,r.tM)()),(0,r.Vx)((0,r.m9)("priority"))]),[i,o]=n;return g.setFieldValue("chat_scene",null==x?void 0:x.chat_scene),g.setFieldValue("model",null===(e=null==E?void 0:E.find(e=>"model"===e.type))||void 0===e?void 0:e.value),g.setFieldValue("temperature",null===(t=null==E?void 0:E.find(e=>"temperature"===e.type))||void 0===t?void 0:t.value),await I((null===(a=null==E?void 0:E.find(e=>"resource"===e.type))||void 0===a?void 0:a.value)||""),[i,o]}),{data:Z,loading:M,run:I}=(0,o.Z)(async e=>{var t,a,n;let[,i]=await (0,r.Vx)((0,r.RX)({type:e}));return y===(null==x?void 0:x.chat_scene)&&(null===(t=null==E?void 0:E.find(e=>"resource"===e.type))||void 0===t?void 0:t.bind_value)&&g.setFieldsValue({bind_value:null===(a=null==E?void 0:E.find(e=>"resource"===e.type))||void 0===a?void 0:a.bind_value}),null!==(n=null==i?void 0:i.map(e=>({...e,value:e.key})))&&void 0!==n?n:[]},{manual:!0}),$=(0,f.useMemo)(()=>{var e;let t=null==C?void 0:null===(e=C[0])||void 0===e?void 0:e[1];return(null==t?void 0:t.map(e=>{var t;return{...e,label:(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(i.Z,{width:4,height:4,scene:e.chat_scene}),(0,n.jsx)(s.Z,{title:"资源类型".concat(null===(t=e.param_need.find(e=>"resource"===e.type))||void 0===t?void 0:t.value),children:(0,n.jsx)("span",{className:"text-[#525964] dark:text-[rgba(255,255,255,0.65)]  ml-1",children:e.scene_name})})]}),value:e.chat_scene}}))||[]},[C]);return(0,f.useEffect)(()=>{var e,t,a,n;let r=g.getFieldsValue();h([j,[{chat_scene:r.chat_scene,scene_name:null===(e=$.find(e=>e.chat_scene===r.chat_scene))||void 0===e?void 0:e.scene_name},[{type:"model",value:r.model},{type:"temperature",value:r.temperature},{type:"resource",value:null===(t=null===(a=$.find(e=>e.chat_scene===r.chat_scene))||void 0===a?void 0:null===(n=a.param_need)||void 0===n?void 0:n.find(e=>"resource"===e.type))||void 0===t?void 0:t.value,bind_value:r.bind_value}]]])},[g,y,w,O,b,h,$,j]),(0,f.useEffect)(()=>{var e,t,a,n,r;let i=null===(e=null===(t=null==C?void 0:null===(a=C[0])||void 0===a?void 0:null===(n=a[1])||void 0===n?void 0:n.find(e=>e.chat_scene===y))||void 0===t?void 0:null===(r=t.param_need)||void 0===r?void 0:r.find(e=>"resource"===e.type))||void 0===e?void 0:e.value;I(i||"")},[y,C,I]),(0,n.jsx)("div",{className:m()(d),children:(0,n.jsxs)(l.default,{form:g,autoComplete:"off",style:{width:"100%"},labelCol:{span:3},wrapperCol:{span:21},children:[(0,n.jsx)(l.default.Item,{label:_("native_type"),tooltip:!0,name:"chat_scene",children:(0,n.jsx)(c.default,{className:"w-1/2",options:$,placeholder:_("app_type_select"),onChange:()=>g.setFieldsValue({bind_value:void 0})})}),"chat_excel"!==y&&(0,n.jsx)(l.default.Item,{label:_("Arguments"),name:"bind_value",children:(0,n.jsx)(c.default,{placeholder:_("please_select_param"),allowClear:!0,className:"w-1/2",options:Z,loading:M})}),(0,n.jsx)(l.default.Item,{label:_("model"),tooltip:!0,name:"model",children:(0,n.jsx)(c.default,{placeholder:_("please_select_model"),allowClear:!0,options:null==C?void 0:null===(t=C[1])||void 0===t?void 0:null===(a=t[1])||void 0===a?void 0:a.map(e=>({label:e,value:e})),className:"w-1/2"})}),(0,n.jsx)(l.default.Item,{label:_("temperature"),tooltip:!0,name:"temperature",children:(0,n.jsx)(u.Z,{className:"w-1/5 h-8",max:1,min:0,step:.1,placeholder:_("please_input_temperature")})})]})})}}},function(e){e.O(0,[2648,3791,4041,8232,3320,9774,2888,179],function(){return e(e.s=58264)}),_N_E=e.O()}]);