(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4598],{68460:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/construct/agent",function(){return a(21786)}])},26953:function(e,t,a){"use strict";var s=a(96469),n=a(67901),l=a(42834),i=a(38497);t.Z=e=>{let{width:t,height:a,scene:r}=e,c=(0,i.useCallback)(()=>{switch(r){case"chat_knowledge":return n.je;case"chat_with_db_execute":return n.zM;case"chat_excel":return n.DL;case"chat_with_db_qa":case"chat_dba":return n.RD;case"chat_dashboard":return n.In;case"chat_agent":return n.si;case"chat_normal":return n.O7;default:return}},[r]);return(0,s.jsx)(l.Z,{className:"w-".concat(t||7," h-").concat(a||7),component:c()})}},52903:function(e,t,a){"use strict";a.d(t,{TH:function(){return x},ZS:function(){return g}});var s=a(96469),n=a(52896),l=a(60205),i=a(87674),r=a(85851),c=a(80335),o=a(26869),d=a.n(o),u=a(83930),h=a(23852),m=a.n(h);a(38497);var p=a(26953);a(96768);let x=e=>{let{onClick:t,Icon:a="/pictures/card_chat.png",text:n=(0,u.t)("start_chat")}=e;return"string"==typeof a&&(a=(0,s.jsx)(m(),{src:a,alt:a,width:17,height:15})),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-default",onClick:e=>{e.stopPropagation(),t&&t()},children:[a,(0,s.jsx)("span",{children:n})]})},g=e=>{let{menu:t}=e;return(0,s.jsx)(c.Z,{menu:t,getPopupContainer:e=>e.parentNode,placement:"bottomRight",autoAdjustOverflow:!1,children:(0,s.jsx)(n.Z,{className:"p-2 hover:bg-white hover:dark:bg-black rounded-md"})})};t.ZP=e=>{let{RightTop:t,Tags:a,LeftBottom:n,RightBottom:c,onClick:o,rightTopHover:u=!0,logo:h,name:x,description:g,className:f,scene:b,code:j}=e;return"string"==typeof g&&(g=(0,s.jsx)("p",{className:"line-clamp-2 relative bottom-4 text-ellipsis min-h-[42px] text-sm text-[#525964] dark:text-[rgba(255,255,255,0.65)]",children:g})),(0,s.jsx)("div",{className:d()("hover-underline-gradient flex justify-center mt-6 relative group w-1/3 px-2 mb-6",f),children:(0,s.jsxs)("div",{onClick:o,className:"backdrop-filter backdrop-blur-lg cursor-pointer  bg-white bg-opacity-70 border-2 border-white rounded-lg shadow p-4 relative w-full h-full dark:border-[#6f7f95] dark:bg-[#6f7f95] dark:bg-opacity-60",children:[(0,s.jsxs)("div",{className:"flex items-end relative bottom-8 justify-between w-full",children:[(0,s.jsxs)("div",{className:"flex items-end gap-4 w-11/12  flex-1",children:[(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm w-14 h-14 flex items-center p-3",children:b?(0,s.jsx)(p.Z,{scene:b,width:14,height:14}):h&&(0,s.jsx)(m(),{src:h,width:44,height:44,alt:x,className:"w-8 min-w-8 rounded-full max-w-none"})}),(0,s.jsx)("div",{className:"flex-1",children:x.length>6?(0,s.jsx)(l.Z,{title:x,children:(0,s.jsx)("span",{className:"line-clamp-1 text-ellipsis font-semibold text-base",style:{maxWidth:"60%"},children:x})}):(0,s.jsx)("span",{className:"line-clamp-1 text-ellipsis font-semibold text-base",style:{maxWidth:"60%"},children:x})})]}),(0,s.jsx)("span",{className:d()("shrink-0",{hidden:u,"group-hover:block":u}),onClick:e=>{e.stopPropagation()},children:t})]}),g,(0,s.jsx)("div",{className:"relative bottom-2",children:a}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{children:n}),(0,s.jsx)("div",{children:c})]}),j&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{className:"my-3"}),(0,s.jsx)(r.Z.Text,{copyable:!0,className:"absolute bottom-1 right-4 text-xs text-gray-500",children:j})]})]})})}},86059:function(e,t,a){"use strict";var s=a(96469),n=a(67901),l=a(31183),i=a(51382),r=a(42834),c=a(43738),o=a(92026),d=a(61760),u=a(94918),h=a(42518),m=a(5996),p=a(83930),x=a(87313);a(38497),a(41748),t.Z=function(e){let{children:t}=e,a=[{key:"app",name:(0,p.t)("App"),path:"/app",icon:(0,s.jsx)(l.Z,{})},{key:"flow",name:(0,p.t)("awel_flow"),icon:(0,s.jsx)(i.Z,{}),path:"/flow"},{key:"models",name:(0,p.t)("model_manage"),path:"/models",icon:(0,s.jsx)(r.Z,{component:n.IN})},{key:"database",name:(0,p.t)("Database"),icon:(0,s.jsx)(c.Z,{}),path:"/database"},{key:"knowledge",name:(0,p.t)("Knowledge_Space"),icon:(0,s.jsx)(o.Z,{}),path:"/knowledge"},{key:"prompt",name:(0,p.t)("Prompt"),icon:(0,s.jsx)(d.Z,{}),path:"/prompt"},{key:"dbgpts",name:(0,p.t)("dbgpts_community"),path:"/dbgpts",icon:(0,s.jsx)(u.Z,{})}],g=(0,x.useRouter)(),f=g.pathname.split("/")[2];return(0,s.jsx)("div",{className:"flex flex-col h-full w-full  dark:bg-gradient-dark bg-gradient-light bg-cover bg-center",children:(0,s.jsx)(h.ZP,{theme:{components:{Button:{},Segmented:{itemSelectedBg:"#2867f5",itemSelectedColor:"white"}}},children:(0,s.jsx)(m.Z,{activeKey:f,items:a.map(e=>({key:e.key,label:e.name,children:t,icon:e.icon})),onTabClick:e=>{g.push("/construct/".concat(e))}})})})}},21786:function(e,t,a){"use strict";a.r(t);var s=a(96469),n=a(27623),l=a(52903),i=a(86059),r=a(56010),c=a(67620),o=a(91158),d=a(16602),u=a(70351),h=a(42786),m=a(197),p=a(27691),x=a(49030),g=a(26869),f=a.n(g),b=a(61671),j=a.n(b),w=a(38497),v=a(56841);t.default=function(){let{t:e}=(0,v.$G)(),[t]=(0,w.useState)(""),[a,g]=(0,w.useState)("market"),[b,k]=(0,w.useState)(!1),[_,y]=(0,w.useState)(!1),[N,Z]=(0,w.useState)(),C=(0,w.useMemo)(()=>({pageNo:1,pageSize:20}),[]),{data:P=[],loading:S,refresh:T}=(0,d.Z)(async()=>{var e;if("my"===a){let[e,t]=await (0,n.Vx)((0,n.N6)());return y(!!e),null!=t?t:[]}let s={page_index:C.pageNo,page_size:C.pageSize,filter:{name:t||void 0}},[l,i]=await (0,n.Vx)((0,n.bC)(s));return y(!!l),null!==(e=null==i?void 0:i.datas)&&void 0!==e?e:[]},{manual:!0}),E=async()=>{try{k(!0);let[e]=await (0,n.Vx)((0,n.DM)());if(e)return;u.ZP.success("success"),T()}finally{k(!1)}};(0,w.useEffect)(()=>{T()},[a]);let I=(0,w.useCallback)(async(e,t,a)=>{if(N)return;Z(t);let[s]=await (0,n.Vx)((a?n.v6:n.YU)(e));s||(u.ZP.success("success"),T()),Z(void 0)},[N,T]),M=[{value:"market",label:e("Market_Plugins")},{value:"my",label:e("My_Plugins")}];return(0,s.jsx)(i.Z,{children:(0,s.jsx)("div",{className:"px-6",children:(0,s.jsxs)(h.Z,{spinning:S,children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsx)(m.Z,{className:"backdrop-filter backdrop-blur-lg bg-white bg-opacity-30 border-2 border-white rounded-lg shadow p-1 dark:border-[#6f7f95] dark:bg-[#6f7f95] dark:bg-opacity-60",options:M,onChange:e=>{g(e)},value:a})}),(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsx)(p.ZP,{className:f()("border-none text-white bg-button-gradient h-full",{"opacity-40":!1}),loading:b,icon:(0,s.jsx)(r.Z,{}),onClick:E,children:e("Update_From_Github")})})]}),P.map((t,n)=>(0,s.jsx)(l.ZP,{logo:"/pictures/agent.png",onClick:()=>{t.storage_url&&window.open(t.storage_url,"_blank")},description:t.description,name:t.name,Tags:(0,s.jsxs)("div",{children:[t.author&&(0,s.jsx)(x.Z,{children:t.author}),t.version&&(0,s.jsxs)(x.Z,{children:["v",t.version]}),t.type&&(0,s.jsxs)(x.Z,{children:["Type ",t.type]}),t.storage_channel&&(0,s.jsx)(x.Z,{children:t.storage_channel})]}),LeftBottom:(0,s.jsxs)("div",{className:"flex gap-2",children:[t.author&&(0,s.jsx)("span",{children:t.author}),t.author&&(0,s.jsx)("span",{children:"â€¢"}),(null==t?void 0:t.gmt_created)&&(0,s.jsx)("span",{children:j()(null==t?void 0:t.gmt_created).fromNow()+" "+e("update")})]}),RightBottom:t.installed||"my"==a?(0,s.jsx)(l.TH,{Icon:(0,s.jsx)(c.Z,{}),text:"Uninstall",onClick:()=>{I(t.name,n,!1)}}):(0,s.jsx)(l.TH,{Icon:(0,s.jsx)(o.Z,{}),text:"Install",onClick:()=>{I(t.name,n,!0)}})},t.id))]})})})}},96768:function(){},41748:function(){}},function(e){e.O(0,[2394,2003,5677,2786,5722,5851,335,5996,5444,8284,9774,2888,179],function(){return e(e.s=68460)}),_N_E=e.O()}]);