(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3362],{87674:function(e,t,a){"use strict";a.d(t,{Z:function(){return f}});var n=a(38497),r=a(26869),i=a.n(r),o=a(63346),l=a(38083),d=a(60848),s=a(90102),c=a(74934);let u=e=>{let{componentCls:t,sizePaddingEdgeHorizontal:a,colorSplit:n,lineWidth:r,textPaddingInline:i,orientationMargin:o,verticalMarginInline:s}=e;return{[t]:Object.assign(Object.assign({},(0,d.Wf)(e)),{borderBlockStart:`${(0,l.bf)(r)} solid ${n}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:s,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,l.bf)(r)} solid ${n}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,l.bf)(e.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,l.bf)(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${n}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,l.bf)(r)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-left`]:{"&::before":{width:`calc(${o} * 100%)`},"&::after":{width:`calc(100% - ${o} * 100%)`}},[`&-horizontal${t}-with-text-right`]:{"&::before":{width:`calc(100% - ${o} * 100%)`},"&::after":{width:`calc(${o} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:i},"&-dashed":{background:"none",borderColor:n,borderStyle:"dashed",borderWidth:`${(0,l.bf)(r)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:r,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:n,borderStyle:"dotted",borderWidth:`${(0,l.bf)(r)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:r,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-left${t}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:a}},[`&-horizontal${t}-with-text-right${t}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:a}}})}};var p=(0,s.I$)("Divider",e=>{let t=(0,c.IX)(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[u(t)]},e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),{unitless:{orientationMargin:!0}}),m=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a},f=e=>{let{getPrefixCls:t,direction:a,divider:r}=n.useContext(o.E_),{prefixCls:l,type:d="horizontal",orientation:s="center",orientationMargin:c,className:u,rootClassName:f,children:g,dashed:h,variant:b="solid",plain:x,style:v}=e,_=m(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),$=t("divider",l),[w,y,k]=p($),j=!!g,S="left"===s&&null!=c,N="right"===s&&null!=c,I=i()($,null==r?void 0:r.className,y,k,`${$}-${d}`,{[`${$}-with-text`]:j,[`${$}-with-text-${s}`]:j,[`${$}-dashed`]:!!h,[`${$}-${b}`]:"solid"!==b,[`${$}-plain`]:!!x,[`${$}-rtl`]:"rtl"===a,[`${$}-no-default-orientation-margin-left`]:S,[`${$}-no-default-orientation-margin-right`]:N},u,f),O=n.useMemo(()=>"number"==typeof c?c:/^\d+$/.test(c)?Number(c):c,[c]),z=Object.assign(Object.assign({},S&&{marginLeft:O}),N&&{marginRight:O});return w(n.createElement("div",Object.assign({className:I,style:Object.assign(Object.assign({},null==r?void 0:r.style),v)},_,{role:"separator"}),g&&"vertical"!==d&&n.createElement("span",{className:`${$}-inner-text`,style:z},g)))}},36647:function(e,t){"use strict";t.Z=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}})},92896:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/construct/app/components/create-app-modal",function(){return a(2997)}])},2997:function(e,t,a){"use strict";a.r(t);var n=a(96469),r=a(27623),i=a(16602),o=a(95891),l=a(55360),d=a(42518),s=a(79839),c=a(42786),u=a(71841),p=a(87674),m=a(26869),f=a.n(m),g=a(23852),h=a.n(g),b=a(87313),x=a(38497),v=a(56841),_=a(80017),$=a.n(_);let w=e=>{let{disable:t=!1,options:a=[],value:r,onChange:i}=e,[o,l]=(0,x.useState)(r||{}),{i18n:d}=(0,v.$G)(),s=e=>t?f()("flex items-center p-4 border rounded-lg border-[#d9d9d9]  cursor-not-allowed relative transition-all duration-500 ease-in-out",{"bg-[rgba(0,0,0,0.04)] dark:bg-[#606264]":e.value===(null==o?void 0:o.value)}):"flex items-center p-4  border dark:border-[rgba(217,217,217,0.85)] rounded-lg cursor-pointer hover:border-[#0c75fc] hover:bg-[#f5faff] dark:hover:border-[rgba(12,117,252,0.85)] dark:hover:bg-[#606264] relative transition-all duration-300 ease-in-out ".concat(e.value===(null==o?void 0:o.value)?"border-[#0c75fc] bg-[#f5faff] dark:bg-[#606264] dark:border-[#0c75fc]":"border-[#d9d9d9]"," "),c="en"===d.language;return(0,n.jsx)("div",{className:"grid grid-cols-2 gap-4",children:a.map(e=>(0,n.jsxs)("div",{className:s(e),onClick:()=>{t||(l(e),null==i||i({...r,...e}))},children:[(0,n.jsx)(h(),{src:"/icons/app/".concat(e.value,".png"),width:48,height:48,alt:e.value}),(0,n.jsxs)("div",{className:"flex flex-col ml-3",children:[(0,n.jsx)("span",{className:"text-xs font-medium text-[rgba(0,0,0,0.85)] dark:text-[rgba(255,255,255,0.85)] first-line:leading-6",children:c?e.name_en:e.name_cn}),(0,n.jsx)("span",{className:"text-xs text-[rgba(0,0,0,0.45)] dark:text-[rgba(255,255,255,0.85)]",children:c?e.description_en:e.description})]}),e.value===(null==o?void 0:o.value)&&(0,n.jsx)("div",{className:"w-3 h-3 rounded-tr-md absolute top-[1px] right-[1px] transition-all duration-300 ease-in-out",style:{background:"linear-gradient(to right top, transparent 50%, transparent 50%, ".concat(t?"#d0d0d0":"#0c75fc"," 0)")}})]},e.value))})};t.default=e=>{let{open:t,onCancel:a,type:m="add",refresh:f}=e,{t:g,i18n:h}=(0,v.$G)(),_=JSON.parse(localStorage.getItem("new_app_info")||"{}"),{message:y}=o.Z.useApp(),[k]=l.default.useForm(),j=l.default.useWatch("team_mode",k),S=(0,b.useRouter)(),N="en"===h.language,{data:I,loading:O}=(0,i.Z)(async()=>{let[e,t]=await (0,r.Vx)((0,r.lz)());return null!=t?t:[]}),{run:z,loading:E}=(0,i.Z)(async e=>"edit"===m?await (0,r.Vx)((0,r.KT)({app_code:null==_?void 0:_.app_code,language:"zh",...e})):await (0,r.Vx)((0,r.L5)({language:"zh",...e})),{manual:!0,onSuccess:async e=>{let[t,n]=e;if(t)y.error("edit"===m?g("Update_failure"):g("Create_failure"));else if("edit"===m){var i;let[,e]=await (0,r.Vx)((0,r.yk)({})),t=null==e?void 0:null===(i=e.app_list)||void 0===i?void 0:i.find(e=>e.app_code===(null==_?void 0:_.app_code));localStorage.setItem("new_app_info",JSON.stringify({...t,isEdit:!0})),y.success(g("Update_successfully"))}else y.success(g("Create_successfully")),localStorage.setItem("new_app_info",JSON.stringify(n)),S.push("/construct/app/extra");await (null==f?void 0:f()),a()}}),C=(0,x.useMemo)(()=>{var e;return null===(e=null==I?void 0:I.filter(e=>e.value===(null==_?void 0:_.team_mode)))||void 0===e?void 0:e[0]},[_,I]);return O?null:(0,n.jsx)(d.ZP,{theme:{components:{Button:{defaultBorderColor:"#d9d9d9"}}},children:(0,n.jsx)(s.default,{className:$()["create-app-modal-container"],title:g("create_app"),width:900,open:t,onOk:async()=>{k.validateFields().then(async e=>{var t;await z({app_name:null==e?void 0:e.app_name,app_describe:null==e?void 0:e.app_describe,team_mode:null==e?void 0:null===(t=e.team_mode)||void 0===t?void 0:t.value})})},onCancel:a,centered:!0,children:(0,n.jsx)(c.Z,{spinning:E,children:(0,n.jsxs)("div",{className:"flex flex-1",children:[(0,n.jsxs)(l.default,{layout:"vertical",className:"w-3/5",form:k,initialValues:{team_mode:C||(null==I?void 0:I[0]),app_name:null==_?void 0:_.app_name,app_describe:null==_?void 0:_.app_describe},children:[(0,n.jsx)(l.default.Item,{label:g("team_modal"),name:"team_mode",required:!0,rules:[{required:!0,message:g("Please_input_the_work_modal")}],children:(0,n.jsx)(w,{disable:"edit"===m,options:I||[]})}),(0,n.jsx)(l.default.Item,{label:"".concat(g("app_name"),"："),name:"app_name",required:!0,rules:[{required:!0,message:g("input_app_name")}],children:(0,n.jsx)(u.default,{placeholder:g("input_app_name"),autoComplete:"off",className:"h-8"})}),(0,n.jsx)(l.default.Item,{label:"".concat(g("Description"),"："),name:"app_describe",required:!0,rules:[{required:!0,message:g("Please_input_the_description")}],children:(0,n.jsx)(u.default.TextArea,{autoComplete:"off",placeholder:g("Please_input_the_description"),autoSize:{minRows:2.5}})})]}),(0,n.jsx)(p.Z,{type:"vertical",className:"h-auto mx-6 bg-[rgba(0,0,0,0.06)] dark:bg-[rgba(255,255,255,0.5)] "}),(0,n.jsxs)("div",{className:"flex flex-col w-2/5 pl-6 pt-8 ",children:[(0,n.jsx)("span",{className:"text-base text-[rgba(0,0,0,0.85)] font-medium mb-6 dark:text-[rgba(255,255,255,0.85)]",children:N?null==j?void 0:j.name_en:null==j?void 0:j.name_cn}),(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("span",{className:"flex flex-shrink-0 w-1 h-1 rounded-full bg-[rgba(0,0,0,0.45)] mt-2 mr-1 dark:bg-[rgba(255,255,255,0.65)]"}),(0,n.jsx)("span",{className:"text-xs leading-5 text-[rgba(0,0,0,0.45)] dark:text-[rgba(255,255,255,0.65)]",children:N?null==j?void 0:j.remark_en:null==j?void 0:j.remark})]})]})]})})})})}},80017:function(e){e.exports={"create-app-modal-container":"styles_create-app-modal-container___tIEs"}}},function(e){e.O(0,[2394,5677,1841,2786,5360,9774,2888,179],function(){return e(e.s=92896)}),_N_E=e.O()}]);