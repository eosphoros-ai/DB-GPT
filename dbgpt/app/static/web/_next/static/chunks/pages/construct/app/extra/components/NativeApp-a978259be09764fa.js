(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3394],{69274:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=a(42096),r=a(38497),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},i=a(55032),l=r.forwardRef(function(e,t){return r.createElement(i.Z,(0,n.Z)({},e,{ref:t,icon:o}))})},29766:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=a(42096),r=a(38497),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},i=a(55032),l=r.forwardRef(function(e,t){return r.createElement(i.Z,(0,n.Z)({},e,{ref:t,icon:o}))})},36647:function(e,t){"use strict";t.Z=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}})},33445:function(e,t,a){"use strict";a.d(t,{Fm:function(){return v}});var n=a(38083),r=a(60234);let o=new n.E4("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),i=new n.E4("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),l=new n.E4("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),s=new n.E4("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),c=new n.E4("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),u=new n.E4("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),d=new n.E4("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),m=new n.E4("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),f={"move-up":{inKeyframes:d,outKeyframes:m},"move-down":{inKeyframes:o,outKeyframes:i},"move-left":{inKeyframes:l,outKeyframes:s},"move-right":{inKeyframes:c,outKeyframes:u}},v=(e,t)=>{let{antCls:a}=e,n=`${a}-${t}`,{inKeyframes:o,outKeyframes:i}=f[t];return[(0,r.R)(n,o,i,e.motionDurationMid),{[`
        ${n}-enter,
        ${n}-appear
      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${n}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]}},56074:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/construct/app/extra/components/NativeApp",function(){return a(13709)}])},26953:function(e,t,a){"use strict";var n=a(96469),r=a(67901),o=a(42834),i=a(38497);t.Z=e=>{let{width:t,height:a,scene:l}=e,s=(0,i.useCallback)(()=>{switch(l){case"chat_knowledge":return r.je;case"chat_with_db_execute":return r.zM;case"chat_excel":return r.DL;case"chat_with_db_qa":case"chat_dba":return r.RD;case"chat_dashboard":return r.In;case"chat_agent":return r.si;case"chat_normal":return r.O7;default:return}},[l]);return(0,n.jsx)(o.Z,{className:"w-".concat(t||7," h-").concat(a||7),component:s()})}},13709:function(e,t,a){"use strict";a.r(t);var n=a(96469),r=a(26953),o=a(27623),i=a(16602),l=a(55360),s=a(60205),c=a(39069),u=a(91103),d=a(26869),m=a.n(d),f=a(38497),v=a(56841);t.default=e=>{var t,a;let{classNames:d,initValue:p,updateData:h}=e,{t:_}=(0,v.$G)(),[y]=l.default.useForm(),g=l.default.useWatch("chat_scene",y),w=l.default.useWatch("bind_value",y),O=l.default.useWatch("model",y),x=l.default.useWatch("temperature",y),{team_context:b,param_need:E}=p||{},{data:C,loading:M}=(0,i.Z)(async()=>{var e,t,a;let n=await Promise.all([(0,o.Vx)((0,o.tM)()),(0,o.Vx)((0,o.m9)("priority"))]),[r,i]=n;return y.setFieldValue("chat_scene",null==b?void 0:b.chat_scene),y.setFieldValue("model",null===(e=null==E?void 0:E.find(e=>"model"===e.type))||void 0===e?void 0:e.value),y.setFieldValue("temperature",null===(t=null==E?void 0:E.find(e=>"temperature"===e.type))||void 0===t?void 0:t.value),await I((null===(a=null==E?void 0:E.find(e=>"resource"===e.type))||void 0===a?void 0:a.value)||""),[r,i]}),{data:j,loading:$,run:I}=(0,i.Z)(async e=>{var t,a,n;let[,r]=await (0,o.Vx)((0,o.RX)({type:e}));return g===(null==b?void 0:b.chat_scene)&&(null===(t=null==E?void 0:E.find(e=>"resource"===e.type))||void 0===t?void 0:t.bind_value)&&y.setFieldsValue({bind_value:null===(a=null==E?void 0:E.find(e=>"resource"===e.type))||void 0===a?void 0:a.bind_value}),null!==(n=null==r?void 0:r.map(e=>({...e,value:e.key})))&&void 0!==n?n:[]},{manual:!0}),N=(0,f.useMemo)(()=>{var e;let t=null==C?void 0:null===(e=C[0])||void 0===e?void 0:e[1];return(null==t?void 0:t.map(e=>{var t;return{...e,label:(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(r.Z,{width:4,height:4,scene:e.chat_scene}),(0,n.jsx)(s.Z,{title:"资源类型".concat(null===(t=e.param_need.find(e=>"resource"===e.type))||void 0===t?void 0:t.value),children:(0,n.jsx)("span",{className:"text-[#525964] dark:text-[rgba(255,255,255,0.65)]  ml-1",children:e.scene_name})})]}),value:e.chat_scene}}))||[]},[C]);return(0,f.useEffect)(()=>{var e,t,a,n;let r=y.getFieldsValue();h([M,[{chat_scene:r.chat_scene,scene_name:null===(e=N.find(e=>e.chat_scene===r.chat_scene))||void 0===e?void 0:e.scene_name},[{type:"model",value:r.model},{type:"temperature",value:r.temperature},{type:"resource",value:null===(t=null===(a=N.find(e=>e.chat_scene===r.chat_scene))||void 0===a?void 0:null===(n=a.param_need)||void 0===n?void 0:n.find(e=>"resource"===e.type))||void 0===t?void 0:t.value,bind_value:r.bind_value}]]])},[y,g,w,O,x,h,N,M]),(0,f.useEffect)(()=>{var e,t,a,n,r;let o=null===(e=null===(t=null==C?void 0:null===(a=C[0])||void 0===a?void 0:null===(n=a[1])||void 0===n?void 0:n.find(e=>e.chat_scene===g))||void 0===t?void 0:null===(r=t.param_need)||void 0===r?void 0:r.find(e=>"resource"===e.type))||void 0===e?void 0:e.value;I(o||"")},[g,C,I]),(0,n.jsx)("div",{className:m()(d),children:(0,n.jsxs)(l.default,{form:y,autoComplete:"off",style:{width:"100%"},labelCol:{span:3},wrapperCol:{span:21},children:[(0,n.jsx)(l.default.Item,{label:_("native_type"),tooltip:!0,name:"chat_scene",children:(0,n.jsx)(c.default,{className:"w-1/2",options:N,placeholder:_("app_type_select"),onChange:()=>y.setFieldsValue({bind_value:void 0})})}),"chat_excel"!==g&&(0,n.jsx)(l.default.Item,{label:_("Arguments"),name:"bind_value",children:(0,n.jsx)(c.default,{placeholder:_("please_select_param"),allowClear:!0,className:"w-1/2",options:j,loading:$})}),(0,n.jsx)(l.default.Item,{label:_("model"),tooltip:!0,name:"model",children:(0,n.jsx)(c.default,{placeholder:_("please_select_model"),allowClear:!0,options:null==C?void 0:null===(t=C[1])||void 0===t?void 0:null===(a=t[1])||void 0===a?void 0:a.map(e=>({label:e,value:e})),className:"w-1/2"})}),(0,n.jsx)(l.default.Item,{label:_("temperature"),tooltip:!0,name:"temperature",children:(0,n.jsx)(u.Z,{className:"w-1/5 h-8",max:1,min:0,step:.1,placeholder:_("please_input_temperature")})})]})})}}},function(e){e.O(0,[2394,2003,9069,5360,1103,9774,2888,179],function(){return e(e.s=56074)}),_N_E=e.O()}]);