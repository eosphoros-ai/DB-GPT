{
  "flow": {
    "uid": "0cfbd62e-12cb-4327-8ed7-05be16daf9e5",
    "label": "Hybrid Knowledge Process Workflow",
    "name": "hybrid_knowledge_process_workflow",
    "flow_category": null,
    "flow_data": {
      "nodes": [
        {
          "width": 320,
          "height": 322,
          "id": "operator_knowledge_graph_operator___$$___rag___$$___v1_1",
          "position": {
            "x": 1411.6470892072725,
            "y": -38.326644335267716,
            "zoom": 0
          },
          "type": "customNode",
          "data": {
            "label": "知识图谱算子",
            "custom_label": null,
            "name": "knowledge_graph_operator",
            "description": "提取文档并持久化到图数据库中。",
            "category": "rag",
            "category_label": "RAG",
            "flow_type": "operator",
            "icon": null,
            "documentation_url": null,
            "id": "operator_knowledge_graph_operator___$$___rag___$$___v1_1",
            "tags": {
              "ui_version": "flow2.0"
            },
            "parameters": [
              {
                "type_name": "KnowledgeGraphBase",
                "type_cls": "dbgpt.storage.knowledge_graph.base.KnowledgeGraphBase",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "知识图谱连接器",
                "name": "graph_store",
                "is_list": false,
                "category": "resource",
                "resource_type": "instance",
                "optional": false,
                "default": null,
                "placeholder": null,
                "description": "知识图谱。",
                "options": null,
                "value": "resource_dbgpt_ext.storage.knowledge_graph.knowledge_graph.BuiltinKnowledgeGraph_0",
                "alias": null,
                "ui": null
              }
            ],
            "operator_type": "map",
            "inputs": [
              {
                "type_name": "List",
                "type_cls": "typing.List",
                "label": "片段",
                "custom_label": null,
                "name": "chunks",
                "description": "由分块管理器分割的文本块。",
                "dynamic": false,
                "dynamic_minimum": 0,
                "is_list": true,
                "mappers": null
              }
            ],
            "outputs": [
              {
                "type_name": "List",
                "type_cls": "typing.List",
                "label": "片段",
                "custom_label": null,
                "name": "chunks",
                "description": "已组装的块，已持久化到图存储中。",
                "dynamic": false,
                "dynamic_minimum": 0,
                "is_list": true,
                "mappers": null
              }
            ],
            "version": "v1",
            "type_name": "KnowledgeGraphOperator",
            "type_cls": "dbgpt_ext.rag.operators.knowledge_graph.KnowledgeGraphOperator"
          },
          "position_absolute": {
            "x": 1411.6470892072725,
            "y": -38.326644335267716,
            "zoom": 0
          }
        },
        {
          "width": 320,
          "height": 422,
          "id": "resource_dbgpt_ext.storage.knowledge_graph.knowledge_graph.BuiltinKnowledgeGraph_0",
          "position": {
            "x": 599.3745706799307,
            "y": 59.99520109857846,
            "zoom": 0
          },
          "type": "customNode",
          "data": {
            "type_name": "BuiltinKnowledgeGraph",
            "type_cls": "dbgpt_ext.storage.knowledge_graph.knowledge_graph.BuiltinKnowledgeGraph",
            "label": "内置知识图谱",
            "custom_label": null,
            "name": "builtin_knowledge_graph",
            "description": "内置知识图谱。",
            "category": "knowledge_graph",
            "category_label": "Knowledge Graph",
            "flow_type": "resource",
            "icon": null,
            "documentation_url": null,
            "id": "resource_dbgpt_ext.storage.knowledge_graph.knowledge_graph.BuiltinKnowledgeGraph_0",
            "tags": {
              "ui_version": "flow2.0"
            },
            "parameters": [
              {
                "type_name": "GraphStoreConfig",
                "type_cls": "dbgpt.storage.graph_store.base.GraphStoreConfig",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "Graph Store Config",
                "name": "config",
                "is_list": false,
                "category": "resource",
                "resource_type": "instance",
                "optional": false,
                "default": null,
                "placeholder": null,
                "description": "graph store config.",
                "options": null,
                "value": "resource_dbgpt_ext.storage.graph_store.tugraph_store.TuGraphStoreConfig_0",
                "alias": null,
                "ui": null
              },
              {
                "type_name": "str",
                "type_cls": "builtins.str",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "Graph Store Name",
                "name": "name",
                "is_list": false,
                "category": "common",
                "resource_type": "instance",
                "optional": true,
                "default": "dbgpt",
                "placeholder": null,
                "description": "Graph Store Name",
                "options": null,
                "value": null,
                "alias": null,
                "ui": null
              },
              {
                "type_name": "LLMClient",
                "type_cls": "dbgpt.core.interface.llm.LLMClient",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "大语言模型客户端",
                "name": "llm_client",
                "is_list": false,
                "category": "resource",
                "resource_type": "instance",
                "optional": false,
                "default": null,
                "placeholder": null,
                "description": "用于提取图三元组的大语言模型客户端。",
                "options": null,
                "value": "resource_dbgpt.model.cluster.client.DefaultLLMClient_0",
                "alias": null,
                "ui": null
              },
              {
                "type_name": "str",
                "type_cls": "builtins.str",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "大语言模型名称",
                "name": "llm_model",
                "is_list": false,
                "category": "common",
                "resource_type": "instance",
                "optional": true,
                "default": null,
                "placeholder": null,
                "description": "kg extract llm model name.",
                "options": null,
                "value": "deepseek-chat",
                "alias": null,
                "ui": null
              }
            ],
            "resource_type": "instance",
            "parent_cls": [
              "dbgpt_ext.storage.knowledge_graph.knowledge_graph.BuiltinKnowledgeGraph",
              "dbgpt.storage.knowledge_graph.base.KnowledgeGraphBase",
              "dbgpt.storage.base.IndexStoreBase"
            ]
          },
          "position_absolute": {
            "x": 599.3745706799307,
            "y": 59.99520109857846,
            "zoom": 0
          }
        },
        {
          "width": 320,
          "height": 321,
          "id": "operator_chunk_manager_operator___$$___rag___$$___v1_0",
          "position": {
            "x": 222.8465944162242,
            "y": 465.5728135131935,
            "zoom": 0
          },
          "type": "customNode",
          "data": {
            "label": "分块管理算子",
            "custom_label": null,
            "name": "chunk_manager_operator",
            "description": "将知识文档拆分为分块。",
            "category": "rag",
            "category_label": "RAG",
            "flow_type": "operator",
            "icon": null,
            "documentation_url": null,
            "id": "operator_chunk_manager_operator___$$___rag___$$___v1_0",
            "tags": {
              "ui_version": "flow2.0"
            },
            "parameters": [
              {
                "type_name": "ChunkParameters",
                "type_cls": "dbgpt_ext.rag.chunk_manager.ChunkParameters",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "分块拆分参数",
                "name": "chunk_parameters",
                "is_list": false,
                "category": "resource",
                "resource_type": "instance",
                "optional": true,
                "default": null,
                "placeholder": null,
                "description": "分块拆分参数。",
                "options": null,
                "value": null,
                "alias": null,
                "ui": null
              }
            ],
            "operator_type": "map",
            "inputs": [
              {
                "type_name": "Knowledge",
                "type_cls": "dbgpt.rag.knowledge.base.Knowledge",
                "label": "知识",
                "custom_label": null,
                "name": "knowledge",
                "description": "要加载的知识。",
                "dynamic": false,
                "dynamic_minimum": 0,
                "is_list": false,
                "mappers": null
              }
            ],
            "outputs": [
              {
                "type_name": "List",
                "type_cls": "typing.List",
                "label": "分块",
                "custom_label": null,
                "name": "chunks",
                "description": "由分块管理器拆分的分块。",
                "dynamic": false,
                "dynamic_minimum": 0,
                "is_list": true,
                "mappers": null
              }
            ],
            "version": "v1",
            "type_name": "ChunkManagerOperator",
            "type_cls": "dbgpt.rag.operators.chunk_manager.ChunkManagerOperator"
          },
          "position_absolute": {
            "x": 222.8465944162242,
            "y": 465.5728135131935,
            "zoom": 0
          }
        },
        {
          "width": 320,
          "height": 431,
          "id": "operator_knowledge_operator___$$___rag___$$___v1_0",
          "position": {
            "x": -405.2959226622788,
            "y": 69.60391667321142,
            "zoom": 0
          },
          "type": "customNode",
          "data": {
            "label": "知识加载算子",
            "custom_label": null,
            "name": "knowledge_operator",
            "description": "知识算子，可从数据源创建知识。",
            "category": "rag",
            "category_label": "RAG",
            "flow_type": "operator",
            "icon": null,
            "documentation_url": "https://github.com/openai/openai-python",
            "id": "operator_knowledge_operator___$$___rag___$$___v1_0",
            "tags": {
              "ui_version": "flow2.0"
            },
            "parameters": [
              {
                "type_name": "str",
                "type_cls": "builtins.str",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "默认数据源",
                "name": "datasource",
                "is_list": false,
                "category": "common",
                "resource_type": "instance",
                "optional": true,
                "default": null,
                "placeholder": null,
                "description": "默认数据源。",
                "options": null,
                "value": "../../../../docs/docs/quickstart.md",
                "alias": null,
                "ui": null
              },
              {
                "type_name": "str",
                "type_cls": "builtins.str",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "知识类型",
                "name": "knowledge_type",
                "is_list": false,
                "category": "common",
                "resource_type": "instance",
                "optional": true,
                "default": "DOCUMENT",
                "placeholder": null,
                "description": "知识类型。",
                "options": [
                  {
                    "label": "DOCUMENT",
                    "name": "DOCUMENT",
                    "value": "DOCUMENT",
                    "children": null
                  },
                  {
                    "label": "URL",
                    "name": "URL",
                    "value": "URL",
                    "children": null
                  },
                  {
                    "label": "TEXT",
                    "name": "TEXT",
                    "value": "TEXT",
                    "children": null
                  }
                ],
                "value": null,
                "alias": null,
                "ui": null
              }
            ],
            "operator_type": "map",
            "inputs": [
              {
                "type_name": "dict",
                "type_cls": "builtins.dict",
                "label": "知识数据源",
                "custom_label": null,
                "name": "knowledge datasource",
                "description": "知识数据源，可以是文档、URL 或文本。",
                "dynamic": false,
                "dynamic_minimum": 0,
                "is_list": false,
                "mappers": null
              }
            ],
            "outputs": [
              {
                "type_name": "Knowledge",
                "type_cls": "dbgpt.rag.knowledge.base.Knowledge",
                "label": "知识",
                "custom_label": null,
                "name": "Knowledge",
                "description": "知识对象。",
                "dynamic": false,
                "dynamic_minimum": 0,
                "is_list": false,
                "mappers": null
              }
            ],
            "version": "v1",
            "type_name": "KnowledgeOperator",
            "type_cls": "dbgpt_ext.rag.operators.knowledge.KnowledgeOperator"
          },
          "position_absolute": {
            "x": -405.2959226622788,
            "y": 69.60391667321142,
            "zoom": 0
          }
        },
        {
          "width": 320,
          "height": 487,
          "id": "resource_dbgpt_ext.storage.graph_store.tugraph_store.TuGraphStoreConfig_0",
          "position": {
            "x": -92.46479788362194,
            "y": -193.32469561901746,
            "zoom": 0
          },
          "type": "customNode",
          "data": {
            "type_name": "TuGraphStoreConfig",
            "type_cls": "dbgpt_ext.storage.graph_store.tugraph_store.TuGraphStoreConfig",
            "label": "TuGraph Graph Config",
            "custom_label": null,
            "name": "tugraph_config",
            "description": "TuGraph config.",
            "category": "knowledge_graph",
            "category_label": "Knowledge Graph",
            "flow_type": "resource",
            "icon": null,
            "documentation_url": null,
            "id": "resource_dbgpt_ext.storage.graph_store.tugraph_store.TuGraphStoreConfig_0",
            "tags": {
              "ui_version": "flow2.0"
            },
            "parameters": [
              {
                "type_name": "str",
                "type_cls": "builtins.str",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "host",
                "name": "host",
                "is_list": false,
                "category": "common",
                "resource_type": "instance",
                "optional": true,
                "default": "127.0.0.1",
                "placeholder": null,
                "description": "TuGraph host",
                "options": null,
                "value": null,
                "alias": null,
                "ui": null
              },
              {
                "type_name": "int",
                "type_cls": "builtins.int",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "port",
                "name": "port",
                "is_list": false,
                "category": "common",
                "resource_type": "instance",
                "optional": true,
                "default": "7687",
                "placeholder": null,
                "description": "TuGraph port",
                "options": null,
                "value": null,
                "alias": null,
                "ui": null
              },
              {
                "type_name": "str",
                "type_cls": "builtins.str",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "username",
                "name": "username",
                "is_list": false,
                "category": "common",
                "resource_type": "instance",
                "optional": true,
                "default": "admin",
                "placeholder": null,
                "description": "TuGraph username",
                "options": null,
                "value": null,
                "alias": null,
                "ui": null
              },
              {
                "type_name": "str",
                "type_cls": "builtins.str",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "password",
                "name": "password",
                "is_list": false,
                "category": "common",
                "resource_type": "instance",
                "optional": true,
                "default": "73@TuGraph",
                "placeholder": null,
                "description": "TuGraph password",
                "options": null,
                "value": null,
                "alias": null,
                "ui": null
              }
            ],
            "resource_type": "instance",
            "parent_cls": [
              "dbgpt_ext.storage.graph_store.tugraph_store.TuGraphStoreConfig",
              "dbgpt.storage.graph_store.base.GraphStoreConfig",
              "dbgpt.util.parameter_utils.BaseParameters",
              "dbgpt.util.configure.manager.RegisterParameters"
            ]
          },
          "position_absolute": {
            "x": -92.46479788362194,
            "y": -193.32469561901746,
            "zoom": 0
          }
        },
        {
          "width": 320,
          "height": 295,
          "id": "operator_knowledge_process_operator___$$___rag___$$___v1_0",
          "position": {
            "x": 723.3941711703499,
            "y": 554.5838684685964,
            "zoom": 0
          },
          "type": "customNode",
          "data": {
            "label": "知识处理分支算子",
            "custom_label": null,
            "name": "knowledge_process_operator",
            "description": "根据请求的流标志对工作流进行分支处理。",
            "category": "rag",
            "category_label": "RAG",
            "flow_type": "operator",
            "icon": null,
            "documentation_url": null,
            "id": "operator_knowledge_process_operator___$$___rag___$$___v1_0",
            "tags": {
              "ui_version": "flow2.0"
            },
            "parameters": [],
            "operator_type": "branch",
            "inputs": [
              {
                "type_name": "List",
                "type_cls": "typing.List",
                "label": "文档片段",
                "custom_label": null,
                "name": "input_value",
                "description": "算子的输入值。",
                "dynamic": false,
                "dynamic_minimum": 0,
                "is_list": true,
                "mappers": null
              }
            ],
            "outputs": [
              {
                "type_name": "List",
                "type_cls": "typing.List",
                "label": "片段",
                "custom_label": null,
                "name": "chunks",
                "description": "用于向量存储连接器的片段。",
                "dynamic": false,
                "dynamic_minimum": 0,
                "is_list": true,
                "mappers": null
              },
              {
                "type_name": "List",
                "type_cls": "typing.List",
                "label": "片段",
                "custom_label": null,
                "name": "chunks",
                "description": "用于知识图谱连接器的片段。",
                "dynamic": false,
                "dynamic_minimum": 0,
                "is_list": true,
                "mappers": null
              },
              {
                "type_name": "List",
                "type_cls": "typing.List",
                "label": "片段",
                "custom_label": null,
                "name": "chunks",
                "description": "用于全文连接器的片段。",
                "dynamic": false,
                "dynamic_minimum": 0,
                "is_list": true,
                "mappers": null
              }
            ],
            "version": "v1",
            "type_name": "KnowledgeProcessBranchOperator",
            "type_cls": "dbgpt_ext.rag.operators.process_branch.KnowledgeProcessBranchOperator"
          },
          "position_absolute": {
            "x": 723.3941711703499,
            "y": 554.5838684685964,
            "zoom": 0
          }
        },
        {
          "width": 320,
          "height": 322,
          "id": "operator_vector_storage_operator___$$___rag___$$___v1_0",
          "position": {
            "x": 1456.1153783921256,
            "y": 593.6146610876866,
            "zoom": 0
          },
          "type": "customNode",
          "data": {
            "label": "向量存储算子",
            "custom_label": null,
            "name": "vector_storage_operator",
            "description": "将嵌入持久化到向量存储中。",
            "category": "rag",
            "category_label": "RAG",
            "flow_type": "operator",
            "icon": null,
            "documentation_url": null,
            "id": "operator_vector_storage_operator___$$___rag___$$___v1_0",
            "tags": {
              "ui_version": "flow2.0"
            },
            "parameters": [
              {
                "type_name": "VectorStoreBase",
                "type_cls": "dbgpt.storage.vector_store.base.VectorStoreBase",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "向量存储连接器",
                "name": "vector_store",
                "is_list": false,
                "category": "resource",
                "resource_type": "instance",
                "optional": false,
                "default": null,
                "placeholder": null,
                "description": "向量存储。",
                "options": null,
                "value": "resource_dbgpt_ext.storage.vector_store.chroma_store.ChromaStore_0",
                "alias": null,
                "ui": null
              }
            ],
            "operator_type": "map",
            "inputs": [
              {
                "type_name": "List",
                "type_cls": "typing.List",
                "label": "片段",
                "custom_label": null,
                "name": "chunks",
                "description": "由分块管理器分割的文本块。",
                "dynamic": false,
                "dynamic_minimum": 0,
                "is_list": true,
                "mappers": null
              }
            ],
            "outputs": [
              {
                "type_name": "List",
                "type_cls": "typing.List",
                "label": "片段",
                "custom_label": null,
                "name": "chunks",
                "description": "已组装的块，已持久化到向量存储中。",
                "dynamic": false,
                "dynamic_minimum": 0,
                "is_list": true,
                "mappers": null
              }
            ],
            "version": "v1",
            "type_name": "VectorStorageOperator",
            "type_cls": "dbgpt_ext.rag.operators.vector_store.VectorStorageOperator"
          },
          "position_absolute": {
            "x": 1456.1153783921256,
            "y": 593.6146610876866,
            "zoom": 0
          }
        },
        {
          "width": 320,
          "height": 347,
          "id": "resource_dbgpt_ext.storage.vector_store.chroma_store.ChromaStore_0",
          "position": {
            "x": 907.5241726191889,
            "y": 879.6418478043298,
            "zoom": 0
          },
          "type": "customNode",
          "data": {
            "type_name": "ChromaStore",
            "type_cls": "dbgpt_ext.storage.vector_store.chroma_store.ChromaStore",
            "label": "Chroma 向量存储",
            "custom_label": null,
            "name": "chroma_vector_store",
            "description": "Chroma 向量存储。",
            "category": "vector_store",
            "category_label": "Vector Store",
            "flow_type": "resource",
            "icon": null,
            "documentation_url": null,
            "id": "resource_dbgpt_ext.storage.vector_store.chroma_store.ChromaStore_0",
            "tags": {
              "ui_version": "flow2.0"
            },
            "parameters": [
              {
                "type_name": "ChromaVectorConfig",
                "type_cls": "dbgpt_ext.storage.vector_store.chroma_store.ChromaVectorConfig",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "Chroma 配置",
                "name": "vector_store_config",
                "is_list": false,
                "category": "resource",
                "resource_type": "instance",
                "optional": true,
                "default": null,
                "placeholder": null,
                "description": "向量存储的 Chroma 配置。",
                "options": null,
                "value": "resource_dbgpt_ext.storage.vector_store.chroma_store.ChromaVectorConfig_0",
                "alias": null,
                "ui": null
              },
              {
                "type_name": "str",
                "type_cls": "builtins.str",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "集合名称",
                "name": "name",
                "is_list": false,
                "category": "common",
                "resource_type": "instance",
                "optional": true,
                "default": "dbgpt_collection",
                "placeholder": null,
                "description": "向量存储的名称，如果不设置，将使用默认名称。",
                "options": null,
                "value": null,
                "alias": null,
                "ui": null
              },
              {
                "type_name": "Embeddings",
                "type_cls": "dbgpt.core.interface.embeddings.Embeddings",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "嵌入函数",
                "name": "embedding_fn",
                "is_list": false,
                "category": "resource",
                "resource_type": "instance",
                "optional": true,
                "default": null,
                "placeholder": null,
                "description": "向量存储的嵌入函数，如果不设置，将使用默认嵌入函数。",
                "options": null,
                "value": "resource_dbgpt.rag.embedding.embedding_factory.DefaultEmbeddings_0",
                "alias": null,
                "ui": null
              }
            ],
            "resource_type": "instance",
            "parent_cls": [
              "dbgpt_ext.storage.vector_store.chroma_store.ChromaStore",
              "dbgpt.storage.vector_store.base.VectorStoreBase",
              "dbgpt.storage.base.IndexStoreBase"
            ]
          },
          "position_absolute": {
            "x": 907.5241726191889,
            "y": 879.6418478043298,
            "zoom": 0
          }
        },
        {
          "width": 320,
          "height": 415,
          "id": "resource_dbgpt_ext.storage.vector_store.chroma_store.ChromaVectorConfig_0",
          "position": {
            "x": 382.3961345066016,
            "y": 807.0177574270571,
            "zoom": 0
          },
          "type": "customNode",
          "data": {
            "type_name": "ChromaVectorConfig",
            "type_cls": "dbgpt_ext.storage.vector_store.chroma_store.ChromaVectorConfig",
            "label": "Chroma 配置",
            "custom_label": null,
            "name": "chroma_vector_config",
            "description": "Chroma 向量存储配置。",
            "category": "vector_store",
            "category_label": "Vector Store",
            "flow_type": "resource",
            "icon": null,
            "documentation_url": null,
            "id": "resource_dbgpt_ext.storage.vector_store.chroma_store.ChromaVectorConfig_0",
            "tags": {
              "ui_version": "flow2.0"
            },
            "parameters": [
              {
                "type_name": "str",
                "type_cls": "builtins.str",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "用户",
                "name": "user",
                "is_list": false,
                "category": "common",
                "resource_type": "instance",
                "optional": true,
                "default": null,
                "placeholder": null,
                "description": "向量存储的用户，如果不设置，将使用默认用户。",
                "options": null,
                "value": null,
                "alias": null,
                "ui": null
              },
              {
                "type_name": "str",
                "type_cls": "builtins.str",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "密码",
                "name": "password",
                "is_list": false,
                "category": "common",
                "resource_type": "instance",
                "optional": true,
                "default": null,
                "placeholder": null,
                "description": "向量存储的密码，如果不设置，将使用默认密码。",
                "options": null,
                "value": null,
                "alias": null,
                "ui": null
              },
              {
                "type_name": "str",
                "type_cls": "builtins.str",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "持久化路径",
                "name": "persist_path",
                "is_list": false,
                "category": "common",
                "resource_type": "instance",
                "optional": true,
                "default": null,
                "placeholder": null,
                "description": "向量存储的持久化路径。",
                "options": null,
                "value": "../../../../pilot/data/",
                "alias": null,
                "ui": null
              }
            ],
            "resource_type": "instance",
            "parent_cls": [
              "dbgpt_ext.storage.vector_store.chroma_store.ChromaVectorConfig",
              "dbgpt.storage.vector_store.base.VectorStoreConfig",
              "dbgpt.storage.base.IndexStoreConfig",
              "dbgpt.util.parameter_utils.BaseParameters",
              "dbgpt.util.configure.manager.RegisterParameters"
            ]
          },
          "position_absolute": {
            "x": 382.3961345066016,
            "y": 807.0177574270571,
            "zoom": 0
          }
        },
        {
          "width": 320,
          "height": 147,
          "id": "resource_dbgpt.rag.embedding.embedding_factory.DefaultEmbeddings_0",
          "position": {
            "x": 259.4938277142942,
            "y": 1272.9292295397142,
            "zoom": 0
          },
          "type": "customNode",
          "data": {
            "type_name": "DefaultEmbeddings",
            "type_cls": "dbgpt.rag.embedding.embedding_factory.DefaultEmbeddings",
            "label": "默认嵌入",
            "custom_label": null,
            "name": "default_embeddings",
            "description": "默认嵌入（使用当前系统的默认嵌入模型）",
            "category": "embeddings",
            "category_label": "Embeddings",
            "flow_type": "resource",
            "icon": null,
            "documentation_url": null,
            "id": "resource_dbgpt.rag.embedding.embedding_factory.DefaultEmbeddings_0",
            "tags": {
              "ui_version": "flow2.0"
            },
            "parameters": [],
            "resource_type": "instance",
            "parent_cls": [
              "dbgpt.rag.embedding.embedding_factory.DefaultEmbeddings",
              "dbgpt.core.interface.embeddings.Embeddings"
            ]
          },
          "position_absolute": {
            "x": 259.4938277142942,
            "y": 1272.9292295397142,
            "zoom": 0
          }
        },
        {
          "width": 320,
          "height": 274,
          "id": "operator_knowledge_process_join_operator___$$___rag___$$___v1_0",
          "position": {
            "x": 2165.129987575471,
            "y": 166.93328876509636,
            "zoom": 0
          },
          "type": "customNode",
          "data": {
            "label": "知识处理合并算子",
            "custom_label": null,
            "name": "knowledge_process_join_operator",
            "description": "根据知识处理结果合并工作流分支。",
            "category": "rag",
            "category_label": "RAG",
            "flow_type": "operator",
            "icon": null,
            "documentation_url": null,
            "id": "operator_knowledge_process_join_operator___$$___rag___$$___v1_0",
            "tags": {
              "ui_version": "flow2.0"
            },
            "parameters": [],
            "operator_type": "join",
            "inputs": [
              {
                "type_name": "List",
                "type_cls": "typing.List",
                "label": "向量存储结果",
                "custom_label": null,
                "name": "input_value",
                "description": "向量存储结果。",
                "dynamic": false,
                "dynamic_minimum": 0,
                "is_list": true,
                "mappers": null
              },
              {
                "type_name": "List",
                "type_cls": "typing.List",
                "label": "知识图谱存储结果",
                "custom_label": null,
                "name": "input_value",
                "description": "知识图谱存储结果。",
                "dynamic": false,
                "dynamic_minimum": 0,
                "is_list": true,
                "mappers": null
              }
            ],
            "outputs": [
              {
                "type_name": "List",
                "type_cls": "typing.List",
                "label": "片段",
                "custom_label": null,
                "name": "chunks",
                "description": "知识处理结果。",
                "dynamic": false,
                "dynamic_minimum": 0,
                "is_list": true,
                "mappers": null
              }
            ],
            "version": "v1",
            "type_name": "KnowledgeProcessJoinOperator",
            "type_cls": "dbgpt_ext.rag.operators.process_branch.KnowledgeProcessJoinOperator"
          },
          "position_absolute": {
            "x": 2165.129987575471,
            "y": 166.93328876509636,
            "zoom": 0
          }
        },
        {
          "width": 320,
          "height": 602,
          "id": "operator_dict_http_trigger___$$___trigger___$$___v1_0",
          "position": {
            "x": -1282.6533830800306,
            "y": -3.208721146208659,
            "zoom": 0
          },
          "type": "customNode",
          "data": {
            "label": "字典 HTTP 触发器",
            "custom_label": null,
            "name": "dict_http_trigger",
            "description": "通过 HTTP 请求触发工作流，并将请求体解析为字典",
            "category": "trigger",
            "category_label": "Trigger",
            "flow_type": "operator",
            "icon": null,
            "documentation_url": null,
            "id": "operator_dict_http_trigger___$$___trigger___$$___v1_0",
            "tags": {
              "ui_version": "flow2.0"
            },
            "parameters": [
              {
                "type_name": "str",
                "type_cls": "builtins.str",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "API 端点",
                "name": "endpoint",
                "is_list": false,
                "category": "common",
                "resource_type": "instance",
                "optional": false,
                "default": null,
                "placeholder": null,
                "description": "该 API 端点",
                "options": null,
                "value": "/rag/hybrid/process",
                "alias": null,
                "ui": null
              },
              {
                "type_name": "str",
                "type_cls": "builtins.str",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "HTTP 方法",
                "name": "methods",
                "is_list": false,
                "category": "common",
                "resource_type": "instance",
                "optional": true,
                "default": "POST",
                "placeholder": null,
                "description": "API 端点的方法",
                "options": [
                  {
                    "label": "HTTP Method PUT",
                    "name": "http_put",
                    "value": "PUT",
                    "children": null
                  },
                  {
                    "label": "HTTP Method POST",
                    "name": "http_post",
                    "value": "POST",
                    "children": null
                  }
                ],
                "value": null,
                "alias": null,
                "ui": null
              },
              {
                "type_name": "bool",
                "type_cls": "builtins.bool",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "流式响应",
                "name": "streaming_response",
                "is_list": false,
                "category": "common",
                "resource_type": "instance",
                "optional": true,
                "default": false,
                "placeholder": null,
                "description": "响应是否为流式",
                "options": null,
                "value": null,
                "alias": null,
                "ui": null
              },
              {
                "type_name": "BaseHttpBody",
                "type_cls": "dbgpt.core.awel.trigger.http_trigger.BaseHttpBody",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "HTTP 响应体",
                "name": "http_response_body",
                "is_list": false,
                "category": "resource",
                "resource_type": "class",
                "optional": true,
                "default": null,
                "placeholder": null,
                "description": "API 端点的响应体",
                "options": null,
                "value": null,
                "alias": null,
                "ui": null
              },
              {
                "type_name": "str",
                "type_cls": "builtins.str",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "响应媒体类型",
                "name": "response_media_type",
                "is_list": false,
                "category": "common",
                "resource_type": "instance",
                "optional": true,
                "default": null,
                "placeholder": null,
                "description": "响应媒体类型",
                "options": null,
                "value": null,
                "alias": null,
                "ui": null
              },
              {
                "type_name": "int",
                "type_cls": "builtins.int",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "HTTP 状态码",
                "name": "status_code",
                "is_list": false,
                "category": "common",
                "resource_type": "instance",
                "optional": true,
                "default": 200,
                "placeholder": null,
                "description": "HTTP 状态码",
                "options": null,
                "value": null,
                "alias": null,
                "ui": null
              }
            ],
            "operator_type": "input",
            "inputs": [],
            "outputs": [
              {
                "type_name": "dict",
                "type_cls": "builtins.dict",
                "label": "请求体",
                "custom_label": null,
                "name": "request_body",
                "description": "API 端点的请求体",
                "dynamic": false,
                "dynamic_minimum": 0,
                "is_list": false,
                "mappers": null
              }
            ],
            "version": "v1",
            "type_name": "DictHttpTrigger",
            "type_cls": "dbgpt.core.awel.trigger.http_trigger.DictHttpTrigger"
          },
          "position_absolute": {
            "x": -1282.6533830800306,
            "y": -3.208721146208659,
            "zoom": 0
          }
        },
        {
          "width": 320,
          "height": 271,
          "id": "resource_dbgpt.model.cluster.client.DefaultLLMClient_0",
          "position": {
            "x": 186.02528738076245,
            "y": -194.21720397116448,
            "zoom": 0
          },
          "type": "customNode",
          "data": {
            "type_name": "DefaultLLMClient",
            "type_cls": "dbgpt.model.cluster.client.DefaultLLMClient",
            "label": "默认大语言模型客户端",
            "custom_label": null,
            "name": "default_llm_client",
            "description": "默认大语言模型客户端（连接到你的 DB-GPT 模型服务）",
            "category": "llm_client",
            "category_label": "LLM Client",
            "flow_type": "resource",
            "icon": null,
            "documentation_url": null,
            "id": "resource_dbgpt.model.cluster.client.DefaultLLMClient_0",
            "tags": {
              "ui_version": "flow2.0"
            },
            "parameters": [
              {
                "type_name": "bool",
                "type_cls": "builtins.bool",
                "dynamic": false,
                "dynamic_minimum": 0,
                "label": "自动转换消息",
                "name": "auto_convert_message",
                "is_list": false,
                "category": "common",
                "resource_type": "instance",
                "optional": true,
                "default": true,
                "placeholder": null,
                "description": "是否自动将大语言模型不支持的消息转换为兼容格式",
                "options": null,
                "value": null,
                "alias": null,
                "ui": null
              }
            ],
            "resource_type": "instance",
            "parent_cls": [
              "dbgpt.model.cluster.client.DefaultLLMClient",
              "dbgpt.core.interface.llm.LLMClient"
            ]
          },
          "position_absolute": {
            "x": 186.02528738076245,
            "y": -194.21720397116448,
            "zoom": 0
          }
        }
      ],
      "edges": [
        {
          "source": "resource_dbgpt_ext.storage.knowledge_graph.knowledge_graph.BuiltinKnowledgeGraph_0",
          "source_order": 0,
          "target": "operator_knowledge_graph_operator___$$___rag___$$___v1_1",
          "target_order": 0,
          "id": "resource_dbgpt_ext.storage.knowledge_graph.knowledge_graph.BuiltinKnowledgeGraph_0|operator_knowledge_graph_operator___$$___rag___$$___v1_1",
          "source_handle": "resource_dbgpt_ext.storage.knowledge_graph.knowledge_graph.BuiltinKnowledgeGraph_0|outputs|0",
          "target_handle": "operator_knowledge_graph_operator___$$___rag___$$___v1_1|parameters|0",
          "type": "buttonedge"
        },
        {
          "source": "operator_knowledge_operator___$$___rag___$$___v1_0",
          "source_order": 0,
          "target": "operator_chunk_manager_operator___$$___rag___$$___v1_0",
          "target_order": 0,
          "id": "operator_knowledge_operator___$$___rag___$$___v1_0|operator_chunk_manager_operator___$$___rag___$$___v1_0",
          "source_handle": "operator_knowledge_operator___$$___rag___$$___v1_0|outputs|0",
          "target_handle": "operator_chunk_manager_operator___$$___rag___$$___v1_0|inputs|0",
          "type": "buttonedge"
        },
        {
          "source": "resource_dbgpt_ext.storage.graph_store.tugraph_store.TuGraphStoreConfig_0",
          "source_order": 0,
          "target": "resource_dbgpt_ext.storage.knowledge_graph.knowledge_graph.BuiltinKnowledgeGraph_0",
          "target_order": 0,
          "id": "resource_dbgpt_ext.storage.graph_store.tugraph_store.TuGraphStoreConfig_0|resource_dbgpt_ext.storage.knowledge_graph.knowledge_graph.BuiltinKnowledgeGraph_0",
          "source_handle": "resource_dbgpt_ext.storage.graph_store.tugraph_store.TuGraphStoreConfig_0|outputs|0",
          "target_handle": "resource_dbgpt_ext.storage.knowledge_graph.knowledge_graph.BuiltinKnowledgeGraph_0|parameters|0",
          "type": "buttonedge"
        },
        {
          "source": "operator_chunk_manager_operator___$$___rag___$$___v1_0",
          "source_order": 0,
          "target": "operator_knowledge_process_operator___$$___rag___$$___v1_0",
          "target_order": 0,
          "id": "operator_chunk_manager_operator___$$___rag___$$___v1_0|operator_knowledge_process_operator___$$___rag___$$___v1_0",
          "source_handle": "operator_chunk_manager_operator___$$___rag___$$___v1_0|outputs|0",
          "target_handle": "operator_knowledge_process_operator___$$___rag___$$___v1_0|inputs|0",
          "type": "buttonedge"
        },
        {
          "source": "operator_knowledge_process_operator___$$___rag___$$___v1_0",
          "source_order": 0,
          "target": "operator_knowledge_graph_operator___$$___rag___$$___v1_1",
          "target_order": 0,
          "id": "operator_knowledge_process_operator___$$___rag___$$___v1_0|operator_knowledge_graph_operator___$$___rag___$$___v1_1",
          "source_handle": "operator_knowledge_process_operator___$$___rag___$$___v1_0|outputs|0",
          "target_handle": "operator_knowledge_graph_operator___$$___rag___$$___v1_1|inputs|0",
          "type": "buttonedge"
        },
        {
          "source": "operator_knowledge_process_operator___$$___rag___$$___v1_0",
          "source_order": 1,
          "target": "operator_vector_storage_operator___$$___rag___$$___v1_0",
          "target_order": 0,
          "id": "operator_knowledge_process_operator___$$___rag___$$___v1_0|operator_vector_storage_operator___$$___rag___$$___v1_0",
          "source_handle": "operator_knowledge_process_operator___$$___rag___$$___v1_0|outputs|1",
          "target_handle": "operator_vector_storage_operator___$$___rag___$$___v1_0|inputs|0",
          "type": "buttonedge"
        },
        {
          "source": "resource_dbgpt_ext.storage.vector_store.chroma_store.ChromaStore_0",
          "source_order": 0,
          "target": "operator_vector_storage_operator___$$___rag___$$___v1_0",
          "target_order": 0,
          "id": "resource_dbgpt_ext.storage.vector_store.chroma_store.ChromaStore_0|operator_vector_storage_operator___$$___rag___$$___v1_0",
          "source_handle": "resource_dbgpt_ext.storage.vector_store.chroma_store.ChromaStore_0|outputs|0",
          "target_handle": "operator_vector_storage_operator___$$___rag___$$___v1_0|parameters|0",
          "type": "buttonedge"
        },
        {
          "source": "resource_dbgpt_ext.storage.vector_store.chroma_store.ChromaVectorConfig_0",
          "source_order": 0,
          "target": "resource_dbgpt_ext.storage.vector_store.chroma_store.ChromaStore_0",
          "target_order": 0,
          "id": "resource_dbgpt_ext.storage.vector_store.chroma_store.ChromaVectorConfig_0|resource_dbgpt_ext.storage.vector_store.chroma_store.ChromaStore_0",
          "source_handle": "resource_dbgpt_ext.storage.vector_store.chroma_store.ChromaVectorConfig_0|outputs|0",
          "target_handle": "resource_dbgpt_ext.storage.vector_store.chroma_store.ChromaStore_0|parameters|0",
          "type": "buttonedge"
        },
        {
          "source": "resource_dbgpt.rag.embedding.embedding_factory.DefaultEmbeddings_0",
          "source_order": 0,
          "target": "resource_dbgpt_ext.storage.vector_store.chroma_store.ChromaStore_0",
          "target_order": 2,
          "id": "resource_dbgpt.rag.embedding.embedding_factory.DefaultEmbeddings_0|resource_dbgpt_ext.storage.vector_store.chroma_store.ChromaStore_0",
          "source_handle": "resource_dbgpt.rag.embedding.embedding_factory.DefaultEmbeddings_0|outputs|0",
          "target_handle": "resource_dbgpt_ext.storage.vector_store.chroma_store.ChromaStore_0|parameters|2",
          "type": "buttonedge"
        },
        {
          "source": "operator_knowledge_graph_operator___$$___rag___$$___v1_1",
          "source_order": 0,
          "target": "operator_knowledge_process_join_operator___$$___rag___$$___v1_0",
          "target_order": 0,
          "id": "operator_knowledge_graph_operator___$$___rag___$$___v1_1|operator_knowledge_process_join_operator___$$___rag___$$___v1_0",
          "source_handle": "operator_knowledge_graph_operator___$$___rag___$$___v1_1|outputs|0",
          "target_handle": "operator_knowledge_process_join_operator___$$___rag___$$___v1_0|inputs|0",
          "type": "buttonedge"
        },
        {
          "source": "operator_vector_storage_operator___$$___rag___$$___v1_0",
          "source_order": 0,
          "target": "operator_knowledge_process_join_operator___$$___rag___$$___v1_0",
          "target_order": 1,
          "id": "operator_vector_storage_operator___$$___rag___$$___v1_0|operator_knowledge_process_join_operator___$$___rag___$$___v1_0",
          "source_handle": "operator_vector_storage_operator___$$___rag___$$___v1_0|outputs|0",
          "target_handle": "operator_knowledge_process_join_operator___$$___rag___$$___v1_0|inputs|1",
          "type": "buttonedge"
        },
        {
          "source": "operator_dict_http_trigger___$$___trigger___$$___v1_0",
          "source_order": 0,
          "target": "operator_knowledge_operator___$$___rag___$$___v1_0",
          "target_order": 0,
          "id": "operator_dict_http_trigger___$$___trigger___$$___v1_0|operator_knowledge_operator___$$___rag___$$___v1_0",
          "source_handle": "operator_dict_http_trigger___$$___trigger___$$___v1_0|outputs|0",
          "target_handle": "operator_knowledge_operator___$$___rag___$$___v1_0|inputs|0",
          "type": "buttonedge"
        },
        {
          "source": "resource_dbgpt.model.cluster.client.DefaultLLMClient_0",
          "source_order": 0,
          "target": "resource_dbgpt_ext.storage.knowledge_graph.knowledge_graph.BuiltinKnowledgeGraph_0",
          "target_order": 2,
          "id": "resource_dbgpt.model.cluster.client.DefaultLLMClient_0|resource_dbgpt_ext.storage.knowledge_graph.knowledge_graph.BuiltinKnowledgeGraph_0",
          "source_handle": "resource_dbgpt.model.cluster.client.DefaultLLMClient_0|outputs|0",
          "target_handle": "resource_dbgpt_ext.storage.knowledge_graph.knowledge_graph.BuiltinKnowledgeGraph_0|parameters|2",
          "type": "buttonedge"
        }
      ],
      "viewport": {
        "x": 415.10457550936326,
        "y": 157.66572621099635,
        "zoom": 0.6230089797061746
      }
    },
    "description": "hybrid_process_workflow",
    "state": "running",
    "error_message": "",
    "source": "DBGPT-WEB",
    "source_url": null,
    "version": "0.1.1",
    "define_type": "json",
    "editable": true,
    "user_name": null,
    "sys_code": null,
    "dag_id": "flow_dag_hybrid_process_workflow_0cfbd62e-12cb-4327-8ed7-05be16daf9e5",
    "gmt_created": "2025-03-23 15:22:01",
    "gmt_modified": "2025-03-23 15:22:01",
    "metadata": {
      "sse_output": false,
      "streaming_output": false,
      "tags": {},
      "triggers": [
        {
          "trigger_type": "http",
          "path": "/api/v1/awel/trigger/rag/hybrid/process",
          "methods": [
            "POST"
          ],
          "trigger_mode": "command"
        }
      ]
    },
    "variables": null,
    "authors": null
  }
}