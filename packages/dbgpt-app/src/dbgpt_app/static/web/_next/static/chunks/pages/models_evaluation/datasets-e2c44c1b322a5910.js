(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7050],{6171:function(e,t,l){"use strict";l.d(t,{Z:function(){return i}});var a=l(87462),n=l(67294),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},r=l(13401),i=n.forwardRef(function(e,t){return n.createElement(r.Z,(0,a.Z)({},e,{ref:t,icon:s}))})},38780:function(e,t){"use strict";t.Z=function(){let e=Object.assign({},arguments.length<=0?void 0:arguments[0]);for(let t=1;t<arguments.length;t++){let l=t<0||arguments.length<=t?void 0:arguments[t];l&&Object.keys(l).forEach(t=>{let a=l[t];void 0!==a&&(e[t]=a)})}return e}},98065:function(e,t,l){"use strict";function a(e){return["small","middle","large"].includes(e)}function n(e){return!!e&&"number"==typeof e&&!Number.isNaN(e)}l.d(t,{T:function(){return n},n:function(){return a}})},42075:function(e,t,l){"use strict";l.d(t,{Z:function(){return _}});var a=l(67294),n=l(93967),s=l.n(n),r=l(50344),i=l(98065),c=l(53124),o=l(4173);let u=a.createContext({latestIndex:0}),d=u.Provider;var f=e=>{let{className:t,index:l,children:n,split:s,style:r}=e,{latestIndex:i}=a.useContext(u);return null==n?null:a.createElement(a.Fragment,null,a.createElement("div",{className:t,style:r},n),l<i&&s&&a.createElement("span",{className:`${t}-split`},s))},m=l(51916),v=function(e,t){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(l[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(l[a[n]]=e[a[n]]);return l};let p=a.forwardRef((e,t)=>{var l,n,o;let{getPrefixCls:u,space:p,direction:_}=a.useContext(c.E_),{size:h=null!==(l=null==p?void 0:p.size)&&void 0!==l?l:"small",align:y,className:b,rootClassName:x,children:g,direction:w="horizontal",prefixCls:j,split:N,style:k,wrap:E=!1,classNames:O,styles:$}=e,Z=v(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[C,P]=Array.isArray(h)?h:[h,h],S=(0,i.n)(P),T=(0,i.n)(C),D=(0,i.T)(P),z=(0,i.T)(C),V=(0,r.Z)(g,{keepEmpty:!0}),F=void 0===y&&"horizontal"===w?"center":y,I=u("space",j),[G,H,R]=(0,m.Z)(I),A=s()(I,null==p?void 0:p.className,H,`${I}-${w}`,{[`${I}-rtl`]:"rtl"===_,[`${I}-align-${F}`]:F,[`${I}-gap-row-${P}`]:S,[`${I}-gap-col-${C}`]:T},b,x,R),L=s()(`${I}-item`,null!==(n=null==O?void 0:O.item)&&void 0!==n?n:null===(o=null==p?void 0:p.classNames)||void 0===o?void 0:o.item),M=0,X=V.map((e,t)=>{var l,n;null!=e&&(M=t);let s=(null==e?void 0:e.key)||`${L}-${t}`;return a.createElement(f,{className:L,key:s,index:t,split:N,style:null!==(l=null==$?void 0:$.item)&&void 0!==l?l:null===(n=null==p?void 0:p.styles)||void 0===n?void 0:n.item},e)}),B=a.useMemo(()=>({latestIndex:M}),[M]);if(0===V.length)return null;let Q={};return E&&(Q.flexWrap="wrap"),!T&&z&&(Q.columnGap=C),!S&&D&&(Q.rowGap=P),G(a.createElement("div",Object.assign({ref:t,className:A,style:Object.assign(Object.assign(Object.assign({},Q),null==p?void 0:p.style),k)},Z),a.createElement(d,{value:B},X)))});p.Compact=o.ZP;var _=p},8353:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/models_evaluation/datasets",function(){return l(33185)}])},80072:function(e,t,l){"use strict";l.d(t,{$:function(){return i}});var a=l(85893),n=l(14726),s=l(11163),r=l(67294);let i=e=>{let{href:t,type:l="link",className:i="",openNewTab:c=!1,children:o}=e,u=(0,r.useCallback)(()=>{d.push(t)},[t]),d=(0,s.useRouter)();return c?(0,a.jsx)(n.ZP,{type:l,className:i,children:(0,a.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:o})}):(0,a.jsx)(n.ZP,{type:l,className:i,onClick:u,children:o})}},33185:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return x}});var a=l(85893),n=l(76212);let s=()=>(0,n.HT)("/api/v2/serve/evaluate/benchmark/list_datasets"),r=e=>(0,n.HT)("/api/v2/serve/evaluate/benchmark/dataset/".concat(e)),i=(e,t)=>(0,n.HT)("/api/v2/serve/evaluate/benchmark/dataset/".concat(e,"/").concat(t,"/rows"));var c=l(80072),o=l(45030),u=l(4393),d=l(20863),f=l(74330),m=l(39773),v=l(67294),p=l(67421),_=l(2319),h=l.n(_);let{Title:y,Text:b}=o.default;var x=()=>{let[e,t]=(0,v.useState)(null),[l,o]=(0,v.useState)({datasets:!1,tables:!1,tableData:!1}),[_,x]=(0,v.useState)(null),[g,w]=(0,v.useState)(null),{t:j}=(0,p.$G)(),[N,k]=(0,v.useState)([]);(0,v.useEffect)(()=>{!async function(){let e=await E();k(e.map(e=>({title:"".concat(e.name,"(").concat(e.tableCount," ").concat(j("tables"),")"),key:e.dataset_id,selectable:!1}))),x(t=>{var l;return t&&e.map(e=>e.dataset_id).includes(t)?t:null===(l=e[0])||void 0===l?void 0:l.dataset_id})}()},[]);let E=async()=>{try{o(e=>({...e,datasets:!0}));let[e,t]=await (0,n.Vx)(s());if(e){console.error(j("get_dataset_list_failed"),e);return}return t||[]}catch(e){console.error(j("get_dataset_list_failed"),e)}finally{o(e=>({...e,datasets:!1}))}},O=async e=>{try{o(e=>({...e,tables:!0})),w(null);let[t,l]=await (0,n.Vx)(r(e));if(t)return console.error(j("get_table_list_failed"),t),[];return l||[]}catch(e){return console.error(j("get_table_list_failed"),e),[]}finally{o(e=>({...e,tables:!1}))}},$=(e,t,l)=>e.map(e=>e.key===t?{...e,children:l}:e.children?{...e,children:$(e.children,t,l)}:e),Z=async e=>{let{key:t,children:l}=e;if(l)return;let a=await O(t);k(e=>$(e,t,a.map(e=>({title:e.name,key:e.name,parent:t,isLeaf:!0}))))},C=async(e,t)=>{let{selectedNodes:l}=t;x(l[0].parent),w(e[0])},P=async(e,l)=>{try{o(e=>({...e,tableData:!0}));let[a,s]=await (0,n.Vx)(i(e,l));if(a){console.error(j("get_table_data_failed"),a);return}t(s||null)}catch(e){console.error(j("get_table_data_failed"),e)}finally{o(e=>({...e,tableData:!1}))}};return(0,v.useEffect)(()=>{_&&g?P(_,g):t(null)},[_,g]),(0,a.jsx)("div",{className:"h-full w-full dark:bg-gradient-dark bg-gradient-light bg-cover bg-center px-6 py-2 pt-12",children:(0,a.jsx)(u.Z,{title:(0,a.jsxs)(a.Fragment,{children:[j("evaluation_datasets"),(0,a.jsx)(c.$,{href:"/models_evaluation",children:j("back_to_evaluation_task_list")})]}),className:"w-full h-full flex-1 flex flex-col ".concat(h()["page-card"]),children:(0,a.jsxs)("div",{className:"flex h-full",children:[(0,a.jsxs)("div",{className:"w-1/4 pr-4 border-r flex flex-col",children:[(0,a.jsx)(y,{level:5,className:"mb-4",children:j("dataset_list")}),(0,a.jsx)("div",{className:"overflow-y-auto h-full",children:(0,a.jsx)(d.Z,{loadData:Z,treeData:N,onSelect:C})})]}),(0,a.jsxs)("div",{className:"w-3/4 pl-4 flex flex-col",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)(y,{level:5,className:"mb-0",children:[j("table_data"),(0,a.jsx)("span",{className:"font-normal text-sm",children:j("only_show_first_10_data")})]}),g&&(0,a.jsx)(b,{type:"secondary",children:g})]}),(0,a.jsx)("div",{className:"overflow-y-auto h-full",children:l.tableData?(0,a.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,a.jsx)(f.Z,{})}):e&&e.rows.length>0?(0,a.jsx)(m.Z,{className:"w-full flex-auto ".concat(h().table),dataSource:e.rows,columns:(()=>{if(!e||0===e.rows.length)return[];let t=e.rows[0];return Object.keys(t).map((e,t)=>({title:e,dataIndex:e,key:e,width:0===t?100:void 0}))})(),pagination:!1,scroll:{x:!0},size:"small"}):g?(0,a.jsx)(b,{type:"secondary",children:j("no_data")}):(0,a.jsx)(b,{type:"secondary",children:j("please_select_a_table_first")})})]})]})})})}},2319:function(e){e.exports={"models-evaluation-detail":"styles_models-evaluation-detail__nnI6V",table:"styles_table__hQFes","page-card":"styles_page-card__kvFDo"}},36459:function(e,t,l){"use strict";function a(e){if(null==e)throw TypeError("Cannot destructure "+e)}l.d(t,{Z:function(){return a}})}},function(e){e.O(0,[2913,3791,5278,4330,7611,8791,1049,5030,1300,4567,2398,9773,4393,9774,2888,179],function(){return e(e.s=8353)}),_N_E=e.O()}]);