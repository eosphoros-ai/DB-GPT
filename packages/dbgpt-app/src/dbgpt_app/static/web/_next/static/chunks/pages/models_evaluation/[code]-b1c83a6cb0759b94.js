(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[847],{8049:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/models_evaluation/[code]",function(){return l(33680)}])},80072:function(e,t,l){"use strict";l.d(t,{$:function(){return i}});var a=l(85893),r=l(14726),s=l(11163),n=l(67294);let i=e=>{let{href:t,type:l="link",className:i="",openNewTab:d=!1,children:c}=e,u=(0,n.useCallback)(()=>{o.push(t)},[t]),o=(0,s.useRouter)();return d?(0,a.jsx)(r.ZP,{type:l,className:i,children:(0,a.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:c})}):(0,a.jsx)(r.ZP,{type:l,className:i,onClick:u,children:c})}},33680:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return Z}});var a=l(85893),r=l(76212);let s=e=>(0,r.HT)("/api/v2/serve/evaluate/benchmark/result/".concat(e));var n=l(78677),i=l(67294);let d=e=>{let{data:t}=e,l=t.map(e=>({...e}));return(0,a.jsx)(n.Z,{data:l,xField:"label",yField:"value",colorField:"name",seriesField:"name",axis:{y:{labelFormatter:".00%"}},label:{text:e=>(100*e.value).toFixed(2)+"%",textBaseline:"bottom"},interaction:{tooltip:{render:(e,t)=>{let{title:l,items:r}=t;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{children:l}),r.map(e=>{let{name:t,value:l,color:r}=e;return(0,a.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{style:{display:"inline-block",width:6,height:6,borderRadius:"50%",backgroundColor:r,marginRight:6}}),(0,a.jsxs)("span",{children:[t,":"]})]}),(0,a.jsxs)("span",{children:[(100*l).toFixed(2),"%"]})]},e.name)})]},l)}}}})};var c=l(80072),u=l(4393),o=l(14726),x=l(74330),h=l(26412),m=l(71230),_=l(15746),f=l(55054),v=l(92398),j=l(39773),p=l(11163),b=l(67421),g=l(2319),y=l.n(g),w=l(83454);let k=()=>{var e,t;let l=(0,p.useRouter)(),{code:n}=l.query,[c,u]=(0,i.useState)(!0),[o,j]=(0,i.useState)(null),[g,y]=(0,i.useState)(null),{t:w}=(0,b.$G)();(0,i.useEffect)(()=>{n&&k(n)},[n]);let k=async e=>{try{u(!0);let[t,l]=await (0,r.Vx)(s(e));if(t){y(t.message||w("get_evaluation_result_failed"));return}j(l||null)}catch(e){y(w("get_evaluation_result_failed")),console.error(w("get_evaluation_result_failed"),e)}finally{u(!1)}};if(l.isFallback||c)return(0,a.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,a.jsx)(x.Z,{size:"large"})});if(g)return(0,a.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,a.jsx)("div",{className:"text-red-500",children:g})});if(!o)return(0,a.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,a.jsx)("div",{children:w("no_data")})});let Z=o.summaries.reduce((e,t)=>e+t.right,0),F=o.summaries.reduce((e,t)=>e+t.wrong,0),I=o.summaries.reduce((e,t)=>e+t.failed,0),q=o.summaries.reduce((e,t)=>e+t.exception,0),C=o.summaries.map(e=>[{name:w("executable_rate"),label:e.llmCode,value:e.execRate},{name:w("accuracy"),label:e.llmCode,value:e.accuracy}]).flat();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,{bordered:!0,items:[{key:"1",label:w("task_name"),children:o.scene_value}]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsxs)(m.Z,{gutter:16,className:"mb-4",children:[(0,a.jsx)(_.Z,{span:4,children:(0,a.jsx)(f.Z,{title:w("model_count"),value:null===(e=o.summaries)||void 0===e?void 0:e.length,className:"border rounded-lg p-4"})}),(0,a.jsx)(_.Z,{span:4,children:(0,a.jsx)(f.Z,{title:w("total_questions"),value:Z+F+I+q,className:"border rounded-lg p-4"})}),(0,a.jsx)(_.Z,{span:4,children:(0,a.jsx)(f.Z,{title:w("correct_questions"),value:Z,className:"border rounded-lg p-4"})}),(0,a.jsx)(_.Z,{span:4,children:(0,a.jsx)(f.Z,{title:w("wrong_questions"),value:F,className:"border rounded-lg p-4"})}),(0,a.jsx)(_.Z,{span:4,children:(0,a.jsx)(f.Z,{title:w("failed_questions"),value:I,className:"border rounded-lg p-4"})})]})}),(0,a.jsx)(N,{data:null!==(t=o.summaries)&&void 0!==t?t:[]}),(0,a.jsx)(v.Z,{items:[{key:"overview",label:w("overview"),children:(0,a.jsx)(d,{data:C})}]})]})},N=e=>{let{data:t}=e,{t:l}=(0,b.$G)(),r=[{title:l("round"),dataIndex:"roundId",width:"12.5%",key:"roundId"},{title:l("model"),dataIndex:"llmCode",width:"12.5%",key:"llmCode"},{title:l("question_count"),width:"12.5%",key:"total",render:e=>e.right+e.wrong+e.failed},{title:l("correct_questions"),dataIndex:"right",width:"12.5%",key:"right"},{title:l("wrong_questions"),dataIndex:"wrong",width:"12.5%",key:"wrong"},{title:l("failed_questions"),dataIndex:"failed",width:"12.5%",key:"failed"},{title:l("accuracy"),dataIndex:"accuracy",width:"12.5%",key:"accuracy",render:e=>"".concat((100*e).toFixed(2),"%")},{title:l("executable_rate"),dataIndex:"execRate",width:"12.5%",key:"execRate",render:e=>"".concat((100*e).toFixed(2),"%")}];return(0,a.jsx)(j.Z,{tableLayout:"fixed",pagination:!1,className:"w-full ".concat(y().table),columns:r,dataSource:t})};var Z=()=>{let e=(0,p.useRouter)(),{t}=(0,b.$G)(),{code:l}=e.query;return(0,a.jsx)("div",{className:"flex flex-col h-full w-full dark:bg-gradient-dark bg-gradient-light bg-cover bg-center px-6 py-2 pt-12",children:(0,a.jsx)(u.Z,{title:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:t("dataset_evaluation_detail")}),(0,a.jsx)(c.$,{href:"/models_evaluation",children:t("back_to_list")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.$,{href:"/models_evaluation/datasets",openNewTab:!0,children:t("evaluation_dataset_info")}),(0,a.jsx)(o.ZP,{type:"link",target:"_blank",rel:"noopener noreferrer",href:"".concat(w.env.API_BASE_URL,"/api/v1/evaluate/benchmark_result_download?evaluate_code=").concat(l),children:t("download_evaluation_result")})]})]}),className:"w-full h-full flex flex-col ".concat(y()["models-evaluation-detail"]),children:(0,a.jsx)(k,{})})})}},2319:function(e){e.exports={"models-evaluation-detail":"styles_models-evaluation-detail__nnI6V",table:"styles_table__hQFes","page-card":"styles_page-card__kvFDo"}}},function(e){e.O(0,[3662,7034,6106,8674,3166,2837,2168,8163,2913,3791,5278,4330,7611,8791,1049,1300,4567,2398,9773,6277,2044,8677,4393,1616,9774,2888,179],function(){return e(e.s=8049)}),_N_E=e.O()}]);