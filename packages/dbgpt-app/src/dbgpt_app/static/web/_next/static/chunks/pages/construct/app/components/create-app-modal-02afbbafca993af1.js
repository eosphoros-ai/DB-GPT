(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3362],{8745:function(e,t,r){"use strict";r.d(t,{i:function(){return o}});var n=r(67294),a=r(21770),l=r(28459),i=r(53124);function o(e){return t=>n.createElement(l.ZP,{theme:{token:{motion:!1,zIndexPopupBase:0}}},n.createElement(e,Object.assign({},t)))}t.Z=(e,t,r,l)=>o(o=>{let{prefixCls:d,style:s}=o,c=n.useRef(null),[u,p]=n.useState(0),[f,m]=n.useState(0),[b,g]=(0,a.Z)(!1,{value:o.open}),{getPrefixCls:h}=n.useContext(i.E_),v=h(t||"select",d);n.useEffect(()=>{if(g(!0),"undefined"!=typeof ResizeObserver){let e=new ResizeObserver(e=>{let t=e[0].target;p(t.offsetHeight+8),m(t.offsetWidth)}),t=setInterval(()=>{var n;let a=r?`.${r(v)}`:`.${v}-dropdown`,l=null===(n=c.current)||void 0===n?void 0:n.querySelector(a);l&&(clearInterval(t),e.observe(l))},10);return()=>{clearInterval(t),e.disconnect()}}},[]);let x=Object.assign(Object.assign({},o),{style:Object.assign(Object.assign({},s),{margin:0}),open:b,visible:b,getPopupContainer:()=>c.current});return l&&(x=l(x)),n.createElement("div",{ref:c,style:{paddingBottom:u,position:"relative",minWidth:f}},n.createElement(e,Object.assign({},x)))})},96074:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(67294),a=r(93967),l=r.n(a),i=r(53124),o=r(25446),d=r(14747),s=r(83559),c=r(83262);let u=e=>{let{componentCls:t,sizePaddingEdgeHorizontal:r,colorSplit:n,lineWidth:a,textPaddingInline:l,orientationMargin:i,verticalMarginInline:s}=e;return{[t]:Object.assign(Object.assign({},(0,d.Wf)(e)),{borderBlockStart:`${(0,o.bf)(a)} solid ${n}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:s,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,o.bf)(a)} solid ${n}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,o.bf)(e.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,o.bf)(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${n}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,o.bf)(a)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-left`]:{"&::before":{width:`calc(${i} * 100%)`},"&::after":{width:`calc(100% - ${i} * 100%)`}},[`&-horizontal${t}-with-text-right`]:{"&::before":{width:`calc(100% - ${i} * 100%)`},"&::after":{width:`calc(${i} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:l},"&-dashed":{background:"none",borderColor:n,borderStyle:"dashed",borderWidth:`${(0,o.bf)(a)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:a,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:n,borderStyle:"dotted",borderWidth:`${(0,o.bf)(a)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:a,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-left${t}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:r}},[`&-horizontal${t}-with-text-right${t}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:r}}})}};var p=(0,s.I$)("Divider",e=>{let t=(0,c.IX)(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[u(t)]},e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),{unitless:{orientationMargin:!0}}),f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},m=e=>{let{getPrefixCls:t,direction:r,divider:a}=n.useContext(i.E_),{prefixCls:o,type:d="horizontal",orientation:s="center",orientationMargin:c,className:u,rootClassName:m,children:b,dashed:g,variant:h="solid",plain:v,style:x}=e,_=f(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),w=t("divider",o),[$,y,j]=p(w),O=!!b,k="left"===s&&null!=c,S="right"===s&&null!=c,N=l()(w,null==a?void 0:a.className,y,j,`${w}-${d}`,{[`${w}-with-text`]:O,[`${w}-with-text-${s}`]:O,[`${w}-dashed`]:!!g,[`${w}-${h}`]:"solid"!==h,[`${w}-plain`]:!!v,[`${w}-rtl`]:"rtl"===r,[`${w}-no-default-orientation-margin-left`]:k,[`${w}-no-default-orientation-margin-right`]:S},u,m),I=n.useMemo(()=>"number"==typeof c?c:/^\d+$/.test(c)?Number(c):c,[c]),E=Object.assign(Object.assign({},k&&{marginLeft:I}),S&&{marginRight:I});return $(n.createElement("div",Object.assign({className:N,style:Object.assign(Object.assign({},null==a?void 0:a.style),x)},_,{role:"separator"}),b&&"vertical"!==d&&n.createElement("span",{className:`${w}-inner-text`,style:E},b)))}},85576:function(e,t,r){"use strict";r.d(t,{default:function(){return w}});var n=r(56080),a=r(38657),l=r(56745),i=r(67294),o=r(93967),d=r.n(o),s=r(40974),c=r(8745),u=r(53124),p=r(35792),f=r(32409),m=r(4941),b=r(71194),g=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},h=(0,c.i)(e=>{let{prefixCls:t,className:r,closeIcon:n,closable:a,type:l,title:o,children:c,footer:h}=e,v=g(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:x}=i.useContext(u.E_),_=x(),w=t||x("modal"),$=(0,p.Z)(_),[y,j,O]=(0,b.ZP)(w,$),k=`${w}-confirm`,S={};return S=l?{closable:null!=a&&a,title:"",footer:"",children:i.createElement(f.O,Object.assign({},e,{prefixCls:w,confirmPrefixCls:k,rootPrefixCls:_,content:c}))}:{closable:null==a||a,title:o,footer:null!==h&&i.createElement(m.$,Object.assign({},e)),children:c},y(i.createElement(s.s,Object.assign({prefixCls:w,className:d()(j,`${w}-pure-panel`,l&&k,l&&`${k}-${l}`,r,O,$)},v,{closeIcon:(0,m.b)(w,n),closable:a},S)))}),v=r(94423);function x(e){return(0,n.ZP)((0,n.uW)(e))}let _=l.Z;_.useModal=v.Z,_.info=function(e){return(0,n.ZP)((0,n.cw)(e))},_.success=function(e){return(0,n.ZP)((0,n.vq)(e))},_.error=function(e){return(0,n.ZP)((0,n.AQ)(e))},_.warning=x,_.warn=x,_.confirm=function(e){return(0,n.ZP)((0,n.Au)(e))},_.destroyAll=function(){for(;a.Z.length;){let e=a.Z.pop();e&&e()}},_.config=n.ai,_._InternalPanelDoNotUseOrYouWillBeFired=h;var w=_},56591:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/construct/app/components/create-app-modal",function(){return r(37082)}])},37082:function(e,t,r){"use strict";r.r(t);var n=r(85893),a=r(76212),l=r(65654),i=r(31418),o=r(99859),d=r(28459),s=r(85576),c=r(74330),u=r(25278),p=r(96074),f=r(93967),m=r.n(f),b=r(25675),g=r.n(b),h=r(11163),v=r(67294),x=r(67421),_=r(79903),w=r.n(_);let $=e=>{let{disable:t=!1,options:r=[],value:a,onChange:l}=e,[i,o]=(0,v.useState)(a||{}),{i18n:d}=(0,x.$G)(),s=e=>t?m()("flex items-center p-4 border rounded-lg border-[#d9d9d9]  cursor-not-allowed relative transition-all duration-500 ease-in-out",{"bg-[rgba(0,0,0,0.04)] dark:bg-[#606264]":e.value===(null==i?void 0:i.value)}):"flex items-center p-4  border dark:border-[rgba(217,217,217,0.85)] rounded-lg cursor-pointer hover:border-[#0c75fc] hover:bg-[#f5faff] dark:hover:border-[rgba(12,117,252,0.85)] dark:hover:bg-[#606264] relative transition-all duration-300 ease-in-out ".concat(e.value===(null==i?void 0:i.value)?"border-[#0c75fc] bg-[#f5faff] dark:bg-[#606264] dark:border-[#0c75fc]":"border-[#d9d9d9]"," "),c="en"===d.language;return(0,n.jsx)("div",{className:"grid grid-cols-2 gap-4",children:r.map(e=>(0,n.jsxs)("div",{className:s(e),onClick:()=>{t||(o(e),null==l||l({...a,...e}))},children:[(0,n.jsx)(g(),{src:"/icons/app/".concat(e.value,".png"),width:48,height:48,alt:e.value}),(0,n.jsxs)("div",{className:"flex flex-col ml-3",children:[(0,n.jsx)("span",{className:"text-xs font-medium text-[rgba(0,0,0,0.85)] dark:text-[rgba(255,255,255,0.85)] first-line:leading-6",children:c?e.name_en:e.name_cn}),(0,n.jsx)("span",{className:"text-xs text-[rgba(0,0,0,0.45)] dark:text-[rgba(255,255,255,0.85)]",children:c?e.description_en:e.description})]}),e.value===(null==i?void 0:i.value)&&(0,n.jsx)("div",{className:"w-3 h-3 rounded-tr-md absolute top-[1px] right-[1px] transition-all duration-300 ease-in-out",style:{background:"linear-gradient(to right top, transparent 50%, transparent 50%, ".concat(t?"#d0d0d0":"#0c75fc"," 0)")}})]},e.value))})};t.default=e=>{let{open:t,onCancel:r,type:f="add",refresh:m}=e,{t:b,i18n:g}=(0,x.$G)(),_=JSON.parse(localStorage.getItem("new_app_info")||"{}"),{message:y}=i.Z.useApp(),[j]=o.default.useForm(),O=o.default.useWatch("team_mode",j),k=(0,h.useRouter)(),S="en"===g.language,{data:N,loading:I}=(0,l.Z)(async()=>{let[e,t]=await (0,a.Vx)((0,a.lz)());return null!=t?t:[]}),{run:E,loading:z}=(0,l.Z)(async e=>"edit"===f?await (0,a.Vx)((0,a.KT)({app_code:null==_?void 0:_.app_code,language:"zh",...e})):await (0,a.Vx)((0,a.L5)({language:"zh",...e})),{manual:!0,onSuccess:async e=>{let[t,n]=e;if(t)y.error("edit"===f?b("Update_failure"):b("Create_failure"));else if("edit"===f){var l;let[,e]=await (0,a.Vx)((0,a.yk)({})),t=null==e?void 0:null===(l=e.app_list)||void 0===l?void 0:l.find(e=>e.app_code===(null==_?void 0:_.app_code));localStorage.setItem("new_app_info",JSON.stringify({...t,isEdit:!0})),y.success(b("Update_successfully"))}else y.success(b("Create_successfully")),localStorage.setItem("new_app_info",JSON.stringify(n)),k.push("/construct/app/extra");await (null==m?void 0:m()),r()}}),C=(0,v.useMemo)(()=>{var e;return null===(e=null==N?void 0:N.filter(e=>e.value===(null==_?void 0:_.team_mode)))||void 0===e?void 0:e[0]},[_,N]);return I?null:(0,n.jsx)(d.ZP,{theme:{components:{Button:{defaultBorderColor:"#d9d9d9"}}},children:(0,n.jsx)(s.default,{className:w()["create-app-modal-container"],title:b("create_app"),width:900,open:t,onOk:async()=>{j.validateFields().then(async e=>{var t;await E({app_name:null==e?void 0:e.app_name,app_describe:null==e?void 0:e.app_describe,team_mode:null==e?void 0:null===(t=e.team_mode)||void 0===t?void 0:t.value})})},onCancel:r,centered:!0,children:(0,n.jsx)(c.Z,{spinning:z,children:(0,n.jsxs)("div",{className:"flex flex-1",children:[(0,n.jsxs)(o.default,{layout:"vertical",className:"w-3/5",form:j,initialValues:{team_mode:C||(null==N?void 0:N[0]),app_name:null==_?void 0:_.app_name,app_describe:null==_?void 0:_.app_describe},children:[(0,n.jsx)(o.default.Item,{label:b("team_modal"),name:"team_mode",required:!0,rules:[{required:!0,message:b("Please_input_the_work_modal")}],children:(0,n.jsx)($,{disable:"edit"===f,options:N||[]})}),(0,n.jsx)(o.default.Item,{label:"".concat(b("app_name"),"："),name:"app_name",required:!0,rules:[{required:!0,message:b("input_app_name")}],children:(0,n.jsx)(u.default,{placeholder:b("input_app_name"),autoComplete:"off",className:"h-8"})}),(0,n.jsx)(o.default.Item,{label:"".concat(b("Description"),"："),name:"app_describe",required:!0,rules:[{required:!0,message:b("Please_input_the_description")}],children:(0,n.jsx)(u.default.TextArea,{autoComplete:"off",placeholder:b("Please_input_the_description"),autoSize:{minRows:2.5}})})]}),(0,n.jsx)(p.Z,{type:"vertical",className:"h-auto mx-6 bg-[rgba(0,0,0,0.06)] dark:bg-[rgba(255,255,255,0.5)] "}),(0,n.jsxs)("div",{className:"flex flex-col w-2/5 pl-6 pt-8 ",children:[(0,n.jsx)("span",{className:"text-base text-[rgba(0,0,0,0.85)] font-medium mb-6 dark:text-[rgba(255,255,255,0.85)]",children:S?null==O?void 0:O.name_en:null==O?void 0:O.name_cn}),(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("span",{className:"flex flex-shrink-0 w-1 h-1 rounded-full bg-[rgba(0,0,0,0.45)] mt-2 mr-1 dark:bg-[rgba(255,255,255,0.65)]"}),(0,n.jsx)("span",{className:"text-xs leading-5 text-[rgba(0,0,0,0.45)] dark:text-[rgba(255,255,255,0.65)]",children:S?null==O?void 0:O.remark_en:null==O?void 0:O.remark})]})]})]})})})})}},79903:function(e){e.exports={"create-app-modal-container":"styles_create-app-modal-container___tIEs"}}},function(e){e.O(0,[2913,5278,9859,4330,9774,2888,179],function(){return e(e.s=56591)}),_N_E=e.O()}]);