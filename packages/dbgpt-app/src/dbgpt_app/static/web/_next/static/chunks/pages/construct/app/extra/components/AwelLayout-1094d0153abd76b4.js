(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7247],{68795:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(87462),i=n(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},o=n(13401),l=i.forwardRef(function(e,t){return i.createElement(o.Z,(0,r.Z)({},e,{ref:t,icon:a}))})},9708:function(e,t,n){"use strict";n.d(t,{F:function(){return o},Z:function(){return a}});var r=n(93967),i=n.n(r);function a(e,t,n){return i()({[`${e}-status-success`]:"success"===t,[`${e}-status-warning`]:"warning"===t,[`${e}-status-error`]:"error"===t,[`${e}-status-validating`]:"validating"===t,[`${e}-has-feedback`]:n})}let o=(e,t)=>t||e},27833:function(e,t,n){"use strict";var r=n(67294),i=n(65223),a=n(53124);t.Z=function(e,t){var n,o;let l,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,{variant:u,[e]:c}=(0,r.useContext)(a.E_),h=(0,r.useContext)(i.pg),f=null==c?void 0:c.variant;l=void 0!==t?t:!1===s?"borderless":null!==(o=null!==(n=null!=h?h:f)&&void 0!==n?n:u)&&void 0!==o?o:"outlined";let d=a.tr.includes(l);return[l,d]}},16372:function(e,t,n){"use strict";n.d(t,{B8:function(){return N},Il:function(){return i},J5:function(){return o},SU:function(){return k},Ss:function(){return E},ZP:function(){return v},xV:function(){return a}});var r=n(44087);function i(){}var a=.7,o=1.4285714285714286,l="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,h=RegExp("^rgb\\("+[l,l,l]+"\\)$"),f=RegExp("^rgb\\("+[u,u,u]+"\\)$"),d=RegExp("^rgba\\("+[l,l,l,s]+"\\)$"),p=RegExp("^rgba\\("+[u,u,u,s]+"\\)$"),g=RegExp("^hsl\\("+[s,u,u]+"\\)$"),m=RegExp("^hsla\\("+[s,u,u,s]+"\\)$"),w={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function b(){return this.rgb().formatRgb()}function v(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=c.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?x(t):3===n?new E(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?_(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?_(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=h.exec(e))?new E(t[1],t[2],t[3],1):(t=f.exec(e))?new E(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=d.exec(e))?_(t[1],t[2],t[3],t[4]):(t=p.exec(e))?_(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=g.exec(e))?$(t[1],t[2]/100,t[3]/100,1):(t=m.exec(e))?$(t[1],t[2]/100,t[3]/100,t[4]):w.hasOwnProperty(e)?x(w[e]):"transparent"===e?new E(NaN,NaN,NaN,0):null}function x(e){return new E(e>>16&255,e>>8&255,255&e,1)}function _(e,t,n,r){return r<=0&&(e=t=n=NaN),new E(e,t,n,r)}function k(e){return(e instanceof i||(e=v(e)),e)?(e=e.rgb(),new E(e.r,e.g,e.b,e.opacity)):new E}function N(e,t,n,r){return 1==arguments.length?k(e):new E(e,t,n,null==r?1:r)}function E(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function M(){return"#"+Z(this.r)+Z(this.g)+Z(this.b)}function j(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Z(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function $(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new O(e,t,n,r)}function q(e){if(e instanceof O)return new O(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=v(e)),!e)return new O;if(e instanceof O)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,s=o-a,u=(o+a)/2;return s?(l=t===o?(n-r)/s+(n<r)*6:n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+a:2-o-a,l*=60):s=u>0&&u<1?0:l,new O(l,s,u,e.opacity)}function O(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function C(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}(0,r.Z)(i,v,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHsl:function(){return q(this).formatHsl()},formatRgb:b,toString:b}),(0,r.Z)(E,N,(0,r.l)(i,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:M,formatHex:M,formatRgb:j,toString:j})),(0,r.Z)(O,function(e,t,n,r){return 1==arguments.length?q(e):new O(e,t,n,null==r?1:r)},(0,r.l)(i,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new O(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new O(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new E(C(e>=240?e-240:e+120,i,r),C(e,i,r),C(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},44087:function(e,t,n){"use strict";function r(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}n.d(t,{Z:function(){return r},l:function(){return i}})},92626:function(e,t){"use strict";var n={value:()=>{}};function r(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw Error("illegal type: "+e);r[e]=[]}return new i(r)}function i(e){this._=e}function a(e,t,r){for(var i=0,a=e.length;i<a;++i)if(e[i].name===t){e[i]=n,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=r&&e.push({name:t,value:r}),e}i.prototype=r.prototype={constructor:i,on:function(e,t){var n,r=this._,i=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:t}}),o=-1,l=i.length;if(arguments.length<2){for(;++o<l;)if((n=(e=i[o]).type)&&(n=function(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}(r[n],e.name)))return n;return}if(null!=t&&"function"!=typeof t)throw Error("invalid callback: "+t);for(;++o<l;)if(n=(e=i[o]).type)r[n]=a(r[n],e.name,t);else if(null==t)for(n in r)r[n]=a(r[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new i(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(r=this._[e],a=0,n=r.length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}},t.Z=r},35374:function(e,t,n){"use strict";n.d(t,{B7:function(){return g},HT:function(){return m},zO:function(){return d}});var r,i,a=0,o=0,l=0,s=0,u=0,c=0,h="object"==typeof performance&&performance.now?performance:Date,f="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function d(){return u||(f(p),u=h.now()+c)}function p(){u=0}function g(){this._call=this._time=this._next=null}function m(e,t,n){var r=new g;return r.restart(e,t,n),r}function w(){u=(s=h.now())+c,a=o=0;try{!function(){d(),++a;for(var e,t=r;t;)(e=u-t._time)>=0&&t._call.call(null,e),t=t._next;--a}()}finally{a=0,function(){for(var e,t,n=r,a=1/0;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);i=e,b(a)}(),u=0}}function y(){var e=h.now(),t=e-s;t>1e3&&(c-=t,s=e)}function b(e){!a&&(o&&(o=clearTimeout(o)),e-u>24?(e<1/0&&(o=setTimeout(w,e-h.now()-c)),l&&(l=clearInterval(l))):(l||(s=h.now(),l=setInterval(y,1e3)),a=1,f(w)))}g.prototype=m.prototype={constructor:g,restart:function(e,t,n){if("function"!=typeof e)throw TypeError("callback is not a function");n=(null==n?d():+n)+(null==t?0:+t),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=e,this._time=n,b()},stop:function(){this._call&&(this._call=null,this._time=1/0,b())}}},73637:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/construct/app/extra/components/AwelLayout",function(){return n(7380)}])},99743:function(e,t,n){"use strict";var r=n(85893);n(67294);var i=n(36851);t.Z=e=>{let{id:t,sourceX:n,sourceY:a,targetX:o,targetY:l,sourcePosition:s,targetPosition:u,style:c={},markerEnd:h}=e,[f,d,p]=(0,i.OQ)({sourceX:n,sourceY:a,sourcePosition:s,targetX:o,targetY:l,targetPosition:u}),g=(0,i._K)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.u5,{id:t,style:c,path:f,markerEnd:h}),(0,r.jsx)("foreignObject",{width:40,height:40,x:d-20,y:p-20,className:"bg-transparent w-10 h-10 relative",requiredExtensions:"http://www.w3.org/1999/xhtml",children:(0,r.jsx)("button",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-stone-400 dark:bg-zinc-700 cursor-pointer text-sm",onClick:e=>{e.stopPropagation(),g.setEdges(g.getEdges().filter(e=>e.id!==t))},children:"\xd7"})})]})}},7380:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(85893),i=n(76212),a=n(67919),o=n(67294),l=n(36851),s=n(59819);n(4583);var u=n(99743),c=e=>{let{flowData:t,minZoom:n}=e,i=(0,a.z5)(t);return(0,r.jsx)(l.x$,{nodes:i.nodes,edges:i.edges,edgeTypes:{buttonedge:u.Z},fitView:!0,minZoom:n||.1,children:(0,r.jsx)(s.A,{color:"#aaa",gap:16})})},h=n(65654),f=n(99859),d=n(34041),p=n(93967),g=n.n(p),m=n(67421),w=e=>{let{initValue:t,updateData:n,classNames:a}=e,{t:l}=(0,m.$G)(),[s]=f.default.useForm(),u=f.default.useWatch("flow",s),{data:p,loading:w}=(0,h.Z)(async()=>{let[,e]=await (0,i.Vx)((0,i.Wf)({page:1,page_size:1e4}));return s.setFieldsValue({flow:null==t?void 0:t.name}),null!=e?e:{}}),y=(0,o.useMemo)(()=>{var e;return(null==p?void 0:null===(e=p.items)||void 0===e?void 0:e.map(e=>({label:e.label,value:e.name})))||[]},[p]),b=(0,o.useMemo)(()=>{var e,t;return null===(e=null==p?void 0:null===(t=p.items)||void 0===t?void 0:t.find(e=>e.name===u))||void 0===e?void 0:e.flow_data},[null==p?void 0:p.items,u]);return(0,o.useEffect)(()=>{var e;n([w,null==p?void 0:null===(e=p.items)||void 0===e?void 0:e.find(e=>e.name===u)])},[null==p?void 0:p.items,u,w,n]),(0,r.jsx)("div",{className:g()(a,"mb-6"),children:(0,r.jsxs)(f.default,{form:s,style:{width:"100%"},children:[(0,r.jsx)(f.default.Item,{label:l("select_workflow"),name:"flow",children:(0,r.jsx)(d.default,{className:"w-1/4",placeholder:l("please_select_workflow"),options:y,allowClear:!0})}),b&&(0,r.jsx)("div",{className:"w-full h-[600px] mx-auto border-[0.5px] border-dark-gray",children:(0,r.jsx)(c,{flowData:b})})]})})}},67919:function(e,t,n){"use strict";n.d(t,{Av:function(){return u},It:function(){return s},Rv:function(){return l},VZ:function(){return r},Wf:function(){return a},_g:function(){return i},z5:function(){return o}});let r=(e,t)=>{let n=0;return t.forEach(t=>{t.data.name===e.name&&n++}),"".concat(e.id,"_").concat(n)},i=e=>e.replace(/_\d+$/,""),a=e=>{let{nodes:t,edges:n,...r}=e,i=t.map(e=>{let{positionAbsolute:t,...n}=e;return{position_absolute:t,...n}}),a=n.map(e=>{let{sourceHandle:t,targetHandle:n,...r}=e;return{source_handle:t,target_handle:n,...r}});return{nodes:i,edges:a,...r}},o=e=>{let{nodes:t,edges:n,...r}=e,i=t.map(e=>{let{position_absolute:t,...n}=e;return{positionAbsolute:t,...n}}),a=n.map(e=>{let{source_handle:t,target_handle:n,...r}=e;return{sourceHandle:t,targetHandle:n,...r}});return{nodes:i,edges:a,...r}},l=e=>{let{nodes:t,edges:n}=e,r=[!0,t[0],""];e:for(let e=0;e<t.length;e++){let i=t[e].data,{inputs:a=[],parameters:o=[]}=i;for(let o=0;o<a.length;o++)if(!n.some(n=>n.targetHandle==="".concat(t[e].id,"|inputs|").concat(o))){r=[!1,t[e],"The input ".concat(a[o].type_name," of node ").concat(i.label," is required")];break e}for(let a=0;a<o.length;a++){let l=o[a];if(l.optional||"resource"!==l.category||n.some(n=>n.targetHandle==="".concat(t[e].id,"|parameters|").concat(a))){if(!l.optional&&"common"===l.category&&(void 0===l.value||null===l.value)){r=[!1,t[e],"The parameter ".concat(l.type_name," of node ").concat(i.label," is required")];break e}}else{r=[!1,t[e],"The parameter ".concat(l.type_name," of node ").concat(i.label," is required")];break e}}}return r},s=e=>(function e(t){if(Array.isArray(t))return t.map(t=>e(t));if(t&&"object"==typeof t&&!Array.isArray(t)){let n={};for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)){let i=r.replace(/_([a-z])/g,(e,t)=>t.toUpperCase());n[i]=e(t[r])}return n}return t})(e);function u(e){let t=new Set(["@","#","%",":"]),n={key:e.key||"",name:e.name||"",scope:e.scope||"",scope_key:e.scope_key||"",sys_code:e.sys_code||"",user_name:e.user_name||""};for(let[e,r]of Object.entries(n))r&&[...t].some(e=>r.includes(e))&&(n[e]=r.replace(/@/g,"\\@").replace(/#/g,"\\#").replace(/%/g,"\\%").replace(/:/g,"\\:"));let{key:r,name:i,scope:a,scope_key:o,sys_code:l,user_name:s}=n,u="".concat(r);return i&&(u+="".concat(":").concat(i)),(a||o)&&(u+="".concat("@").concat(a),o&&(u+="".concat(":").concat(o))),l&&(u+="".concat("#").concat(l)),s&&(u+="".concat("%").concat(s)),"${".concat(u,"}")}}},function(e){e.O(0,[8241,3791,7611,9859,1278,9774,2888,179],function(){return e(e.s=73637)}),_N_E=e.O()}]);