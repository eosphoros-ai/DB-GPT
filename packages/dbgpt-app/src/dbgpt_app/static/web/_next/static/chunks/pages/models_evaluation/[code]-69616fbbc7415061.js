(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[847],{8049:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/models_evaluation/[code]",function(){return t(33680)}])},80072:function(e,l,t){"use strict";t.d(l,{$:function(){return i}});var a=t(85893),r=t(14726),s=t(11163),n=t(67294);let i=e=>{let{href:l,type:t="link",className:i="",openNewTab:d=!1,children:c}=e,u=(0,n.useCallback)(()=>{o.push(l)},[l]),o=(0,s.useRouter)();return d?(0,a.jsx)(r.ZP,{type:t,className:i,children:(0,a.jsx)("a",{href:l,target:"_blank",rel:"noopener noreferrer",children:c})}):(0,a.jsx)(r.ZP,{type:t,className:i,onClick:u,children:c})}},33680:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return Z}});var a=t(85893),r=t(76212);let s=e=>(0,r.HT)("/api/v2/serve/evaluate/benchmark/result/".concat(e));var n=t(78677),i=t(67294);let d=e=>{let{data:l}=e,t=l.map(e=>({...e}));return(0,a.jsx)(n.Z,{data:t,xField:"label",yField:"value",colorField:"name",seriesField:"name",axis:{y:{labelFormatter:".00%"}},label:{text:e=>(100*e.value).toFixed(2)+"%",textBaseline:"bottom"},interaction:{tooltip:{render:(e,l)=>{let{title:t,items:r}=l;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{children:t}),r.map(e=>{let{name:l,value:t,color:r}=e;return(0,a.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{style:{display:"inline-block",width:6,height:6,borderRadius:"50%",backgroundColor:r,marginRight:6}}),(0,a.jsxs)("span",{children:[l,":"]})]}),(0,a.jsxs)("span",{children:[(100*t).toFixed(2),"%"]})]},e.name)})]},t)}}}})};var c=t(80072),u=t(4393),o=t(14726),x=t(74330),h=t(26412),m=t(71230),_=t(15746),f=t(55054),v=t(92398),j=t(39773),p=t(11163),b=t(67421),g=t(2319),y=t.n(g),w=t(83454);let k=()=>{var e,l;let t=(0,p.useRouter)(),{code:n}=t.query,[c,u]=(0,i.useState)(!0),[o,j]=(0,i.useState)(null),[g,y]=(0,i.useState)(null),{t:w}=(0,b.$G)();(0,i.useEffect)(()=>{n&&k(n)},[n]);let k=async e=>{try{u(!0);let[l,t]=await (0,r.Vx)(s(e));if(l){y(l.message||w("get_evaluation_result_failed"));return}j(t||null)}catch(e){y(w("get_evaluation_result_failed")),console.error(w("get_evaluation_result_failed"),e)}finally{u(!1)}};if(t.isFallback||c)return(0,a.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,a.jsx)(x.Z,{size:"large"})});if(g)return(0,a.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,a.jsx)("div",{className:"text-red-500",children:g})});if(!o)return(0,a.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,a.jsx)("div",{children:w("no_data")})});let Z=o.summaries.reduce((e,l)=>e+l.right,0),F=o.summaries.reduce((e,l)=>e+l.wrong,0),I=o.summaries.reduce((e,l)=>e+l.failed,0),q=o.summaries.reduce((e,l)=>e+l.exception,0),C=o.summaries.map(e=>[{name:w("executable_rate"),label:e.llmCode,value:e.execRate},{name:w("accuracy"),label:e.llmCode,value:e.accuracy}]).flat();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,{bordered:!0,items:[{key:"1",label:w("task_name"),children:o.scene_value}]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsxs)(m.Z,{gutter:16,className:"mb-4",children:[(0,a.jsx)(_.Z,{span:4,children:(0,a.jsx)(f.Z,{title:w("model_count"),value:null===(e=o.summaries)||void 0===e?void 0:e.length,className:"border rounded-lg p-4"})}),(0,a.jsx)(_.Z,{span:4,children:(0,a.jsx)(f.Z,{title:w("total_questions"),value:Z+F+I+q,className:"border rounded-lg p-4"})}),(0,a.jsx)(_.Z,{span:4,children:(0,a.jsx)(f.Z,{title:w("correct_questions"),value:Z,className:"border rounded-lg p-4"})}),(0,a.jsx)(_.Z,{span:4,children:(0,a.jsx)(f.Z,{title:w("wrong_questions"),value:F,className:"border rounded-lg p-4"})}),(0,a.jsx)(_.Z,{span:4,children:(0,a.jsx)(f.Z,{title:w("failed_questions"),value:I,className:"border rounded-lg p-4"})})]})}),(0,a.jsx)(N,{data:null!==(l=o.summaries)&&void 0!==l?l:[]}),(0,a.jsx)(v.Z,{items:[{key:"overview",label:w("overview"),children:(0,a.jsx)(d,{data:C})}]})]})},N=e=>{let{data:l}=e,{t}=(0,b.$G)(),r=[{title:t("round"),dataIndex:"roundId",width:"12.5%",key:"roundId"},{title:t("model"),dataIndex:"llmCode",width:"12.5%",key:"llmCode"},{title:t("question_count"),width:"12.5%",key:"total",render:e=>e.right+e.wrong+e.failed},{title:t("correct_questions"),dataIndex:"right",width:"12.5%",key:"right"},{title:t("wrong_questions"),dataIndex:"wrong",width:"12.5%",key:"wrong"},{title:t("failed_questions"),dataIndex:"failed",width:"12.5%",key:"failed"},{title:t("accuracy"),dataIndex:"accuracy",width:"12.5%",key:"accuracy",render:e=>"".concat((100*e).toFixed(2),"%")},{title:t("executable_rate"),dataIndex:"execRate",width:"12.5%",key:"execRate",render:e=>"".concat((100*e).toFixed(2),"%")}];return(0,a.jsx)(j.Z,{tableLayout:"fixed",pagination:!1,className:"w-full ".concat(y().table),columns:r,dataSource:l})};var Z=()=>{var e;let l=(0,p.useRouter)(),{t}=(0,b.$G)(),{code:r}=l.query;return(0,a.jsx)("div",{className:"flex flex-col h-full w-full dark:bg-gradient-dark bg-gradient-light bg-cover bg-center px-6 py-2 pt-12",children:(0,a.jsx)(u.Z,{title:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:t("dataset_evaluation_detail")}),(0,a.jsx)(c.$,{href:"/models_evaluation",children:t("back_to_list")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.$,{href:"/models_evaluation/datasets",openNewTab:!0,children:t("evaluation_dataset_info")}),(0,a.jsx)(o.ZP,{type:"link",target:"_blank",rel:"noopener noreferrer",href:"".concat(null!==(e=w.env.API_BASE_URL)&&void 0!==e?e:"","/api/v1/evaluate/benchmark_result_download?evaluate_code=").concat(r),children:t("download_evaluation_result")})]})]}),className:"w-full h-full flex flex-col ".concat(y()["models-evaluation-detail"]),children:(0,a.jsx)(k,{})})})}},2319:function(e){e.exports={"models-evaluation-detail":"styles_models-evaluation-detail__nnI6V",table:"styles_table__hQFes","page-card":"styles_page-card__kvFDo"}}},function(e){e.O(0,[3662,7034,6106,8674,3166,2837,2168,8163,2913,3791,5278,4330,7611,8791,1049,1300,4567,2398,9773,6277,2044,8677,4393,1616,9774,2888,179],function(){return e(e.s=8049)}),_N_E=e.O()}]);