(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[538],{90545:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(40431),o=n(46750),s=n(86006),a=n(73702),i=n(4323),c=n(51579),l=n(86601),u=n(95887),d=n(9268);let h=["className","component"];var f=n(47327),m=n(98918),g=n(8622);let p=function(e={}){let{themeId:t,defaultTheme:n,defaultClassName:f="MuiBox-root",generateClassName:m}=e,g=(0,i.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(c.Z),p=s.forwardRef(function(e,s){let i=(0,u.Z)(n),c=(0,l.Z)(e),{className:p,component:x="div"}=c,Z=(0,o.Z)(c,h);return(0,d.jsx)(g,(0,r.Z)({as:x,ref:s,className:(0,a.Z)(p,m?m(f):f),theme:t&&i[t]||i},Z))});return p}({themeId:g.Z,defaultTheme:m.Z,defaultClassName:"MuiBox-root",generateClassName:f.Z.generate});var x=p},86601:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(40431),o=n(46750),s=n(95135),a=n(2272);let i=["sx"],c=e=>{var t,n;let r={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:a.Z;return Object.keys(e).forEach(t=>{o[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]}),r};function l(e){let t;let{sx:n}=e,a=(0,o.Z)(e,i),{systemProps:l,otherProps:u}=c(a);return t=Array.isArray(n)?[l,...n]:"function"==typeof n?(...e)=>{let t=n(...e);return(0,s.P)(t)?(0,r.Z)({},l,t):l}:(0,r.Z)({},l,n),(0,r.Z)({},u,{sx:t})}},78603:function(e,t,n){Promise.resolve().then(n.bind(n,26257))},26257:function(e,t,n){"use strict";n.r(t);var r=n(9268),o=n(56008),s=n(86006),a=n(78635),i=n(90545),c=n(80937),l=n(44334),u=n(311),d=n(22046),h=n(83192),f=n(23910),m=n(90734),g=n(89749);t.default=()=>{let e=(0,o.useRouter)(),{mode:t}=(0,a.tv)(),n=(0,o.useSearchParams)().get("spacename"),p=(0,o.useSearchParams)().get("documentid"),[x,Z]=(0,s.useState)(0),[j,y]=(0,s.useState)(0),[P,v]=(0,s.useState)([]);return(0,s.useEffect)(()=>{(async function(){let e=await (0,g.PR)("/knowledge/".concat(n,"/chunk/list"),{document_id:p,page:1,page_size:20});e.success&&(v(e.data.data),Z(e.data.total),y(e.data.page))})()},[]),(0,r.jsxs)(i.Z,{className:"p-4",sx:{"&":{height:"90%"}},children:[(0,r.jsx)(c.Z,{direction:"row",justifyContent:"flex-start",alignItems:"center",sx:{marginBottom:"20px"},children:(0,r.jsxs)(l.Z,{"aria-label":"breadcrumbs",children:[(0,r.jsx)(u.Z,{onClick:()=>{e.push("/datastores")},underline:"hover",color:"neutral",fontSize:"inherit",children:"Knowledge Space"},"Knowledge Space"),(0,r.jsx)(u.Z,{onClick:()=>{e.push("/datastores/documents?name=".concat(n))},underline:"hover",color:"neutral",fontSize:"inherit",children:"Documents"},"Knowledge Space"),(0,r.jsx)(d.ZP,{fontSize:"inherit",children:"Chunks"})]})}),(0,r.jsx)(i.Z,{className:"p-4",sx:{"&":{height:"90%",overflow:"auto"},"&::-webkit-scrollbar":{display:"none"}},children:P.length?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(h.Z,{color:"primary",variant:"plain",size:"lg",sx:{"& tbody tr: hover":{backgroundColor:"light"===t?"rgb(246, 246, 246)":"rgb(33, 33, 40)"},"& tbody tr: hover a":{textDecoration:"underline"}},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"Content"}),(0,r.jsx)("th",{children:"Meta Data"})]})}),(0,r.jsx)("tbody",{children:P.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.doc_name}),(0,r.jsx)("td",{children:(0,r.jsx)(f.Z,{content:e.content,trigger:"hover",children:e.content.length>10?"".concat(e.content.slice(0,10),"..."):e.content})}),(0,r.jsx)("td",{children:(0,r.jsx)(f.Z,{content:JSON.stringify(e.meta_info||"{}",null,2),trigger:"hover",children:e.meta_info.length>10?"".concat(e.meta_info.slice(0,10),"..."):e.meta_info})})]},e.id))})]})}):(0,r.jsx)(r.Fragment,{})}),(0,r.jsx)(c.Z,{direction:"row",justifyContent:"flex-end",sx:{marginTop:"20px"},children:(0,r.jsx)(m.Z,{defaultPageSize:20,showSizeChanger:!1,current:j,total:x,onChange:async e=>{let t=await (0,g.PR)("/knowledge/".concat(n,"/chunk/list"),{document_id:p,page:e,page_size:20});t.success&&(v(t.data.data),Z(t.data.total),y(t.data.page))},hideOnSinglePage:!0})})]})}},53534:function(e,t,n){"use strict";var r=n(24214),o=n(52040);let s=r.Z.create({baseURL:o.env.API_BASE_URL});s.defaults.timeout=1e4,s.interceptors.response.use(e=>e.data,e=>Promise.reject(e)),t.Z=s},89749:function(e,t,n){"use strict";n.d(t,{Ej:function(){return d},Kw:function(){return l},PR:function(){return u},Tk:function(){return c}});var r=n(21628),o=n(53534),s=n(84835);let a={"content-type":"application/json"},i=e=>{if(!(0,s.isPlainObject)(e))return JSON.stringify(e);let t={...e};for(let e in t){let n=t[e];"string"==typeof n&&(t[e]=n.trim())}return JSON.stringify(t)},c=(e,t)=>{if(t){let n=Object.keys(t).filter(e=>void 0!==t[e]&&""!==t[e]).map(e=>"".concat(e,"=").concat(t[e])).join("&");n&&(e+="?".concat(n))}return o.Z.get("/api"+e,{headers:a}).then(e=>e).catch(e=>{r.ZP.error(e),Promise.reject(e)})},l=(e,t)=>{let n=i(t);return o.Z.post("/api"+e,{body:n,headers:a}).then(e=>e).catch(e=>{r.ZP.error(e),Promise.reject(e)})},u=(e,t)=>(i(t),o.Z.post(e,t,{headers:a}).then(e=>e).catch(e=>{r.ZP.error(e),Promise.reject(e)})),d=(e,t)=>o.Z.post(e,t).then(e=>e).catch(e=>{r.ZP.error(e),Promise.reject(e)})},56008:function(e,t,n){e.exports=n(30794)},73702:function(e,t,n){"use strict";t.Z=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=function e(t){var n,r,o="";if("string"==typeof t||"number"==typeof t)o+=t;else if("object"==typeof t){if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(r=e(t[n]))&&(o&&(o+=" "),o+=r);else for(n in t)t[n]&&(o&&(o+=" "),o+=n)}return o}(e))&&(r&&(r+=" "),r+=t);return r}}},function(e){e.O(0,[180,662,358,344,273,919,477,767,635,548,253,769,744],function(){return e(e.s=78603)}),_N_E=e.O()}]);