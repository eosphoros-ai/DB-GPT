(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[265],{74627:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(94184),a=n.n(r),o=n(67294);let l=e=>e?"function"==typeof e?e():e:null;var i=n(33603),s=n(53124),c=n(83062),d=n(92419),p=n(14747),m=n(50438),u=n(77786),h=n(8796),f=n(67968),g=n(45503);let x=e=>{let{componentCls:t,popoverColor:n,minWidth:r,fontWeightStrong:a,popoverPadding:o,boxShadowSecondary:l,colorTextHeading:i,borderRadiusLG:s,zIndexPopup:c,marginXS:d,colorBgElevated:m,popoverBg:h}=e;return[{[t]:Object.assign(Object.assign({},(0,p.Wf)(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":m,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:h,backgroundClip:"padding-box",borderRadius:s,boxShadow:l,padding:o},[`${t}-title`]:{minWidth:r,marginBottom:d,color:i,fontWeight:a},[`${t}-inner-content`]:{color:n}})},(0,u.ZP)(e,{colorBg:"var(--antd-arrow-background-color)"}),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},v=e=>{let{componentCls:t}=e;return{[t]:h.i.map(n=>{let r=e[`${n}6`];return{[`&${t}-${n}`]:{"--antd-arrow-background-color":r,[`${t}-inner`]:{backgroundColor:r},[`${t}-arrow`]:{background:"transparent"}}}})}},w=e=>{let{componentCls:t,lineWidth:n,lineType:r,colorSplit:a,paddingSM:o,controlHeight:l,fontSize:i,lineHeight:s,padding:c}=e,d=l-Math.round(i*s);return{[t]:{[`${t}-inner`]:{padding:0},[`${t}-title`]:{margin:0,padding:`${d/2}px ${c}px ${d/2-n}px`,borderBottom:`${n}px ${r} ${a}`},[`${t}-inner-content`]:{padding:`${o}px ${c}px`}}}};var b=(0,f.Z)("Popover",e=>{let{colorBgElevated:t,colorText:n,wireframe:r}=e,a=(0,g.TS)(e,{popoverPadding:12,popoverBg:t,popoverColor:n});return[x(a),v(a),r&&w(a),(0,m._y)(a,"zoom-big")]},e=>({width:177,minWidth:177,zIndexPopup:e.zIndexPopupBase+30}),{deprecatedTokens:[["width","minWidth"]]}),y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};let j=(e,t,n)=>{if(t||n)return o.createElement(o.Fragment,null,t&&o.createElement("div",{className:`${e}-title`},l(t)),o.createElement("div",{className:`${e}-inner-content`},l(n)))},k=e=>{let{hashId:t,prefixCls:n,className:r,style:l,placement:i="top",title:s,content:c,children:p}=e;return o.createElement("div",{className:a()(t,n,`${n}-pure`,`${n}-placement-${i}`,r),style:l},o.createElement("div",{className:`${n}-arrow`}),o.createElement(d.G,Object.assign({},e,{className:t,prefixCls:n}),p||j(n,s,c)))};var N=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};let $=e=>{let{title:t,content:n,prefixCls:r}=e;return o.createElement(o.Fragment,null,t&&o.createElement("div",{className:`${r}-title`},l(t)),o.createElement("div",{className:`${r}-inner-content`},l(n)))},C=o.forwardRef((e,t)=>{let{prefixCls:n,title:r,content:l,overlayClassName:d,placement:p="top",trigger:m="hover",mouseEnterDelay:u=.1,mouseLeaveDelay:h=.1,overlayStyle:f={}}=e,g=N(e,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:x}=o.useContext(s.E_),v=x("popover",n),[w,y]=b(v),j=x(),k=a()(d,y);return w(o.createElement(c.Z,Object.assign({placement:p,trigger:m,mouseEnterDelay:u,mouseLeaveDelay:h,overlayStyle:f},g,{prefixCls:v,overlayClassName:k,ref:t,overlay:r||l?o.createElement($,{prefixCls:v,title:r,content:l}):null,transitionName:(0,i.m)(j,"zoom-big",g.transitionName),"data-popover-inject":!0})))});C._InternalPanelDoNotUseOrYouWillBeFired=e=>{let{prefixCls:t}=e,n=y(e,["prefixCls"]),{getPrefixCls:r}=o.useContext(s.E_),a=r("popover",t),[l,i]=b(a);return l(o.createElement(k,Object.assign({},n,{prefixCls:a,hashId:i})))};var _=C},54681:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/knowledge",function(){return n(59051)}])},59051:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(85893),a=n(67294),o=n(67421),l=n(24969),i=n(71577),s=n(12069),c=n(46735),d=n(74627),p=n(40411),m=n(11163),u=n(25675),h=n.n(u),f=n(21640),g=n(87462),x={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M292.7 840h438.6l24.2-512h-487z",fill:t}},{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-504-72h304v72H360v-72zm371.3 656H292.7l-24.2-512h487l-24.2 512z",fill:e}}]}},name:"delete",theme:"twotone"},v=n(84089),w=a.forwardRef(function(e,t){return a.createElement(v.Z,(0,g.Z)({},e,{ref:t,icon:x}))}),b={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M775.3 248.9a369.62 369.62 0 00-119-80A370.2 370.2 0 00512.1 140h-1.7c-99.7.4-193 39.4-262.8 109.9-69.9 70.5-108 164.1-107.6 263.8.3 60.3 15.3 120.2 43.5 173.1l4.5 8.4V836h140.8l8.4 4.5c52.9 28.2 112.8 43.2 173.1 43.5h1.7c99 0 192-38.2 262.1-107.6 70.4-69.8 109.5-163.1 110.1-262.7.2-50.6-9.5-99.6-28.9-145.8a370.15 370.15 0 00-80-119zM312 560a48.01 48.01 0 010-96 48.01 48.01 0 010 96zm200 0a48.01 48.01 0 010-96 48.01 48.01 0 010 96zm200 0a48.01 48.01 0 010-96 48.01 48.01 0 010 96z",fill:t}},{tag:"path",attrs:{d:"M664 512a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0z",fill:e}},{tag:"path",attrs:{d:"M925.2 338.4c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z",fill:e}},{tag:"path",attrs:{d:"M464 512a48 48 0 1096 0 48 48 0 10-96 0z",fill:e}}]}},name:"message",theme:"twotone"},y=a.forwardRef(function(e,t){return a.createElement(v.Z,(0,g.Z)({},e,{ref:t,icon:b}))}),j=n(92039),k=n(30381),N=n.n(k),$=n(50489);let{confirm:C}=s.default;function _(e){var t;let n=(0,m.useRouter)(),{spaceInfo:o,t:l,knowledgeSpaceToDelete:s,fetchKnowledge:u}=e,[g,x]=(0,a.useState)(o.docs),v=()=>{C({title:l("Tips"),icon:(0,r.jsx)(f.Z,{}),content:"".concat(l("Del_Knowledge_Tips"),"?"),okText:"Yes",okType:"danger",cancelText:"No",async onOk(){await (0,$.Vx)((0,$._s)({name:null==s?void 0:s.name})),u()}})},b=async e=>{e.stopPropagation();let[t,r]=await (0,$.Vx)((0,$.sW)({chat_mode:"chat_knowledge"}));(null==r?void 0:r.conv_uid)&&n.push("/chat?scene=chat_knowledge&id=".concat(null==r?void 0:r.conv_uid,"&db_param=").concat(o.name))};return(0,r.jsx)(c.ZP,{theme:{components:{Popover:{zIndexPopup:90}}},children:(0,r.jsx)(d.Z,{className:"dark:hover:border-white transition-all hover:shadow-md bg-[#FFFFFF] dark:bg-[#484848] relative  shrink-0 grow-0 cursor-pointer rounded-[10px] border border-gray-200 border-solid w-full min-[width]:80",placement:"bottom",trigger:"click",content:(0,r.jsx)(j.Z,{setDocumentCount:x,knowledge:o}),children:(0,r.jsxs)(p.Z,{count:g||0,children:[(0,r.jsxs)("div",{className:"flex justify-between mx-6 mt-3",children:[(0,r.jsxs)("div",{className:"text-lg font-bold text-black truncate",children:[(t=o.vector_type,(0,r.jsx)(h(),{className:"rounded-full w-8 h-8 border border-gray-200 object-contain bg-white inline-block",width:36,height:136,src:{Chroma:"/models/chroma-logo.png"}[t]||"/models/knowledge-default.jpg",alt:"llm"})),(0,r.jsx)("span",{className:"dark:text-white ml-2",children:null==o?void 0:o.name})]}),(0,r.jsx)(w,{onClick:e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),v()},style:{fontSize:"20px"},twoToneColor:"#CD2029",className:"text-3xl"})]}),(0,r.jsxs)("div",{className:"text-sm mt-2  p-6 pt-2 h-40",children:[(0,r.jsxs)("p",{className:"font-semibold",children:[l("Owner"),":"]}),(0,r.jsx)("p",{className:" truncate",children:null==o?void 0:o.owner}),(0,r.jsxs)("p",{className:"font-semibold mt-2",children:[l("Description"),":"]}),(0,r.jsx)("p",{className:" line-clamp-2",children:null==o?void 0:o.desc}),(0,r.jsx)("p",{className:"font-semibold mt-2",children:"Last modify:"}),(0,r.jsx)("p",{className:" truncate",children:N()(o.gmt_modified).format("YYYY-MM-DD HH:MM:SS")})]}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(i.ZP,{size:"middle",onClick:b,className:"mr-4 dark:text-white mb-2",shape:"round",icon:(0,r.jsx)(y,{}),children:l("Chat")})})]})})})}var O=n(78543),E=()=>{let{t:e}=(0,o.$G)(),[t,n]=(0,a.useState)([]),[s,c]=(0,a.useState)(!1);async function d(){let[e,t]=await (0,$.Vx)((0,$.eU)());n(t)}return(0,a.useEffect)(()=>{d()},[]),(0,r.jsxs)("div",{className:"bg-[#FAFAFA] dark:bg-[#212121] w-full h-full",children:[(0,r.jsxs)("div",{className:"page-body p-6 px-12 h-full overflow-auto",children:[(0,r.jsx)(i.ZP,{type:"primary",className:"flex items-center",icon:(0,r.jsx)(l.Z,{}),onClick:()=>{c(!0)},children:"Create"}),(0,r.jsx)("div",{className:"mt-3 grid grid-cols-1 gap-x-6 gap-y-5 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-5",children:null==t?void 0:t.map(t=>(0,r.jsx)(_,{fetchKnowledge:d,spaceInfo:t,t:e,knowledgeSpaceToDelete:t,isAddShow:s,setIsAddShow:c},t.id))})]}),(0,r.jsx)(O.Z,{fetchKnowledge:d,setKnowledgeSpaceList:n,isAddShow:s,setIsAddShow:c,type:"knowledge"})]})}}},function(e){e.O(0,[885,44,479,365,442,813,924,411,104,747,774,888,179],function(){return e(e.s=54681)}),_N_E=e.O()}]);