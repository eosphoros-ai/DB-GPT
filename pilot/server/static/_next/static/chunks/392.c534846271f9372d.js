(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[392],{35392:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return eu}});var t=a(85893),n=a(67294),s=a(41118),r=a(16789),i=a(80837),c=a(79172),o=a(30208),d=a(40911),u=a(51610),h=a(48665),m=a(577),x=a(1375),p=e=>{let l=(0,n.useReducer)((e,l)=>({...e,...l}),{...e});return l},v=a(58301),f=a(41468),g=a(83454),b=e=>{let{queryAgentURL:l,channel:a,queryBody:t,initHistory:s=[]}=e,[r,i]=p({history:s}),{refreshDialogList:c,chatId:o,model:d}=(0,n.useContext)(f.p),u=new AbortController;(0,n.useEffect)(()=>{s&&s.length&&i({history:s})},[s]);let h=async(e,n)=>{if(!e)return;let s=[...r.history,{role:"human",context:e}],h=s.length;i({history:s});let m={conv_uid:o,...n,...t,user_input:e,channel:a};if(!(null==m?void 0:m.conv_uid)){v.ZP.error("conv_uid 不存在，请刷新后重试");return}try{await (0,x.L)("".concat(g.env.API_BASE_URL?g.env.API_BASE_URL:"").concat("/api"+l),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m),signal:u.signal,openWhenHidden:!0,async onopen(e){if(s.length<=1){var l;c();let e=new URLSearchParams(window.location.search);e.delete("initMessage"),null===(l=window.history)||void 0===l||l.replaceState(null,"","?".concat(e.toString()))}(!e.ok||e.headers.get("content-type")!==x.a)&&e.status>=400&&e.status<500&&429!==e.status&&e.status},onclose(){console.log("onclose")},onerror(e){throw console.log("onerror"),Error(e)},onmessage:e=>{var l,a,t;if(e.data=null===(l=e.data)||void 0===l?void 0:l.replaceAll("\\n","\n"),"[DONE]"===e.data);else if(null===(a=e.data)||void 0===a?void 0:a.startsWith("[ERROR]"))i({history:[...s,{role:"view",context:null===(t=e.data)||void 0===t?void 0:t.replace("[ERROR]","")}]});else{let l=[...s];e.data&&((null==l?void 0:l[h])?l[h].context="".concat(e.data):l.push({role:"view",context:e.data,model_name:d}),i({history:l}))}}})}catch(e){console.log(e),i({history:[...s,{role:"view",context:"Sorry, We meet some error, please try agin later."}]})}};return{handleChatSubmit:h,history:r.history}},j=a(24339),y=a(14986),w=a(30322),N=a(75913),Z=a(14553),_=a(48699),k=a(13245),C=a(43458),S=a(47556),P=a(87536),B=a(39332),E=a(96486),L=a.n(E),R=a(99513),O=a(2166),U=a(50228),A=a(87547),M=a(35576),z=a(56986),F=a(93179),I=a(51792);let q={overrides:{code:e=>{let{children:l,className:a}=e;return(0,t.jsx)(F.Z,{language:"javascript",style:z.Z,children:l})},img:{props:{className:"my-2 !max-h-none"}},table:{props:{className:"my-2 border-collapse border border-slate-400 dark:border-slate-500 bg-white dark:bg-slate-800 text-sm shadow-sm"}},thead:{props:{className:"bg-slate-50 dark:bg-slate-700"}},th:{props:{className:"border border-slate-300 dark:border-slate-600 font-semibold !p-2 text-slate-900 dark:text-slate-200 !text-left"}},td:{props:{className:"border border-slate-300 dark:border-slate-700 !p-2 text-slate-500 dark:text-slate-400 !text-left"}}},wrapper:n.Fragment,namedCodesToUnicode:{amp:"&",apos:"'",gt:">",lt:"<",nbsp:"\xa0",quot:"“"}};var D=function(e){let{content:l,isChartChat:a,onLinkClick:n}=e,{context:s,model_name:r,role:i}=l,c="view"===i;return(0,t.jsxs)("div",{className:"overflow-x-auto w-full lg:w-4/5 xl:w-3/4 mx-auto flex px-2 py-2 sm:px-4 sm:py-6 rounded-xl ".concat(c?"bg-slate-100 dark:bg-[#353539]":""),children:[(0,t.jsx)("div",{className:"mr-2 flex items-center justify-center h-7 w-7 rounded-full text-lg sm:mr-4",children:c?(0,I.A)(r)||(0,t.jsx)(U.Z,{}):(0,t.jsx)(A.Z,{})}),(0,t.jsxs)("div",{className:"flex-1 items-center text-md leading-7",children:[a&&"object"==typeof s&&(0,t.jsxs)(t.Fragment,{children:["[".concat(s.template_name,"]: "),(0,t.jsx)(O.Z,{sx:{color:"#1677ff"},component:"button",onClick:n,children:s.template_introduce||"More Details"})]}),"string"==typeof s&&(0,t.jsx)(M.Z,{options:q,children:s.replaceAll("\\n","\n")})]})]})},V=e=>{let{messages:l,onSubmit:a,paramsObj:s={},clearInitMessage:r}=e,i=(0,B.useSearchParams)(),c=i&&i.get("initMessage"),o=i&&i.get("spaceNameOriginal"),{currentDialogue:d,scene:u,model:h}=(0,n.useContext)(f.p),m="chat_dashboard"===u,[x,p]=(0,n.useState)(!1),[v,g]=(0,n.useState)(""),[b,E]=(0,n.useState)(!1),[O,U]=(0,n.useState)(),[A,M]=(0,n.useState)(l),[z,F]=(0,n.useState)(""),q=(0,n.useRef)(null),V=(0,n.useMemo)(()=>Object.entries(s).map(e=>{let[l,a]=e;return{key:l,value:a}}),[s]),W=(0,P.cI)(),T=async e=>{let{query:l}=e;try{p(!0),W.reset(),await a(l,{select_param:"chat_excel"===u?null==d?void 0:d.select_param:s[v]})}catch(e){}finally{p(!1)}},H=async()=>{try{var e;let l=new URLSearchParams(window.location.search),a=l.get("initMessage");l.delete("initMessage"),null===(e=window.history)||void 0===e||e.replaceState(null,"","?".concat(l.toString())),await T({query:a})}catch(e){console.log(e)}finally{null==r||r()}},J=e=>{let l=e;try{l=JSON.parse(e)}catch(e){console.log(e)}return l};return(0,n.useEffect)(()=>{q.current&&q.current.scrollTo(0,q.current.scrollHeight)},[null==l?void 0:l.length]),(0,n.useEffect)(()=>{c&&l.length<=0&&H()},[H,c,l.length]),(0,n.useEffect)(()=>{(null==V?void 0:V.length)&&g(o||V[0].value)},[V,null==V?void 0:V.length,o]),(0,n.useEffect)(()=>{if(m){let e=L().cloneDeep(l);e.forEach(e=>{(null==e?void 0:e.role)==="view"&&"string"==typeof(null==e?void 0:e.context)&&(e.context=J(null==e?void 0:e.context))}),M(e.filter(e=>["view","human"].includes(e.role)))}else M(l.filter(e=>["view","human"].includes(e.role)))},[m,l]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{ref:q,className:"flex flex-1 overflow-y-auto pb-8 w-full flex-col",children:(0,t.jsx)("div",{className:"flex items-center flex-1 flex-col text-sm leading-6 text-slate-900 dark:text-slate-300 sm:text-base sm:leading-7",children:null==A?void 0:A.map((e,l)=>(0,t.jsx)(D,{content:e,isChartChat:m,onLinkClick:()=>{E(!0),U(l),F(JSON.stringify(null==e?void 0:e.context,null,2))}},l))})}),(0,t.jsx)("div",{className:"relative after:absolute after:-top-8 after:h-8 after:w-full after:bg-gradient-to-t after:from-white after:to-transparent dark:after:from-[#212121]",children:(0,t.jsxs)("form",{className:"flex flex-wrap w-full lg:w-4/5 xl:w-3/4 mx-auto py-2 sm:pt-6 sm:pb-10",onSubmit:e=>{e.stopPropagation(),W.handleSubmit(T)(e)},children:[!!(null==V?void 0:V.length)&&(0,t.jsx)("div",{className:"flex items-center max-w-[6rem] sm:max-w-[12rem] h-12 mr-2 mb-2",children:(0,t.jsx)(y.Z,{className:"h-full w-full",value:v,onChange:(e,l)=>{g(null!=l?l:"")},children:V.map(e=>(0,t.jsx)(w.Z,{value:e.value,children:e.key},e.key))})}),(0,t.jsx)(N.ZP,{disabled:"chat_excel"===u&&!(null==d?void 0:d.select_param),className:"flex-1 h-12",variant:"outlined",startDecorator:(0,I.A)(h||""),endDecorator:(0,t.jsx)(Z.ZP,{type:"submit",children:x?(0,t.jsx)(_.Z,{}):(0,t.jsx)(j.Z,{})}),...W.register("query")})]})}),(0,t.jsx)(k.Z,{open:b,onClose:()=>{E(!1)},children:(0,t.jsxs)(C.Z,{className:"w-1/2 h-[600px] flex items-center justify-center","aria-labelledby":"variant-modal-title","aria-describedby":"variant-modal-description",children:[(0,t.jsx)(R.Z,{className:"w-full h-[500px]",language:"json",value:z}),(0,t.jsx)(S.Z,{variant:"outlined",className:"w-full mt-2",onClick:()=>E(!1),children:"OK"})]})})]})},W=a(63012);function T(e){let{key:l,chart:a}=e;return(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsx)(s.Z,{className:"h-full",sx:{background:"transparent"},children:(0,t.jsxs)(o.Z,{className:"h-full",children:[(0,t.jsx)(d.ZP,{gutterBottom:!0,component:"div",children:a.chart_name}),(0,t.jsx)(d.ZP,{gutterBottom:!0,level:"body3",children:a.chart_desc}),(0,t.jsx)("div",{className:"h-[300px]",children:(0,t.jsx)(W.Chart,{autoFit:!0,data:a.values,children:(0,t.jsx)(W.LineAdvance,{shape:"smooth",point:!0,area:!0,position:"name*value",color:"type"})})})]})})},l)}function H(e){let{key:l,chart:a}=e;return(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsx)(s.Z,{className:"h-full",sx:{background:"transparent"},children:(0,t.jsxs)(o.Z,{className:"h-full",children:[(0,t.jsx)(d.ZP,{gutterBottom:!0,component:"div",children:a.chart_name}),(0,t.jsx)(d.ZP,{gutterBottom:!0,level:"body3",children:a.chart_desc}),(0,t.jsx)("div",{className:"h-[300px]",children:(0,t.jsxs)(W.Chart,{autoFit:!0,data:a.values,children:[(0,t.jsx)(W.Interval,{position:"name*value",style:{lineWidth:3,stroke:(0,W.getTheme)().colors10[0]}}),(0,t.jsx)(W.Tooltip,{shared:!0})]})})]})})},l)}var J=a(61685);function $(e){var l,a;let{key:n,chart:r}=e,i=(0,E.groupBy)(r.values,"type");return(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsx)(s.Z,{className:"h-full overflow-auto",sx:{background:"transparent"},children:(0,t.jsxs)(o.Z,{className:"h-full",children:[(0,t.jsx)(d.ZP,{gutterBottom:!0,component:"div",children:r.chart_name}),"\xb7",(0,t.jsx)(d.ZP,{gutterBottom:!0,level:"body3",children:r.chart_desc}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)(J.Z,{"aria-label":"basic table",stripe:"odd",hoverRow:!0,borderAxis:"bothBetween",children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{children:Object.keys(i).map(e=>(0,t.jsx)("th",{children:e},e))})}),(0,t.jsx)("tbody",{children:null===(l=Object.values(i))||void 0===l?void 0:null===(a=l[0])||void 0===a?void 0:a.map((e,l)=>{var a;return(0,t.jsx)("tr",{children:null===(a=Object.keys(i))||void 0===a?void 0:a.map(e=>{var a;return(0,t.jsx)("td",{children:(null==i?void 0:null===(a=i[e])||void 0===a?void 0:a[l].value)||""},e)})},l)})})]})})]})})},n)}var G=a(43893),K=a(45247),Q=a(94139),X=a(65170),Y=a(71577),ee=a(69814),el=a(49591),ea=a(88484),et=a(29158),en=function(e){var l;let{convUid:a,chatMode:s,onComplete:r,...i}=e,[c,o]=(0,n.useState)(!1),[d,u]=(0,n.useState)([]),[h,m]=(0,n.useState)(),[x,p]=(0,n.useState)(),{model:g}=(0,n.useContext)(f.p),b=async e=>{var l;if(!e){v.ZP.error("Please select the *.(csv|xlsx|xls) file");return}if(!/\.(csv|xlsx|xls)$/.test(null!==(l=e.file.name)&&void 0!==l?l:"")){v.ZP.error("File type must be csv, xlsx or xls");return}u([e.file])},j=async()=>{o(!0),p("normal");try{let e=new FormData;e.append("doc_file",d[0]);let[l]=await (0,G.Vx)((0,G.qn)({convUid:a,chatMode:s,data:e,model:g,config:{timeout:36e5,onUploadProgress:e=>{let l=Math.ceil(e.loaded/(e.total||0)*100);m(l)}}}));if(l)return;v.ZP.success("success"),p("success"),null==r||r()}catch(e){p("exception"),v.ZP.error((null==e?void 0:e.message)||"Upload Error")}finally{o(!1)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"h-full flex items-start",children:[(0,t.jsx)(Q.Z,{placement:"topLeft",title:"Files cannot be changed after upload",children:(0,t.jsx)(X.default,{disabled:c,className:"mr-1",beforeUpload:()=>!1,fileList:d,name:"file",accept:".csv,.xlsx,.xls",multiple:!1,onChange:b,showUploadList:{showDownloadIcon:!1,showPreviewIcon:!1,showRemoveIcon:!1},itemRender:()=>(0,t.jsx)(t.Fragment,{}),...i,children:(0,t.jsx)(Y.ZP,{className:"flex justify-center items-center dark:bg-[#4e4f56] dark:text-gray-200",disabled:c,icon:(0,t.jsx)(el.Z,{}),children:"Select File"})})}),(0,t.jsx)(Y.ZP,{type:"primary",loading:c,className:"flex justify-center items-center dark:text-white",disabled:!d.length,icon:(0,t.jsx)(ea.Z,{}),onClick:j,children:c?100===h?"Analysis":"Uploading":"Upload"})]}),!!d.length&&(0,t.jsxs)("div",{className:"mt-2 text-gray-500 text-sm flex items-center",children:[(0,t.jsx)(et.Z,{className:"mr-2"}),(0,t.jsx)("span",{children:null===(l=d[0])||void 0===l?void 0:l.name})]}),"number"==typeof h&&(0,t.jsx)(ee.Z,{className:"mb-0",percent:h,size:"small",status:x})]})},es=function(e){let{onComplete:l}=e,{currentDialogue:a,scene:s,chatId:r}=(0,n.useContext)(f.p);return"chat_excel"!==s?null:(0,t.jsx)("div",{className:"max-w-xs h-full",children:a?(0,t.jsxs)("div",{className:"h-full flex overflow-hidden rounded",children:[(0,t.jsx)("div",{className:"h-full flex items-center justify-center px-3 py-2 bg-gray-600",children:(0,t.jsx)(et.Z,{className:"text-white"})}),(0,t.jsx)("div",{className:"h-full bg-gray-100 px-3 py-2 text-xs rounded-tr rounded-br dark:text-gray-800 truncate",children:a.select_param})]}):(0,t.jsx)(en,{convUid:r,chatMode:s,onComplete:l})})},er=a(25709),ei=a(43927);function ec(){let{isContract:e,setIsContract:l,scene:a}=(0,n.useContext)(f.p),s=a&&["chat_with_db_execute","chat_dashboard"].includes(a);return s?(0,t.jsx)("div",{className:"leading-[3rem] text-right h-12 flex justify-center",children:(0,t.jsx)("div",{className:"flex items-center cursor-pointer",children:(0,t.jsxs)("div",{className:"relative w-56 h-10 mx-auto p-2 flex justify-center items-center bg-[#ece9e0] rounded-3xl model-tab dark:text-violet-600 z-10 ".concat(e?"editor-tab":""),children:[(0,t.jsxs)("div",{className:"z-10 w-[50%] text-center cursor-pointer",onClick:()=>{l(!1)},children:[(0,t.jsx)("span",{children:"Preview"}),(0,t.jsx)(ei.Z,{className:"ml-1"})]}),(0,t.jsxs)("div",{className:"z-10 w-[50%] text-center cursor-pointer",onClick:()=>{l(!0)},children:[(0,t.jsx)("span",{children:"Editor"}),(0,t.jsx)(er.Z,{className:"ml-1"})]})]})})}):null}a(23293);var eo=function(e){let{refreshHistory:l,modelChange:a,selectedModel:s}=e,{refreshDialogList:r,model:i}=(0,n.useContext)(f.p);return(0,t.jsxs)("div",{className:"w-full py-4 flex items-center justify-center border-b border-gray-100 gap-5",children:[(0,t.jsx)(es,{onComplete:()=>{null==r||r(),null==l||l()}}),(0,t.jsx)(I.Z,{size:"sm",onChange:a}),(0,t.jsx)(ec,{})]})};let ed=()=>(0,t.jsxs)(s.Z,{className:"h-full w-full flex bg-transparent",children:[(0,t.jsx)(r.Z,{animation:"wave",variant:"text",level:"body2"}),(0,t.jsx)(r.Z,{animation:"wave",variant:"text",level:"body2"}),(0,t.jsx)(i.Z,{ratio:"21/9",className:"flex-1",sx:{["& .".concat(c.Z.content)]:{height:"100%"}},children:(0,t.jsx)(r.Z,{variant:"overlay",className:"h-full"})})]});var eu=()=>{(0,B.useSearchParams)();let[e,l]=(0,n.useState)(!1),[a,r]=(0,n.useState)(),{refreshDialogList:i,scene:c,chatId:x,model:p,setModel:v}=(0,n.useContext)(f.p),{data:g=[],run:j}=(0,m.Z)(async()=>{l(!0);let[,e]=await (0,G.Vx)((0,G.$i)(x));l(!1);let a=(e||[]).filter(e=>"view"===e.role).slice(-1)[0];return a.model_name&&v(a.model_name),null!=e?e:[]},{ready:!!x,refreshDeps:[x]}),{history:y,handleChatSubmit:w}=b({queryAgentURL:"/v1/chat/completions",queryBody:{conv_uid:x,chat_mode:c||"chat_normal",model_name:p},initHistory:g}),{data:N={}}=(0,m.Z)(async()=>{let[,e]=await (0,G.Vx)((0,G.vD)(c));return null!=e?e:{}},{ready:!!c,refreshDeps:[x,c]});(0,n.useEffect)(()=>{if(y&&!(y.length<1))try{var e;let l=null==y?void 0:null===(e=y[y.length-1])||void 0===e?void 0:e.context,a=JSON.parse(l);r((null==a?void 0:a.template_name)==="report"?null==a?void 0:a.charts:void 0)}catch(e){r(void 0)}},[y]);let Z=(0,n.useMemo)(()=>{if(a){let e=[],l=null==a?void 0:a.filter(e=>"IndicatorValue"===e.chart_type);l.length>0&&e.push({charts:l,type:"IndicatorValue"});let t=null==a?void 0:a.filter(e=>"IndicatorValue"!==e.chart_type),n=t.length,s=0;return[[0],[1],[2],[1,2],[1,3],[2,1,2],[2,1,3],[3,1,3],[3,2,3]][n].forEach(l=>{if(l>0){let a=t.slice(s,s+l);s+=l,e.push({charts:a})}}),e}},[a]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eo,{selectedModel:p,refreshHistory:j,modelChange:e=>{v(e)}}),(0,t.jsx)(K.Z,{visible:e}),(0,t.jsxs)("div",{className:"px-4 flex flex-1 overflow-hidden",children:[a&&(0,t.jsx)("div",{className:"w-3/4",children:(0,t.jsx)("div",{className:"flex flex-col gap-3 h-full",children:null==Z?void 0:Z.map((e,l)=>(0,t.jsx)("div",{className:"".concat((null==e?void 0:e.type)!=="IndicatorValue"?"flex gap-3":""),children:e.charts.map(e=>"IndicatorValue"===e.chart_type?(0,t.jsx)("div",{className:"flex flex-row gap-3",children:e.values.map(e=>(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(s.Z,{sx:{background:"transparent"},children:(0,t.jsxs)(o.Z,{className:"justify-around",children:[(0,t.jsx)(d.ZP,{gutterBottom:!0,component:"div",children:e.name}),(0,t.jsx)(d.ZP,{children:e.value})]})})},e.name))},e.chart_uid):"LineChart"===e.chart_type?(0,t.jsx)(T,{chart:e},e.chart_uid):"BarChart"===e.chart_type?(0,t.jsx)(H,{chart:e},e.chart_uid):"Table"===e.chart_type?(0,t.jsx)($,{chart:e},e.chart_uid):void 0)},"chart_row_".concat(l)))})}),!a&&"chat_dashboard"===c&&(0,t.jsx)("div",{className:"w-3/4 p-6",children:(0,t.jsx)("div",{className:"flex flex-col gap-3 h-full",children:(0,t.jsxs)(u.Z,{container:!0,spacing:2,sx:{flexGrow:1},children:[(0,t.jsx)(u.Z,{xs:8,children:(0,t.jsx)(h.Z,{className:"h-full w-full",sx:{display:"flex",gap:2},children:(0,t.jsx)(ed,{})})}),(0,t.jsx)(u.Z,{xs:4,children:(0,t.jsx)(ed,{})}),(0,t.jsx)(u.Z,{xs:4,children:(0,t.jsx)(ed,{})}),(0,t.jsx)(u.Z,{xs:8,children:(0,t.jsx)(ed,{})})]})})}),(0,t.jsx)("div",{className:"".concat("chat_dashboard"===c?"w-1/3":"w-full"," flex flex-1 flex-col h-full"),children:(0,t.jsx)(V,{clearInitMessage:async()=>{await i()},messages:y,onSubmit:w,paramsObj:N})})]})]})}},51792:function(e,l,a){"use strict";a.d(l,{A:function(){return x}});var t=a(85893),n=a(41468),s=a(14986),r=a(30322),i=a(94184),c=a.n(i),o=a(25675),d=a.n(o),u=a(67294),h=a(67421);let m={proxyllm:{label:"Proxy LLM",icon:"/models/chatgpt.png"},"flan-t5-base":{label:"flan-t5-base",icon:"/models/google.png"},"vicuna-13b":{label:"vicuna-13b",icon:"/models/vicuna.jpeg"},"vicuna-7b":{label:"vicuna-7b",icon:"/models/vicuna.jpeg"},"vicuna-13b-v1.5":{label:"vicuna-13b-v1.5",icon:"/models/vicuna.jpeg"},"vicuna-7b-v1.5":{label:"vicuna-7b-v1.5",icon:"/models/vicuna.jpeg"},"codegen2-1b":{label:"codegen2-1B",icon:"/models/vicuna.jpeg"},"codet5p-2b":{label:"codet5p-2b",icon:"/models/vicuna.jpeg"},"chatglm-6b-int4":{label:"chatglm-6b-int4",icon:"/models/chatglm.png"},"chatglm-6b":{label:"chatglm-6b",icon:"/models/chatglm.png"},"chatglm2-6b":{label:"chatglm2-6b",icon:"/models/chatglm.png"},"chatglm2-6b-int4":{label:"chatglm2-6b-int4",icon:"/models/chatglm.png"},"guanaco-33b-merged":{label:"guanaco-33b-merged",icon:"/models/huggingface.svg"},"falcon-40b":{label:"falcon-40b",icon:"/models/falcon.jpeg"},"gorilla-7b":{label:"gorilla-7b",icon:"/models/gorilla.png"},"gptj-6b":{label:"ggml-gpt4all-j-v1.3-groovy.bin",icon:""},chatgpt_proxyllm:{label:"chatgpt_proxyllm",icon:"/models/chatgpt.png"},bard_proxyllm:{label:"bard_proxyllm",icon:"/models/bard.gif"},claude_proxyllm:{label:"claude_proxyllm",icon:"/models/claude.png"},wenxin_proxyllm:{label:"wenxin_proxyllm",icon:""},tongyi_proxyllm:{label:"tongyi_proxyllm",icon:"/models/qwen2.png"},zhipu_proxyllm:{label:"zhipu_proxyllm",icon:"/models/zhipu.png"},"llama-2-7b":{label:"Llama-2-7b-chat-hf",icon:"/models/llama.jpg"},"llama-2-13b":{label:"Llama-2-13b-chat-hf",icon:"/models/llama.jpg"},"llama-2-70b":{label:"Llama-2-70b-chat-hf",icon:"/models/llama.jpg"},"baichuan-13b":{label:"Baichuan-13B-Chat",icon:"/models/baichuan.png"},"baichuan-7b":{label:"baichuan-7b",icon:"/models/baichuan.png"},"baichuan2-7b":{label:"Baichuan2-7B-Chat",icon:"/models/baichuan.png"},"baichuan2-13b":{label:"Baichuan2-13B-Chat",icon:"/models/baichuan.png"},"wizardlm-13b":{label:"WizardLM-13B-V1.2",icon:"/models/wizardlm.png"},"llama-cpp":{label:"ggml-model-q4_0.bin",icon:"/models/huggingface.svg"}};function x(e){var l;return e?(0,t.jsx)(d(),{className:"rounded-full mr-2 border border-gray-200 object-contain bg-white",width:24,height:24,src:null===(l=m[e])||void 0===l?void 0:l.icon,alt:"llm"}):null}l.Z=function(e){let{size:l,onChange:a}=e,{t:i}=(0,h.$G)(),{modelList:o,model:d}=(0,u.useContext)(n.p);return!o||o.length<=0?null:(0,t.jsx)("div",{className:c()({"w-48":"sm"===l||"md"===l||!l,"w-60":"lg"===l}),children:(0,t.jsx)(s.Z,{size:l||"sm",placeholder:i("choose_model"),value:d||"",renderValue:function(e){return e?(0,t.jsxs)(t.Fragment,{children:[x(e.value),e.label]}):null},onChange:(e,l)=>{l&&(null==a||a(l))},children:o.map(e=>{var l;return(0,t.jsxs)(r.Z,{value:e,children:[x(e),(null===(l=m[e])||void 0===l?void 0:l.label)||e]},"model_".concat(e))})})})}},99513:function(e,l,a){"use strict";a.d(l,{Z:function(){return o}});var t=a(85893),n=a(63764),s=a(94184),r=a.n(s),i=a(67294),c=a(36782);function o(e){let{className:l,value:a,language:s="mysql",onChange:o,thoughts:d}=e,u=(0,i.useMemo)(()=>"mysql"!==s?a:d&&d.length>0?(0,c.WU)("-- ".concat(d," \n").concat(a)):(0,c.WU)(a),[a,d]);return(0,t.jsx)(n.ZP,{className:r()(l),value:u,language:s,onChange:o,theme:"vs-dark",options:{minimap:{enabled:!1},wordWrap:"on"}})}},45247:function(e,l,a){"use strict";var t=a(85893),n=a(48699);l.Z=function(e){let{visible:l}=e;return l?(0,t.jsx)("div",{className:"absolute w-full h-full top-0 left-0 flex justify-center items-center z-10 bg-white dark:bg-black bg-opacity-50 dark:bg-opacity-50",children:(0,t.jsx)(n.Z,{variant:"plain"})}):null}},23293:function(){}}]);